INFO     2022-12-13 06:19:31.166 request id: app - uvicorn.server:serve - Started server process [22872]
INFO     2022-12-13 06:19:31.167 request id: app - uvicorn.server:serve - Started server process [22872]
INFO     2022-12-13 06:19:31.167 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-12-13 06:19:31.168 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-12-13 06:19:31.168 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-12-13 06:19:31.169 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-12-13 06:19:50.599 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-12-13 06:19:50.599 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-12-13 06:19:50.708 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-12-13 06:19:50.708 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-12-13 06:19:50.709 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-12-13 06:19:50.709 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-12-13 06:19:50.710 request id: app - uvicorn.server:serve - Finished server process [22872]
INFO     2022-12-13 06:19:50.710 request id: app - uvicorn.server:serve - Finished server process [22872]
INFO     2022-12-13 06:27:24.603 request id: app - uvicorn.server:serve - Started server process [11504]
INFO     2022-12-13 06:27:24.603 request id: app - uvicorn.server:serve - Started server process [11504]
INFO     2022-12-13 06:27:24.603 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-12-13 06:27:24.603 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-12-13 06:27:24.604 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-12-13 06:27:24.604 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-12-13 06:27:27.728 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:61262 - "GET /redoc HTTP/1.1" 200
INFO     2022-12-13 06:27:28.011 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:61262 - "GET /docs HTTP/1.1" 200
INFO     2022-12-13 06:27:28.423 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:61262 - "GET /api/v1/openapi.json HTTP/1.1" 200
INFO     2022-12-13 06:27:36.266 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:61263 - "POST /api/v1/login/access-token HTTP/1.1" 402
INFO     2022-12-13 06:28:46.524 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-12-13 06:28:46.524 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-12-13 06:28:46.634 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-12-13 06:28:46.635 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-12-13 06:28:46.635 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-12-13 06:28:46.636 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-12-13 06:28:46.636 request id: app - uvicorn.server:serve - Finished server process [11504]
INFO     2022-12-13 06:28:46.636 request id: app - uvicorn.server:serve - Finished server process [11504]
INFO     2022-12-13 06:29:46.802 request id: app - uvicorn.server:serve - Started server process [19412]
INFO     2022-12-13 06:29:46.803 request id: app - uvicorn.server:serve - Started server process [19412]
INFO     2022-12-13 06:29:46.803 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-12-13 06:29:46.804 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-12-13 06:29:46.805 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-12-13 06:29:46.805 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-12-13 06:29:48.497 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:61311 - "POST /api/v1/login/access-token HTTP/1.1" 402
INFO     2022-12-13 06:29:52.952 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:61311 - "POST /api/v1/login/access-token HTTP/1.1" 200
INFO     2022-12-13 06:29:57.109 request id: app - backend.app.api.deps:get_current_user_async - START
INFO     2022-12-13 06:29:57.111 request id: app - backend.app.api.deps:get_session_user - get_session_user: postgres
INFO     2022-12-13 06:29:57.112 request id: app - backend.app.api.deps:reset_session_user - RESET_session_user
INFO     2022-12-13 06:29:57.115 request id: app - backend.app.api.deps:get_session_user - get_session_user: postgres
INFO     2022-12-13 06:29:57.118 request id: app - backend.app.api.deps:check_rolname - check_rolname: ka52 role not exist
INFO     2022-12-13 06:29:57.157 request id: app - backend.app.api.deps:create_user_in_role - CREATE_user_in_role: ka52
INFO     2022-12-13 06:29:57.158 request id: app - backend.app.api.deps:reset_session_user - RESET_session_user
INFO     2022-12-13 06:29:57.161 request id: app - backend.app.api.deps:get_session_user - get_session_user: postgres
INFO     2022-12-13 06:29:57.162 request id: app - backend.app.api.deps:set_session_user - SET_session_user: ka52
INFO     2022-12-13 06:29:57.165 request id: app - backend.app.api.deps:get_session_user - get_session_user: ka52
INFO     2022-12-13 06:29:57.165 request id: app - backend.app.api.deps:get_current_user_async - END
INFO     2022-12-13 06:29:57.175 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:61311 - "GET /api/v1/users/?sort=%5B%22id%22%2C%20%22ASC%22%5D&range=%5B0%2C%2010%5D HTTP/1.1" 500
ERROR    2022-12-13 06:29:57.176 request id: app - uvicorn.protocols.http.h11_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 442, in _prepare_and_execute
    self._rows = await prepared_stmt.fetch(*parameters)
    │    │             │             │      └ ()
    │    │             │             └ <function PreparedStatement.fetch at 0x000001F80475CCA0>
    │    │             └ <asyncpg.prepared_stmt.PreparedStatement object at 0x000001F804D62700>
    │    └ <member '_rows' of 'AsyncAdapt_asyncpg_cursor' objects>
    └ <sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_cursor object at 0x000001F804CDCF90>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\asyncpg\prepared_stmt.py", line 176, in fetch
    data = await self.__bind_execute(args, 0, timeout)
                 │                   │        └ None
                 │                   └ ()
                 └ <asyncpg.prepared_stmt.PreparedStatement object at 0x000001F804D62700>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\asyncpg\prepared_stmt.py", line 241, in __bind_execute
    data, status, _ = await self.__do_execute(
                            └ <asyncpg.prepared_stmt.PreparedStatement object at 0x000001F804D62700>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\asyncpg\prepared_stmt.py", line 230, in __do_execute
    return await executor(protocol)
                 │        └ <asyncpg.protocol.protocol.Protocol object at 0x000001F80482D900>
                 └ <function PreparedStatement.__bind_execute.<locals>.<lambda> at 0x000001F804D8D1B0>

  File "asyncpg\protocol\protocol.pyx", line 201, in bind_execute

asyncpg.exceptions.InsufficientPrivilegeError: permission denied for table user


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\sqlalchemy\engine\base.py", line 1900, in _execute_context
    self.dialect.do_execute(
    │    │       └ <function DefaultDialect.do_execute at 0x000001F80309CCA0>
    │    └ <sqlalchemy.dialects.postgresql.asyncpg.PGDialect_asyncpg object at 0x000001F8049F70D0>
    └ <sqlalchemy.future.engine.Connection object at 0x000001F804D7D060>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\sqlalchemy\engine\default.py", line 736, in do_execute
    cursor.execute(statement, parameters)
    │      │       │          └ ()
    │      │       └ 'SELECT count("user".id) AS count_1 \nFROM "user"'
    │      └ <function AsyncAdapt_asyncpg_cursor.execute at 0x000001F80313D5A0>
    └ <sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_cursor object at 0x000001F804CDCF90>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 479, in execute
    self._adapt_connection.await_(
    │    └ <member '_adapt_connection' of 'AsyncAdapt_asyncpg_cursor' objects>
    └ <sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_cursor object at 0x000001F804CDCF90>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 68, in await_only
    return current.driver.switch(awaitable)
           │                     └ <coroutine object AsyncAdapt_asyncpg_cursor._prepare_and_execute at 0x000001F804CDC3C0>
           └ <_AsyncIoGreenlet object at 0x000001F804AD4280 (otid=0x000001F802BE6E50) dead>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 121, in greenlet_spawn
    value = await result
                  └ <coroutine object AsyncAdapt_asyncpg_cursor._prepare_and_execute at 0x000001F804CDC3C0>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 454, in _prepare_and_execute
    self._handle_exception(error)
    │    └ <function AsyncAdapt_asyncpg_cursor._handle_exception at 0x000001F80313D360>
    └ <sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_cursor object at 0x000001F804CDCF90>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 389, in _handle_exception
    self._adapt_connection._handle_exception(error)
    │    │                                   └ InsufficientPrivilegeError('permission denied for table user')
    │    └ <member '_adapt_connection' of 'AsyncAdapt_asyncpg_cursor' objects>
    └ <sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_cursor object at 0x000001F804CDCF90>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 682, in _handle_exception
    raise translated_error from error
          │                     └ InsufficientPrivilegeError('permission denied for table user')
          └ ProgrammingError("<class 'asyncpg.exceptions.InsufficientPrivilegeError'>: permission denied for table user")

sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.ProgrammingError: <class 'asyncpg.exceptions.InsufficientPrivilegeError'>: permission denied for table user


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\R\AppData\Local\Programs\Python\Python310\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 332
               │     └ 3
               └ <function _main at 0x000001F80084E290>

  File "C:\Users\R\AppData\Local\Programs\Python\Python310\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 332
           │    └ <function BaseProcess._bootstrap at 0x000001F8007B00D0>
           └ <SpawnProcess name='SpawnProcess-1' parent=3240 started>

  File "C:\Users\R\AppData\Local\Programs\Python\Python310\lib\multiprocessing\process.py", line 314, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x000001F8007A76D0>
    └ <SpawnProcess name='SpawnProcess-1' parent=3240 started>

  File "C:\Users\R\AppData\Local\Programs\Python\Python310\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000001F800713910>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-1' parent=3240 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-1' parent=3240 started>
    │    └ <function subprocess_started at 0x000001F802AD1750>
    └ <SpawnProcess name='SpawnProcess-1' parent=3240 started>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\uvicorn\_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=720, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000001F800713010>>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\uvicorn\server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=720, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 8000)>]
           │       │   │    └ <function Server.serve at 0x000001F802AAE320>
           │       │   └ <uvicorn.server.Server object at 0x000001F800713010>
           │       └ <function run at 0x000001F8023A4AF0>
           └ <module 'asyncio' from 'C:\\Users\\R\\AppData\\Local\\Programs\\Python\\Python310\\lib\\asyncio\\__init__.py'>

  File "C:\Users\R\AppData\Local\Programs\Python\Python310\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x000001F802AC1070>
           │    └ <function BaseEventLoop.run_until_complete at 0x000001F8023A64D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\R\AppData\Local\Programs\Python\Python310\lib\asyncio\base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001F8023A6440>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\R\AppData\Local\Programs\Python\Python310\lib\asyncio\base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001F8023A7F40>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\R\AppData\Local\Programs\Python\Python310\lib\asyncio\base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001F800BAF7F0>
    └ <Handle Task.task_wakeup(<Future finis...lt='ROLLBACK'>)>

  File "C:\Users\R\AppData\Local\Programs\Python\Python310\lib\asyncio\events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finis...lt='ROLLBACK'>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finis...lt='ROLLBACK'>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finis...lt='ROLLBACK'>)>

> File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\uvicorn\protocols\http\h11_impl.py", line 407, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001F802ADD060>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x000001F804D7D7B0>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x000001F804D7D...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x000001F8007D2D70>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001F802ADD060>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x000001F804D7D7B0>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x000001F804D7D...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x000001F804D7D7B0>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x000001F804D7D...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001F804BA7940>
          └ <fastapi.applications.FastAPI object at 0x000001F8007D2D70>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\starlette\middleware\errors.py", line 184, in __call__
    raise exc

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\starlette\middleware\errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001F804BDF520>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x000001F804D7D...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000001F804BA7850>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001F804BA7940>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\starlette\middleware\cors.py", line 84, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001F804BDF520>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x000001F804D7D...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001F804BA7820>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000001F804BA7850>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\starlette\middleware\exceptions.py", line 79, in __call__
    raise exc

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\starlette\middleware\exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x000001F804CCA050>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x000001F804D7D...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x000001F804BA77C0>
          └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001F804BA7820>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x000001F804CCA050>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x000001F804D7D...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x000001F802ADCB50>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x000001F804BA77C0>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\starlette\routing.py", line 706, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x000001F804CCA050>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x000001F804D7D...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │     └ <function Route.handle at 0x000001F8045A3760>
          └ APIRoute(path='/api/v1/users/', name='read_users', methods=['GET'])

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\starlette\routing.py", line 276, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x000001F804CCA050>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x000001F804D7D...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function request_response.<locals>.app at 0x000001F804BDD480>
          └ APIRoute(path='/api/v1/users/', name='read_users', methods=['GET'])

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\starlette\routing.py", line 66, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x000001F804C71690>
                     └ <function get_request_handler.<locals>.app at 0x000001F804BDD510>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\fastapi\routing.py", line 235, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x000001F8045A23B0>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\fastapi\routing.py", line 161, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <sqlalchemy.orm.session.AsyncSession object at 0x000001F804C93DF0>, 'current_user': <backend.app.db.models.User object...
                 │         └ <function read_users at 0x000001F804A25870>
                 └ <fastapi.dependencies.models.Dependant object at 0x000001F804BF8880>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\.\backend\app\api\api_v1\endpoints\users.py", line 30, in read_users
    users, total = await crud.user.get_multi(db, request_params)
                         │    │    │         │   └ RequestParams(skip=0, limit=11, order_by=<sqlalchemy.sql.elements.UnaryExpression object at 0x000001F804D7EAA0>, filter_by=None)
                         │    │    │         └ <sqlalchemy.orm.session.AsyncSession object at 0x000001F804C93DF0>
                         │    │    └ <function CRUDBase.get_multi at 0x000001F8046C8040>
                         │    └ <backend.app.crud.user.CRUDUser object at 0x000001F8046B8970>
                         └ <module 'backend.app.crud' from 'C:\\Users\\R\\PycharmProjects\\fastapi-react-crm-backend\\.\\backend\\app\\crud\\__init__.py'>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\.\backend\app\crud\base.py", line 46, in get_multi
    total: Result = await db.execute(query_count)
                          │  │       └ <sqlalchemy.sql.selectable.Select object at 0x000001F804D7E530>
                          │  └ <function AsyncSession.execute at 0x000001F80465B760>
                          └ <sqlalchemy.orm.session.AsyncSession object at 0x000001F804C93DF0>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\sqlalchemy\ext\asyncio\session.py", line 214, in execute
    result = await greenlet_spawn(
                   └ <function greenlet_spawn at 0x000001F802C43C70>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 126, in greenlet_spawn
    result = context.throw(*sys.exc_info())
             │       │      │   └ <built-in function exc_info>
             │       │      └ <module 'sys' (built-in)>
             │       └ <method 'throw' of 'greenlet.greenlet' objects>
             └ <_AsyncIoGreenlet object at 0x000001F804AD4280 (otid=0x000001F802BE6E50) dead>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\sqlalchemy\orm\session.py", line 1714, in execute
    result = conn._execute_20(statement, params or {}, execution_options)
             │    │           │          │             └ immutabledict({'prebuffer_rows': True, '_result_disable_adapt_to_context': True, 'future_result': True})
             │    │           │          └ None
             │    │           └ <sqlalchemy.sql.selectable.Select object at 0x000001F804D7E530>
             │    └ <function Connection._execute_20 at 0x000001F802FD7910>
             └ <sqlalchemy.future.engine.Connection object at 0x000001F804D7D060>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\sqlalchemy\engine\base.py", line 1705, in _execute_20
    return meth(self, args_10style, kwargs_10style, execution_options)
           │    │     │             │               └ immutabledict({'prebuffer_rows': True, '_result_disable_adapt_to_context': True, 'future_result': True})
           │    │     │             └ immutabledict({})
           │    │     └ ({},)
           │    └ <sqlalchemy.future.engine.Connection object at 0x000001F804D7D060>
           └ <bound method ClauseElement._execute_on_connection of <sqlalchemy.sql.selectable.Select object at 0x000001F804D7E530>>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\sqlalchemy\sql\elements.py", line 334, in _execute_on_connection
    return connection._execute_clauseelement(
           │          └ <function Connection._execute_clauseelement at 0x000001F802FD7760>
           └ <sqlalchemy.future.engine.Connection object at 0x000001F804D7D060>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\sqlalchemy\engine\base.py", line 1572, in _execute_clauseelement
    ret = self._execute_context(
          │    └ <function Connection._execute_context at 0x000001F802FD7A30>
          └ <sqlalchemy.future.engine.Connection object at 0x000001F804D7D060>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\sqlalchemy\engine\base.py", line 1943, in _execute_context
    self._handle_dbapi_exception(
    │    └ <function Connection._handle_dbapi_exception at 0x000001F802FD7BE0>
    └ <sqlalchemy.future.engine.Connection object at 0x000001F804D7D060>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\sqlalchemy\engine\base.py", line 2124, in _handle_dbapi_exception
    util.raise_(
    │    └ <function raise_ at 0x000001F802C01120>
    └ <module 'sqlalchemy.util' from 'C:\\Users\\R\\PycharmProjects\\fastapi-react-crm-backend\\venv\\lib\\site-packages\\sqlalchem...

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\sqlalchemy\util\compat.py", line 211, in raise_
    raise exception

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\sqlalchemy\engine\base.py", line 1900, in _execute_context
    self.dialect.do_execute(
    │    │       └ <function DefaultDialect.do_execute at 0x000001F80309CCA0>
    │    └ <sqlalchemy.dialects.postgresql.asyncpg.PGDialect_asyncpg object at 0x000001F8049F70D0>
    └ <sqlalchemy.future.engine.Connection object at 0x000001F804D7D060>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\sqlalchemy\engine\default.py", line 736, in do_execute
    cursor.execute(statement, parameters)
    │      │       │          └ ()
    │      │       └ 'SELECT count("user".id) AS count_1 \nFROM "user"'
    │      └ <function AsyncAdapt_asyncpg_cursor.execute at 0x000001F80313D5A0>
    └ <sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_cursor object at 0x000001F804CDCF90>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 479, in execute
    self._adapt_connection.await_(
    │    └ <member '_adapt_connection' of 'AsyncAdapt_asyncpg_cursor' objects>
    └ <sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_cursor object at 0x000001F804CDCF90>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 68, in await_only
    return current.driver.switch(awaitable)
           │                     └ <coroutine object AsyncAdapt_asyncpg_cursor._prepare_and_execute at 0x000001F804CDC3C0>
           └ <_AsyncIoGreenlet object at 0x000001F804AD4280 (otid=0x000001F802BE6E50) dead>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 121, in greenlet_spawn
    value = await result
                  └ <coroutine object AsyncAdapt_asyncpg_cursor._prepare_and_execute at 0x000001F804CDC3C0>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 454, in _prepare_and_execute
    self._handle_exception(error)
    │    └ <function AsyncAdapt_asyncpg_cursor._handle_exception at 0x000001F80313D360>
    └ <sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_cursor object at 0x000001F804CDCF90>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 389, in _handle_exception
    self._adapt_connection._handle_exception(error)
    │    │                                   └ InsufficientPrivilegeError('permission denied for table user')
    │    └ <member '_adapt_connection' of 'AsyncAdapt_asyncpg_cursor' objects>
    └ <sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_cursor object at 0x000001F804CDCF90>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 682, in _handle_exception
    raise translated_error from error
          │                     └ InsufficientPrivilegeError('permission denied for table user')
          └ ProgrammingError("<class 'asyncpg.exceptions.InsufficientPrivilegeError'>: permission denied for table user")

sqlalchemy.exc.ProgrammingError: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.InsufficientPrivilegeError'>: permission denied for table user
[SQL: SELECT count("user".id) AS count_1 
FROM "user"]
(Background on this error at: https://sqlalche.me/e/14/f405)
ERROR    2022-12-13 06:29:57.196 request id: app - uvicorn.protocols.http.h11_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 442, in _prepare_and_execute
    self._rows = await prepared_stmt.fetch(*parameters)
    │    │             │             │      └ ()
    │    │             │             └ <function PreparedStatement.fetch at 0x000001F80475CCA0>
    │    │             └ <asyncpg.prepared_stmt.PreparedStatement object at 0x000001F804D62700>
    │    └ <member '_rows' of 'AsyncAdapt_asyncpg_cursor' objects>
    └ <sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_cursor object at 0x000001F804CDCF90>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\asyncpg\prepared_stmt.py", line 176, in fetch
    data = await self.__bind_execute(args, 0, timeout)
                 │                   │        └ None
                 │                   └ ()
                 └ <asyncpg.prepared_stmt.PreparedStatement object at 0x000001F804D62700>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\asyncpg\prepared_stmt.py", line 241, in __bind_execute
    data, status, _ = await self.__do_execute(
                            └ <asyncpg.prepared_stmt.PreparedStatement object at 0x000001F804D62700>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\asyncpg\prepared_stmt.py", line 230, in __do_execute
    return await executor(protocol)
                 │        └ <asyncpg.protocol.protocol.Protocol object at 0x000001F80482D900>
                 └ <function PreparedStatement.__bind_execute.<locals>.<lambda> at 0x000001F804D8D1B0>

  File "asyncpg\protocol\protocol.pyx", line 201, in bind_execute

asyncpg.exceptions.InsufficientPrivilegeError: permission denied for table user


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\sqlalchemy\engine\base.py", line 1900, in _execute_context
    self.dialect.do_execute(
    │    │       └ <function DefaultDialect.do_execute at 0x000001F80309CCA0>
    │    └ <sqlalchemy.dialects.postgresql.asyncpg.PGDialect_asyncpg object at 0x000001F8049F70D0>
    └ <sqlalchemy.future.engine.Connection object at 0x000001F804D7D060>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\sqlalchemy\engine\default.py", line 736, in do_execute
    cursor.execute(statement, parameters)
    │      │       │          └ ()
    │      │       └ 'SELECT count("user".id) AS count_1 \nFROM "user"'
    │      └ <function AsyncAdapt_asyncpg_cursor.execute at 0x000001F80313D5A0>
    └ <sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_cursor object at 0x000001F804CDCF90>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 479, in execute
    self._adapt_connection.await_(
    │    └ <member '_adapt_connection' of 'AsyncAdapt_asyncpg_cursor' objects>
    └ <sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_cursor object at 0x000001F804CDCF90>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 68, in await_only
    return current.driver.switch(awaitable)
           │                     └ <coroutine object AsyncAdapt_asyncpg_cursor._prepare_and_execute at 0x000001F804CDC3C0>
           └ <_AsyncIoGreenlet object at 0x000001F804AD4280 (otid=0x000001F802BE6E50) dead>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 121, in greenlet_spawn
    value = await result
                  └ <coroutine object AsyncAdapt_asyncpg_cursor._prepare_and_execute at 0x000001F804CDC3C0>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 454, in _prepare_and_execute
    self._handle_exception(error)
    │    └ <function AsyncAdapt_asyncpg_cursor._handle_exception at 0x000001F80313D360>
    └ <sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_cursor object at 0x000001F804CDCF90>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 389, in _handle_exception
    self._adapt_connection._handle_exception(error)
    │    │                                   └ InsufficientPrivilegeError('permission denied for table user')
    │    └ <member '_adapt_connection' of 'AsyncAdapt_asyncpg_cursor' objects>
    └ <sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_cursor object at 0x000001F804CDCF90>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 682, in _handle_exception
    raise translated_error from error
          │                     └ InsufficientPrivilegeError('permission denied for table user')
          └ ProgrammingError("<class 'asyncpg.exceptions.InsufficientPrivilegeError'>: permission denied for table user")

sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.ProgrammingError: <class 'asyncpg.exceptions.InsufficientPrivilegeError'>: permission denied for table user


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\R\AppData\Local\Programs\Python\Python310\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 332
               │     └ 3
               └ <function _main at 0x000001F80084E290>

  File "C:\Users\R\AppData\Local\Programs\Python\Python310\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 332
           │    └ <function BaseProcess._bootstrap at 0x000001F8007B00D0>
           └ <SpawnProcess name='SpawnProcess-1' parent=3240 started>

  File "C:\Users\R\AppData\Local\Programs\Python\Python310\lib\multiprocessing\process.py", line 314, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x000001F8007A76D0>
    └ <SpawnProcess name='SpawnProcess-1' parent=3240 started>

  File "C:\Users\R\AppData\Local\Programs\Python\Python310\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000001F800713910>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-1' parent=3240 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-1' parent=3240 started>
    │    └ <function subprocess_started at 0x000001F802AD1750>
    └ <SpawnProcess name='SpawnProcess-1' parent=3240 started>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\uvicorn\_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=720, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000001F800713010>>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\uvicorn\server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=720, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 8000)>]
           │       │   │    └ <function Server.serve at 0x000001F802AAE320>
           │       │   └ <uvicorn.server.Server object at 0x000001F800713010>
           │       └ <function run at 0x000001F8023A4AF0>
           └ <module 'asyncio' from 'C:\\Users\\R\\AppData\\Local\\Programs\\Python\\Python310\\lib\\asyncio\\__init__.py'>

  File "C:\Users\R\AppData\Local\Programs\Python\Python310\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x000001F802AC1070>
           │    └ <function BaseEventLoop.run_until_complete at 0x000001F8023A64D0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\R\AppData\Local\Programs\Python\Python310\lib\asyncio\base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001F8023A6440>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\R\AppData\Local\Programs\Python\Python310\lib\asyncio\base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001F8023A7F40>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\R\AppData\Local\Programs\Python\Python310\lib\asyncio\base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001F800BAF7F0>
    └ <Handle Task.task_wakeup(<Future finis...lt='ROLLBACK'>)>

  File "C:\Users\R\AppData\Local\Programs\Python\Python310\lib\asyncio\events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finis...lt='ROLLBACK'>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finis...lt='ROLLBACK'>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finis...lt='ROLLBACK'>)>

> File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\uvicorn\protocols\http\h11_impl.py", line 407, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001F802ADD060>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x000001F804D7D7B0>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x000001F804D7D...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x000001F8007D2D70>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001F802ADD060>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x000001F804D7D7B0>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x000001F804D7D...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x000001F804D7D7B0>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x000001F804D7D...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001F804BA7940>
          └ <fastapi.applications.FastAPI object at 0x000001F8007D2D70>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\starlette\middleware\errors.py", line 184, in __call__
    raise exc

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\starlette\middleware\errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001F804BDF520>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x000001F804D7D...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000001F804BA7850>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001F804BA7940>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\starlette\middleware\cors.py", line 84, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001F804BDF520>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x000001F804D7D...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001F804BA7820>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000001F804BA7850>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\starlette\middleware\exceptions.py", line 79, in __call__
    raise exc

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\starlette\middleware\exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x000001F804CCA050>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x000001F804D7D...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x000001F804BA77C0>
          └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001F804BA7820>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x000001F804CCA050>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x000001F804D7D...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x000001F802ADCB50>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x000001F804BA77C0>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\starlette\routing.py", line 706, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x000001F804CCA050>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x000001F804D7D...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │     └ <function Route.handle at 0x000001F8045A3760>
          └ APIRoute(path='/api/v1/users/', name='read_users', methods=['GET'])

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\starlette\routing.py", line 276, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x000001F804CCA050>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x000001F804D7D...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function request_response.<locals>.app at 0x000001F804BDD480>
          └ APIRoute(path='/api/v1/users/', name='read_users', methods=['GET'])

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\starlette\routing.py", line 66, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x000001F804C71690>
                     └ <function get_request_handler.<locals>.app at 0x000001F804BDD510>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\fastapi\routing.py", line 235, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x000001F8045A23B0>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\fastapi\routing.py", line 161, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <sqlalchemy.orm.session.AsyncSession object at 0x000001F804C93DF0>, 'current_user': <backend.app.db.models.User object...
                 │         └ <function read_users at 0x000001F804A25870>
                 └ <fastapi.dependencies.models.Dependant object at 0x000001F804BF8880>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\.\backend\app\api\api_v1\endpoints\users.py", line 30, in read_users
    users, total = await crud.user.get_multi(db, request_params)
                         │    │    │         │   └ RequestParams(skip=0, limit=11, order_by=<sqlalchemy.sql.elements.UnaryExpression object at 0x000001F804D7EAA0>, filter_by=None)
                         │    │    │         └ <sqlalchemy.orm.session.AsyncSession object at 0x000001F804C93DF0>
                         │    │    └ <function CRUDBase.get_multi at 0x000001F8046C8040>
                         │    └ <backend.app.crud.user.CRUDUser object at 0x000001F8046B8970>
                         └ <module 'backend.app.crud' from 'C:\\Users\\R\\PycharmProjects\\fastapi-react-crm-backend\\.\\backend\\app\\crud\\__init__.py'>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\.\backend\app\crud\base.py", line 46, in get_multi
    total: Result = await db.execute(query_count)
                          │  │       └ <sqlalchemy.sql.selectable.Select object at 0x000001F804D7E530>
                          │  └ <function AsyncSession.execute at 0x000001F80465B760>
                          └ <sqlalchemy.orm.session.AsyncSession object at 0x000001F804C93DF0>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\sqlalchemy\ext\asyncio\session.py", line 214, in execute
    result = await greenlet_spawn(
                   └ <function greenlet_spawn at 0x000001F802C43C70>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 126, in greenlet_spawn
    result = context.throw(*sys.exc_info())
             │       │      │   └ <built-in function exc_info>
             │       │      └ <module 'sys' (built-in)>
             │       └ <method 'throw' of 'greenlet.greenlet' objects>
             └ <_AsyncIoGreenlet object at 0x000001F804AD4280 (otid=0x000001F802BE6E50) dead>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\sqlalchemy\orm\session.py", line 1714, in execute
    result = conn._execute_20(statement, params or {}, execution_options)
             │    │           │          │             └ immutabledict({'prebuffer_rows': True, '_result_disable_adapt_to_context': True, 'future_result': True})
             │    │           │          └ None
             │    │           └ <sqlalchemy.sql.selectable.Select object at 0x000001F804D7E530>
             │    └ <function Connection._execute_20 at 0x000001F802FD7910>
             └ <sqlalchemy.future.engine.Connection object at 0x000001F804D7D060>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\sqlalchemy\engine\base.py", line 1705, in _execute_20
    return meth(self, args_10style, kwargs_10style, execution_options)
           │    │     │             │               └ immutabledict({'prebuffer_rows': True, '_result_disable_adapt_to_context': True, 'future_result': True})
           │    │     │             └ immutabledict({})
           │    │     └ ({},)
           │    └ <sqlalchemy.future.engine.Connection object at 0x000001F804D7D060>
           └ <bound method ClauseElement._execute_on_connection of <sqlalchemy.sql.selectable.Select object at 0x000001F804D7E530>>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\sqlalchemy\sql\elements.py", line 334, in _execute_on_connection
    return connection._execute_clauseelement(
           │          └ <function Connection._execute_clauseelement at 0x000001F802FD7760>
           └ <sqlalchemy.future.engine.Connection object at 0x000001F804D7D060>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\sqlalchemy\engine\base.py", line 1572, in _execute_clauseelement
    ret = self._execute_context(
          │    └ <function Connection._execute_context at 0x000001F802FD7A30>
          └ <sqlalchemy.future.engine.Connection object at 0x000001F804D7D060>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\sqlalchemy\engine\base.py", line 1943, in _execute_context
    self._handle_dbapi_exception(
    │    └ <function Connection._handle_dbapi_exception at 0x000001F802FD7BE0>
    └ <sqlalchemy.future.engine.Connection object at 0x000001F804D7D060>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\sqlalchemy\engine\base.py", line 2124, in _handle_dbapi_exception
    util.raise_(
    │    └ <function raise_ at 0x000001F802C01120>
    └ <module 'sqlalchemy.util' from 'C:\\Users\\R\\PycharmProjects\\fastapi-react-crm-backend\\venv\\lib\\site-packages\\sqlalchem...

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\sqlalchemy\util\compat.py", line 211, in raise_
    raise exception

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\sqlalchemy\engine\base.py", line 1900, in _execute_context
    self.dialect.do_execute(
    │    │       └ <function DefaultDialect.do_execute at 0x000001F80309CCA0>
    │    └ <sqlalchemy.dialects.postgresql.asyncpg.PGDialect_asyncpg object at 0x000001F8049F70D0>
    └ <sqlalchemy.future.engine.Connection object at 0x000001F804D7D060>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\sqlalchemy\engine\default.py", line 736, in do_execute
    cursor.execute(statement, parameters)
    │      │       │          └ ()
    │      │       └ 'SELECT count("user".id) AS count_1 \nFROM "user"'
    │      └ <function AsyncAdapt_asyncpg_cursor.execute at 0x000001F80313D5A0>
    └ <sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_cursor object at 0x000001F804CDCF90>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 479, in execute
    self._adapt_connection.await_(
    │    └ <member '_adapt_connection' of 'AsyncAdapt_asyncpg_cursor' objects>
    └ <sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_cursor object at 0x000001F804CDCF90>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 68, in await_only
    return current.driver.switch(awaitable)
           │                     └ <coroutine object AsyncAdapt_asyncpg_cursor._prepare_and_execute at 0x000001F804CDC3C0>
           └ <_AsyncIoGreenlet object at 0x000001F804AD4280 (otid=0x000001F802BE6E50) dead>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 121, in greenlet_spawn
    value = await result
                  └ <coroutine object AsyncAdapt_asyncpg_cursor._prepare_and_execute at 0x000001F804CDC3C0>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 454, in _prepare_and_execute
    self._handle_exception(error)
    │    └ <function AsyncAdapt_asyncpg_cursor._handle_exception at 0x000001F80313D360>
    └ <sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_cursor object at 0x000001F804CDCF90>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 389, in _handle_exception
    self._adapt_connection._handle_exception(error)
    │    │                                   └ InsufficientPrivilegeError('permission denied for table user')
    │    └ <member '_adapt_connection' of 'AsyncAdapt_asyncpg_cursor' objects>
    └ <sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_cursor object at 0x000001F804CDCF90>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 682, in _handle_exception
    raise translated_error from error
          │                     └ InsufficientPrivilegeError('permission denied for table user')
          └ ProgrammingError("<class 'asyncpg.exceptions.InsufficientPrivilegeError'>: permission denied for table user")

sqlalchemy.exc.ProgrammingError: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.InsufficientPrivilegeError'>: permission denied for table user
[SQL: SELECT count("user".id) AS count_1 
FROM "user"]
(Background on this error at: https://sqlalche.me/e/14/f405)
INFO     2022-12-13 06:31:04.419 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-12-13 06:31:04.419 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-12-13 06:31:04.528 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-12-13 06:31:04.528 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-12-13 06:31:04.529 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-12-13 06:31:04.529 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-12-13 06:31:04.529 request id: app - uvicorn.server:serve - Finished server process [19412]
INFO     2022-12-13 06:31:04.530 request id: app - uvicorn.server:serve - Finished server process [19412]
INFO     2022-12-13 06:36:08.780 request id: app - uvicorn.server:serve - Started server process [26780]
INFO     2022-12-13 06:36:08.781 request id: app - uvicorn.server:serve - Started server process [26780]
INFO     2022-12-13 06:36:08.781 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-12-13 06:36:08.782 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-12-13 06:36:08.782 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-12-13 06:36:08.782 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-12-13 06:36:11.725 request id: app - backend.app.api.deps:get_current_user_async - START
INFO     2022-12-13 06:36:11.728 request id: app - backend.app.api.deps:get_session_user - get_session_user: postgres
INFO     2022-12-13 06:36:11.728 request id: app - backend.app.api.deps:reset_session_user - RESET_session_user
INFO     2022-12-13 06:36:11.731 request id: app - backend.app.api.deps:get_session_user - get_session_user: postgres
INFO     2022-12-13 06:36:11.733 request id: app - backend.app.api.deps:check_rolname - check_rolname: ka52 role exist
INFO     2022-12-13 06:36:11.733 request id: app - backend.app.api.deps:reset_session_user - RESET_session_user
INFO     2022-12-13 06:36:11.735 request id: app - backend.app.api.deps:get_session_user - get_session_user: postgres
INFO     2022-12-13 06:36:11.736 request id: app - backend.app.api.deps:set_session_user - SET_session_user: ka52
INFO     2022-12-13 06:36:11.739 request id: app - backend.app.api.deps:get_session_user - get_session_user: ka52
INFO     2022-12-13 06:36:11.739 request id: app - backend.app.api.deps:get_current_user_async - END
INFO     2022-12-13 06:36:11.755 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:61403 - "GET /api/v1/users/?sort=%5B%22id%22%2C%20%22ASC%22%5D&range=%5B0%2C%2010%5D HTTP/1.1" 200
INFO     2022-12-13 06:36:30.168 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-12-13 06:36:30.168 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-12-13 06:36:30.275 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-12-13 06:36:30.275 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-12-13 06:36:30.276 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-12-13 06:36:30.276 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-12-13 06:36:30.277 request id: app - uvicorn.server:serve - Finished server process [26780]
INFO     2022-12-13 06:36:30.277 request id: app - uvicorn.server:serve - Finished server process [26780]
INFO     2022-12-13 06:38:41.499 request id: app - uvicorn.server:serve - Started server process [25016]
INFO     2022-12-13 06:38:41.499 request id: app - uvicorn.server:serve - Started server process [25016]
INFO     2022-12-13 06:38:41.499 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-12-13 06:38:41.500 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-12-13 06:38:41.500 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-12-13 06:38:41.501 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-12-13 06:38:42.430 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:61474 - "GET /favicon.ico HTTP/1.1" 404
INFO     2022-12-13 06:38:43.417 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:61474 - "GET /redoc HTTP/1.1" 200
INFO     2022-12-13 06:38:43.853 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:61474 - "GET /api/v1/openapi.json HTTP/1.1" 200
INFO     2022-12-13 06:39:01.153 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-12-13 06:39:01.153 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-12-13 19:48:07.716 request id: app - uvicorn.server:serve - Started server process [7320]
INFO     2022-12-13 19:48:07.717 request id: app - uvicorn.server:serve - Started server process [7320]
INFO     2022-12-13 19:48:07.717 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-12-13 19:48:07.718 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-12-13 19:48:07.718 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-12-13 19:48:07.719 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-12-13 19:48:15.875 request id: app - uvicorn.server:serve - Started server process [26404]
INFO     2022-12-13 19:48:15.876 request id: app - uvicorn.server:serve - Started server process [26404]
INFO     2022-12-13 19:48:15.876 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-12-13 19:48:15.876 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-12-13 19:48:15.877 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-12-13 19:48:15.877 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-12-13 19:48:19.616 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-12-13 19:48:19.616 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-12-13 19:48:19.727 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-12-13 19:48:19.727 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-12-13 19:48:19.728 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-12-13 19:48:19.728 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-12-13 19:48:19.729 request id: app - uvicorn.server:serve - Finished server process [26404]
INFO     2022-12-13 19:48:19.729 request id: app - uvicorn.server:serve - Finished server process [26404]
INFO     2022-12-13 19:48:21.193 request id: app - uvicorn.server:serve - Started server process [28496]
INFO     2022-12-13 19:48:21.193 request id: app - uvicorn.server:serve - Started server process [28496]
INFO     2022-12-13 19:48:21.194 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-12-13 19:48:21.194 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-12-13 19:48:21.195 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-12-13 19:48:21.195 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-12-13 19:49:04.110 request id: app - uvicorn.server:serve - Started server process [26380]
INFO     2022-12-13 19:49:04.111 request id: app - uvicorn.server:serve - Started server process [26380]
INFO     2022-12-13 19:49:04.111 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-12-13 19:49:04.111 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-12-13 19:49:04.112 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-12-13 19:49:04.112 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-12-13 19:49:06.203 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-12-13 19:49:06.203 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-12-13 19:49:06.314 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-12-13 19:49:06.314 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-12-13 19:49:06.314 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-12-13 19:49:06.315 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-12-13 19:49:06.315 request id: app - uvicorn.server:serve - Finished server process [26380]
INFO     2022-12-13 19:49:06.315 request id: app - uvicorn.server:serve - Finished server process [26380]
INFO     2022-12-13 20:05:04.291 request id: app - uvicorn.server:serve - Started server process [9236]
INFO     2022-12-13 20:05:04.291 request id: app - uvicorn.server:serve - Started server process [9236]
INFO     2022-12-13 20:05:04.291 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-12-13 20:05:04.292 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-12-13 20:05:04.292 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-12-13 20:05:04.293 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-12-13 20:05:06.555 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:63788 - "GET /favicon.ico HTTP/1.1" 404
INFO     2022-12-13 20:05:07.258 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:63788 - "GET /docs HTTP/1.1" 200
INFO     2022-12-13 20:05:07.534 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:63788 - "GET /api/v1/openapi.json HTTP/1.1" 200
INFO     2022-12-13 20:05:21.557 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-12-13 20:05:21.557 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-12-13 20:05:21.665 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-12-13 20:05:21.665 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-12-13 20:05:21.666 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-12-13 20:05:21.666 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-12-13 20:05:21.667 request id: app - uvicorn.server:serve - Finished server process [9236]
INFO     2022-12-13 20:05:21.667 request id: app - uvicorn.server:serve - Finished server process [9236]
INFO     2022-12-14 10:11:36.933 request id: app - uvicorn.server:serve - Started server process [25528]
INFO     2022-12-14 10:11:36.934 request id: app - uvicorn.server:serve - Started server process [25528]
INFO     2022-12-14 10:11:36.934 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-12-14 10:11:36.934 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-12-14 10:11:36.935 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-12-14 10:11:36.935 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-12-14 10:11:38.578 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-12-14 10:11:38.578 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-12-14 10:11:38.689 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-12-14 10:11:38.689 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-12-14 10:11:38.690 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-12-14 10:11:38.690 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-12-14 10:11:38.691 request id: app - uvicorn.server:serve - Finished server process [25528]
INFO     2022-12-14 10:11:38.691 request id: app - uvicorn.server:serve - Finished server process [25528]
INFO     2022-12-14 10:16:11.026 request id: app - uvicorn.server:serve - Started server process [28864]
INFO     2022-12-14 10:16:11.026 request id: app - uvicorn.server:serve - Started server process [28864]
INFO     2022-12-14 10:16:11.027 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-12-14 10:16:11.027 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-12-14 10:16:11.028 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-12-14 10:16:11.028 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-12-14 10:28:05.344 request id: app - uvicorn.server:serve - Started server process [27300]
INFO     2022-12-14 10:28:05.344 request id: app - uvicorn.server:serve - Started server process [27300]
INFO     2022-12-14 10:28:05.344 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-12-14 10:28:05.345 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-12-14 10:28:05.345 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-12-14 10:28:05.346 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-12-14 10:28:06.172 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:50135 - "GET /favicon.ico HTTP/1.1" 404
INFO     2022-12-14 10:28:07.368 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:50135 - "GET /docs HTTP/1.1" 200
INFO     2022-12-14 10:28:07.535 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:50135 - "GET /api/v1/openapi.json HTTP/1.1" 200
INFO     2022-12-14 10:28:50.416 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-12-14 10:28:50.416 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-12-14 10:30:13.205 request id: app - uvicorn.server:serve - Started server process [24156]
INFO     2022-12-14 10:30:13.205 request id: app - uvicorn.server:serve - Started server process [24156]
INFO     2022-12-14 10:30:13.205 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-12-14 10:30:13.206 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-12-14 10:30:13.207 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-12-14 10:30:13.207 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-12-14 10:30:15.160 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:50195 - "GET /docs HTTP/1.1" 200
INFO     2022-12-14 10:30:15.411 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:50195 - "GET /api/v1/openapi.json HTTP/1.1" 200
INFO     2022-12-14 10:30:23.778 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-12-14 10:30:23.778 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-12-14 10:30:23.886 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-12-14 10:30:23.886 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-12-14 10:30:23.886 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-12-14 10:30:23.887 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-12-14 10:30:23.887 request id: app - uvicorn.server:serve - Finished server process [24156]
INFO     2022-12-14 10:30:23.888 request id: app - uvicorn.server:serve - Finished server process [24156]
INFO     2022-12-14 10:30:57.354 request id: app - uvicorn.server:serve - Started server process [32684]
INFO     2022-12-14 10:30:57.354 request id: app - uvicorn.server:serve - Started server process [32684]
INFO     2022-12-14 10:30:57.355 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-12-14 10:30:57.355 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-12-14 10:30:57.356 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-12-14 10:30:57.356 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-12-14 10:31:05.121 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:50209 - "GET /docs HTTP/1.1" 200
INFO     2022-12-14 10:31:05.323 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:50209 - "GET /api/v1/openapi.json HTTP/1.1" 200
INFO     2022-12-14 10:31:16.110 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:50210 - "POST /api/v1/users/ HTTP/1.1" 401
INFO     2022-12-14 10:31:22.751 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:50213 - "POST /api/v1/login/access-token HTTP/1.1" 200
INFO     2022-12-14 10:31:23.842 request id: app - backend.app.api.deps:get_current_user_async - START
INFO     2022-12-14 10:31:23.844 request id: app - backend.app.api.deps:get_session_user - get_session_user: postgres
INFO     2022-12-14 10:31:23.845 request id: app - backend.app.api.deps:reset_session_user - RESET_session_user
INFO     2022-12-14 10:31:23.848 request id: app - backend.app.api.deps:get_session_user - get_session_user: postgres
INFO     2022-12-14 10:31:23.851 request id: app - backend.app.api.deps:check_rolname - check_rolname: ka52 role exist
INFO     2022-12-14 10:31:23.852 request id: app - backend.app.api.deps:reset_session_user - RESET_session_user
INFO     2022-12-14 10:31:23.854 request id: app - backend.app.api.deps:get_session_user - get_session_user: postgres
INFO     2022-12-14 10:31:23.854 request id: app - backend.app.api.deps:set_session_user - SET_session_user: ka52
INFO     2022-12-14 10:31:23.857 request id: app - backend.app.api.deps:get_session_user - get_session_user: ka52
INFO     2022-12-14 10:31:23.858 request id: app - backend.app.api.deps:get_current_user_async - END
INFO     2022-12-14 10:31:24.086 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:50213 - "POST /api/v1/users/ HTTP/1.1" 200
INFO     2022-12-14 10:31:32.496 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-12-14 10:31:32.496 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-12-14 10:31:32.604 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-12-14 10:31:32.604 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-12-14 10:31:32.605 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-12-14 10:31:32.605 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-12-14 10:31:32.605 request id: app - uvicorn.server:serve - Finished server process [32684]
INFO     2022-12-14 10:31:32.606 request id: app - uvicorn.server:serve - Finished server process [32684]
INFO     2022-12-14 10:34:33.713 request id: app - uvicorn.server:serve - Started server process [27564]
INFO     2022-12-14 10:34:33.713 request id: app - uvicorn.server:serve - Started server process [27564]
INFO     2022-12-14 10:34:33.713 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-12-14 10:34:33.713 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-12-14 10:34:33.713 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-12-14 10:34:33.714 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-12-14 10:34:35.791 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-12-14 10:34:35.791 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-12-14 10:34:35.902 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-12-14 10:34:35.902 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-12-14 10:34:35.903 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-12-14 10:34:35.903 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-12-14 10:34:35.903 request id: app - uvicorn.server:serve - Finished server process [27564]
INFO     2022-12-14 10:34:35.904 request id: app - uvicorn.server:serve - Finished server process [27564]
INFO     2022-12-14 10:52:52.062 request id: app - uvicorn.server:serve - Started server process [25272]
INFO     2022-12-14 10:52:52.062 request id: app - uvicorn.server:serve - Started server process [25272]
INFO     2022-12-14 10:52:52.062 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-12-14 10:52:52.063 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-12-14 10:52:52.063 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-12-14 10:52:52.064 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-12-14 10:52:58.851 request id: app - uvicorn.server:serve - Started server process [31092]
INFO     2022-12-14 10:52:58.852 request id: app - uvicorn.server:serve - Started server process [31092]
INFO     2022-12-14 10:52:58.852 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-12-14 10:52:58.853 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-12-14 10:52:58.853 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-12-14 10:52:58.854 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-12-14 10:52:59.950 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:51830 - "GET /favicon.ico HTTP/1.1" 404
INFO     2022-12-14 10:53:00.248 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:51830 - "GET /docs HTTP/1.1" 200
INFO     2022-12-14 10:53:00.698 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:51830 - "GET /docs HTTP/1.1" 200
INFO     2022-12-14 10:53:00.982 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:51830 - "GET /api/v1/openapi.json HTTP/1.1" 200
INFO     2022-12-14 10:53:04.033 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:51830 - "POST /api/v1/login/access-token HTTP/1.1" 200
INFO     2022-12-14 10:59:19.064 request id: app - uvicorn.server:serve - Started server process [26728]
INFO     2022-12-14 10:59:19.065 request id: app - uvicorn.server:serve - Started server process [26728]
INFO     2022-12-14 10:59:19.065 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-12-14 10:59:19.065 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-12-14 10:59:19.067 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-12-14 10:59:19.067 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-12-14 10:59:23.177 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-12-14 10:59:23.177 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-12-14 11:07:36.961 request id: app - uvicorn.server:serve - Started server process [1780]
INFO     2022-12-14 11:07:36.963 request id: app - uvicorn.server:serve - Started server process [1780]
INFO     2022-12-14 11:07:36.963 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-12-14 11:07:36.964 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-12-14 11:07:36.965 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-12-14 11:07:36.965 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-12-14 11:07:37.834 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-12-14 11:07:37.835 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-12-14 11:27:28.987 request id: app - uvicorn.server:serve - Started server process [27264]
INFO     2022-12-14 11:27:28.988 request id: app - uvicorn.server:serve - Started server process [27264]
INFO     2022-12-14 11:27:28.988 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-12-14 11:27:28.988 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-12-14 11:27:28.989 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-12-14 11:27:28.989 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-12-14 11:27:31.303 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-12-14 11:27:31.304 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-12-14 11:27:31.413 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-12-14 11:27:31.414 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-12-14 11:27:31.415 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-12-14 11:27:31.416 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-12-14 11:27:31.416 request id: app - uvicorn.server:serve - Finished server process [27264]
INFO     2022-12-14 11:27:31.417 request id: app - uvicorn.server:serve - Finished server process [27264]
INFO     2022-12-14 11:27:37.541 request id: app - uvicorn.server:serve - Started server process [26956]
INFO     2022-12-14 11:27:37.542 request id: app - uvicorn.server:serve - Started server process [26956]
INFO     2022-12-14 11:27:37.543 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-12-14 11:27:37.543 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-12-14 11:27:37.544 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-12-14 11:27:37.544 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-12-14 11:27:39.862 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-12-14 11:27:39.863 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-12-14 11:27:39.971 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-12-14 11:27:39.972 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-12-14 11:27:39.972 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-12-14 11:27:39.973 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-12-14 11:27:39.974 request id: app - uvicorn.server:serve - Finished server process [26956]
INFO     2022-12-14 11:27:39.974 request id: app - uvicorn.server:serve - Finished server process [26956]
INFO     2022-12-14 11:32:05.785 request id: app - uvicorn.server:serve - Started server process [15096]
INFO     2022-12-14 11:32:05.786 request id: app - uvicorn.server:serve - Started server process [15096]
INFO     2022-12-14 11:32:05.786 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-12-14 11:32:05.787 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-12-14 11:32:05.787 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-12-14 11:32:05.787 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-12-14 11:32:07.878 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-12-14 11:32:07.878 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-12-14 11:32:07.990 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-12-14 11:32:07.990 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-12-14 11:32:07.991 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-12-14 11:32:07.991 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-12-14 11:32:07.991 request id: app - uvicorn.server:serve - Finished server process [15096]
INFO     2022-12-14 11:32:07.991 request id: app - uvicorn.server:serve - Finished server process [15096]
INFO     2022-12-14 12:04:51.915 request id: app - uvicorn.server:serve - Started server process [23624]
INFO     2022-12-14 12:04:51.916 request id: app - uvicorn.server:serve - Started server process [23624]
INFO     2022-12-14 12:04:51.916 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-12-14 12:04:51.916 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-12-14 12:04:51.916 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-12-14 12:04:51.917 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-12-14 12:04:53.779 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-12-14 12:04:53.779 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-12-14 12:04:53.890 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-12-14 12:04:53.890 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-12-14 12:04:53.891 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-12-14 12:04:53.891 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-12-14 12:04:53.891 request id: app - uvicorn.server:serve - Finished server process [23624]
INFO     2022-12-14 12:04:53.892 request id: app - uvicorn.server:serve - Finished server process [23624]
INFO     2022-12-14 12:10:41.210 request id: app - uvicorn.server:serve - Started server process [17856]
INFO     2022-12-14 12:10:41.210 request id: app - uvicorn.server:serve - Started server process [17856]
INFO     2022-12-14 12:10:41.211 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-12-14 12:10:41.211 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-12-14 12:10:41.211 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-12-14 12:10:41.212 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-12-14 12:10:42.893 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:54227 - "GET /favicon.ico HTTP/1.1" 404
INFO     2022-12-14 12:10:44.976 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:54227 - "GET /docs HTTP/1.1" 200
INFO     2022-12-14 12:10:45.502 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:54227 - "GET /api/v1/openapi.json HTTP/1.1" 200
INFO     2022-12-14 12:10:49.051 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:54227 - "POST /api/v1/login/access-token HTTP/1.1" 500
ERROR    2022-12-14 12:10:49.052 request id: app - uvicorn.protocols.http.h11_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\sqlalchemy\sql\sqltypes.py", line 1651, in _object_value_for_elem
    return self._object_lookup[elem]
           │    │              └ 'admin'
           │    └ {'user': 'user', 'anon': 'anon', 'student': 'student', 'student_leader': 'student_leader', 'student_leader_assistant': 'stude...
           └ AsyncPgEnum('user', 'anon', 'student', 'student_leader', 'student_leader_assistant', 'teacher', name='user_role', _create_eve...

KeyError: 'admin'


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\R\AppData\Local\Programs\Python\Python310\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 320
               │     └ 3
               └ <function _main at 0x0000020DE6936320>

  File "C:\Users\R\AppData\Local\Programs\Python\Python310\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 320
           │    └ <function BaseProcess._bootstrap at 0x0000020DE6894160>
           └ <SpawnProcess name='SpawnProcess-1' parent=25452 started>

  File "C:\Users\R\AppData\Local\Programs\Python\Python310\lib\multiprocessing\process.py", line 314, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x0000020DE6887760>
    └ <SpawnProcess name='SpawnProcess-1' parent=25452 started>

  File "C:\Users\R\AppData\Local\Programs\Python\Python310\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x0000020DE67F2D70>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-1' parent=25452 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-1' parent=25452 started>
    │    └ <function subprocess_started at 0x0000020DE8C34310>
    └ <SpawnProcess name='SpawnProcess-1' parent=25452 started>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\uvicorn\_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=776, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x0000020DE67F3460>>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\uvicorn\server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=776, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 8000)>]
           │       │   │    └ <function Server.serve at 0x0000020DE8C10EE0>
           │       │   └ <uvicorn.server.Server object at 0x0000020DE67F3460>
           │       └ <function run at 0x0000020DE8488B80>
           └ <module 'asyncio' from 'C:\\Users\\R\\AppData\\Local\\Programs\\Python\\Python310\\lib\\asyncio\\__init__.py'>

  File "C:\Users\R\AppData\Local\Programs\Python\Python310\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x0000020DE8C309E0>
           │    └ <function BaseEventLoop.run_until_complete at 0x0000020DE848A560>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\R\AppData\Local\Programs\Python\Python310\lib\asyncio\base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x0000020DE848A4D0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\R\AppData\Local\Programs\Python\Python310\lib\asyncio\base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x0000020DE848C040>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\R\AppData\Local\Programs\Python\Python310\lib\asyncio\base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x0000020DE6C8F880>
    └ <Handle Task.task_wakeup(<Future finis...lt='ROLLBACK'>)>

  File "C:\Users\R\AppData\Local\Programs\Python\Python310\lib\asyncio\events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finis...lt='ROLLBACK'>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finis...lt='ROLLBACK'>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finis...lt='ROLLBACK'>)>

> File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\uvicorn\protocols\http\h11_impl.py", line 407, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x0000020DE8C2EA10>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x0000020DEB12F730>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x0000020DEB12F...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x0000020DE8C94400>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x0000020DE8C2EA10>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x0000020DEB12F730>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x0000020DEB12F...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x0000020DEB12F730>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x0000020DEB12F...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x0000020DEB0822F0>
          └ <fastapi.applications.FastAPI object at 0x0000020DE8C94400>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\starlette\middleware\errors.py", line 184, in __call__
    raise exc

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\starlette\middleware\errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000020DE8C364D0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x0000020DEB12F...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x0000020DEB082200>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x0000020DEB0822F0>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\starlette\middleware\cors.py", line 92, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '127.0.0.1:8000', 'connection': 'keep-alive', 'content-length': '61', 'sec-ch-ua': '"Not?A_Brand";v="8", "Ch...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000020DE8C364D0>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x0000020DEB12F...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function CORSMiddleware.simple_response at 0x0000020DEA0BF250>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x0000020DEB082200>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\starlette\middleware\cors.py", line 147, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x0000020DEB082200...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x0000020DEB12F...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x0000020DEB0821D0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x0000020DEB082200>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\starlette\middleware\exceptions.py", line 79, in __call__
    raise exc

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\starlette\middleware\exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x0000020DEB0927A0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x0000020DEB12F...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x0000020DEB082170>
          └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x0000020DEB0821D0>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x0000020DEB0927A0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x0000020DEB12F...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x0000020DE8C94970>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x0000020DEB082170>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\starlette\routing.py", line 706, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x0000020DEB0927A0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x0000020DEB12F...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │     └ <function Route.handle at 0x0000020DEA0A1510>
          └ APIRoute(path='/api/v1/login/access-token', name='login_access_token', methods=['POST'])

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\starlette\routing.py", line 276, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x0000020DEB0927A0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x0000020DEB12F...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function request_response.<locals>.app at 0x0000020DEB0771C0>
          └ APIRoute(path='/api/v1/login/access-token', name='login_access_token', methods=['POST'])

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\starlette\routing.py", line 66, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x0000020DEB0FFA60>
                     └ <function get_request_handler.<locals>.app at 0x0000020DEB075900>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\fastapi\routing.py", line 235, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x0000020DEA0A0160>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\fastapi\routing.py", line 161, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <sqlalchemy.orm.session.AsyncSession object at 0x0000020DEB13E230>, 'form_data': <fastapi.security.oauth2.OAuth2Passwo...
                 │         └ <function login_access_token at 0x0000020DEAED8CA0>
                 └ <fastapi.dependencies.models.Dependant object at 0x0000020DE8C2E350>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\.\backend\app\api\api_v1\endpoints\login.py", line 27, in login_access_token
    user = await crud.user.authenticate(
                 │    │    └ <function CRUDUser.authenticate at 0x0000020DEAED8310>
                 │    └ <backend.app.crud.user.CRUDUser object at 0x0000020DEAB3DFF0>
                 └ <module 'backend.app.crud' from 'C:\\Users\\R\\PycharmProjects\\fastapi-react-crm-backend\\.\\backend\\app\\crud\\__init__.py'>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\.\backend\app\crud\user.py", line 65, in authenticate
    user = await self.get_by_email(db, email=email)
                 │    │            │         └ 'admin@gmail.com'
                 │    │            └ <sqlalchemy.orm.session.AsyncSession object at 0x0000020DEB13E230>
                 │    └ <function CRUDUser.get_by_email at 0x0000020DEAED8280>
                 └ <backend.app.crud.user.CRUDUser object at 0x0000020DEAB3DFF0>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\.\backend\app\crud\user.py", line 54, in get_by_email
    result: Result = await db.execute(sqlalchemy.select(User).where(User.email == email))
                           │  │       │          │      │           │    │        └ 'admin@gmail.com'
                           │  │       │          │      │           │    └ <sqlalchemy.orm.attributes.InstrumentedAttribute object at 0x0000020DEAA4DCB0>
                           │  │       │          │      │           └ <class 'backend.app.db.models.User'>
                           │  │       │          │      └ <class 'backend.app.db.models.User'>
                           │  │       │          └ <function select at 0x0000020DEA550310>
                           │  │       └ <module 'sqlalchemy' from 'C:\\Users\\R\\PycharmProjects\\fastapi-react-crm-backend\\venv\\lib\\site-packages\\sqlalchemy\\__...
                           │  └ <function AsyncSession.execute at 0x0000020DEA935240>
                           └ <sqlalchemy.orm.session.AsyncSession object at 0x0000020DEB13E230>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\sqlalchemy\ext\asyncio\session.py", line 214, in execute
    result = await greenlet_spawn(
                   └ <function greenlet_spawn at 0x0000020DEA1EBAC0>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 128, in greenlet_spawn
    result = context.switch(value)
             │       │      └ None
             │       └ <method 'switch' of 'greenlet.greenlet' objects>
             └ <_AsyncIoGreenlet object at 0x0000020DEB118A80 (otid=0x0000020DEA1A5050) dead>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\sqlalchemy\orm\session.py", line 1717, in execute
    result = compile_state_cls.orm_setup_cursor_result(
             │                 └ <classmethod(<function ORMCompileState.orm_setup_cursor_result at 0x0000020DEA7E6200>)>
             └ <class 'sqlalchemy.orm.context.ORMSelectCompileState'>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\sqlalchemy\orm\context.py", line 349, in orm_setup_cursor_result
    return loading.instances(result, querycontext)
           │       │         │       └ <sqlalchemy.orm.context.QueryContext object at 0x0000020DEB106190>
           │       │         └ <sqlalchemy.engine.cursor.CursorResult object at 0x0000020DEAF148E0>
           │       └ <function instances at 0x0000020DEA7A0E50>
           └ <module 'sqlalchemy.orm.loading' from 'C:\\Users\\R\\PycharmProjects\\fastapi-react-crm-backend\\venv\\lib\\site-packages\\sq...

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\sqlalchemy\orm\loading.py", line 169, in instances
    _prebuffered = list(chunks(None))
                        └ <function instances.<locals>.chunks at 0x0000020DEC1D7760>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\sqlalchemy\orm\loading.py", line 147, in chunks
    fetch = cursor._raw_all_rows()
            │      └ <function ResultInternal._raw_all_rows at 0x0000020DEA62B250>
            └ <sqlalchemy.engine.cursor.CursorResult object at 0x0000020DEAF148E0>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\sqlalchemy\engine\result.py", line 393, in _raw_all_rows
    return [make_row(row) for row in rows]
            │                        └ [<Record id=1 email='admin@gmail.com' hashed_password='$2b$12$.DXPn3b0163JsVu.mYgxOuEs5CGF00zvXllpnpL34SwKFc3WRrmga' role='ad...
            └ functools.partial(<class 'sqlalchemy.engine.row.Row'>, <sqlalchemy.engine.cursor.CursorResultMetaData object at 0x0000020DEB1...

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\sqlalchemy\engine\result.py", line 393, in <listcomp>
    return [make_row(row) for row in rows]
            │        │        └ <Record id=1 email='admin@gmail.com' hashed_password='$2b$12$.DXPn3b0163JsVu.mYgxOuEs5CGF00zvXllpnpL34SwKFc3WRrmga' role='adm...
            │        └ <Record id=1 email='admin@gmail.com' hashed_password='$2b$12$.DXPn3b0163JsVu.mYgxOuEs5CGF00zvXllpnpL34SwKFc3WRrmga' role='adm...
            └ functools.partial(<class 'sqlalchemy.engine.row.Row'>, <sqlalchemy.engine.cursor.CursorResultMetaData object at 0x0000020DEB1...

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\sqlalchemy\sql\sqltypes.py", line 1770, in process
    value = self._object_value_for_elem(value)
            │    │                      └ 'admin'
            │    └ <function Enum._object_value_for_elem at 0x0000020DEA416CB0>
            └ AsyncPgEnum('user', 'anon', 'student', 'student_leader', 'student_leader_assistant', 'teacher', name='user_role', _create_eve...

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\sqlalchemy\sql\sqltypes.py", line 1653, in _object_value_for_elem
    util.raise_(
    │    └ <function raise_ at 0x0000020DEA1B0D30>
    └ <module 'sqlalchemy.util' from 'C:\\Users\\R\\PycharmProjects\\fastapi-react-crm-backend\\venv\\lib\\site-packages\\sqlalchem...

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\sqlalchemy\util\compat.py", line 211, in raise_
    raise exception

LookupError: 'admin' is not among the defined enum values. Enum name: user_role. Possible values: user, anon, student, ..., teacher
ERROR    2022-12-14 12:10:49.096 request id: app - uvicorn.protocols.http.h11_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\sqlalchemy\sql\sqltypes.py", line 1651, in _object_value_for_elem
    return self._object_lookup[elem]
           │    │              └ 'admin'
           │    └ {'user': 'user', 'anon': 'anon', 'student': 'student', 'student_leader': 'student_leader', 'student_leader_assistant': 'stude...
           └ AsyncPgEnum('user', 'anon', 'student', 'student_leader', 'student_leader_assistant', 'teacher', name='user_role', _create_eve...

KeyError: 'admin'


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\R\AppData\Local\Programs\Python\Python310\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 320
               │     └ 3
               └ <function _main at 0x0000020DE6936320>

  File "C:\Users\R\AppData\Local\Programs\Python\Python310\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 320
           │    └ <function BaseProcess._bootstrap at 0x0000020DE6894160>
           └ <SpawnProcess name='SpawnProcess-1' parent=25452 started>

  File "C:\Users\R\AppData\Local\Programs\Python\Python310\lib\multiprocessing\process.py", line 314, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x0000020DE6887760>
    └ <SpawnProcess name='SpawnProcess-1' parent=25452 started>

  File "C:\Users\R\AppData\Local\Programs\Python\Python310\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x0000020DE67F2D70>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-1' parent=25452 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-1' parent=25452 started>
    │    └ <function subprocess_started at 0x0000020DE8C34310>
    └ <SpawnProcess name='SpawnProcess-1' parent=25452 started>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\uvicorn\_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=776, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x0000020DE67F3460>>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\uvicorn\server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=776, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 8000)>]
           │       │   │    └ <function Server.serve at 0x0000020DE8C10EE0>
           │       │   └ <uvicorn.server.Server object at 0x0000020DE67F3460>
           │       └ <function run at 0x0000020DE8488B80>
           └ <module 'asyncio' from 'C:\\Users\\R\\AppData\\Local\\Programs\\Python\\Python310\\lib\\asyncio\\__init__.py'>

  File "C:\Users\R\AppData\Local\Programs\Python\Python310\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x0000020DE8C309E0>
           │    └ <function BaseEventLoop.run_until_complete at 0x0000020DE848A560>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\R\AppData\Local\Programs\Python\Python310\lib\asyncio\base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x0000020DE848A4D0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\R\AppData\Local\Programs\Python\Python310\lib\asyncio\base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x0000020DE848C040>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\R\AppData\Local\Programs\Python\Python310\lib\asyncio\base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x0000020DE6C8F880>
    └ <Handle Task.task_wakeup(<Future finis...lt='ROLLBACK'>)>

  File "C:\Users\R\AppData\Local\Programs\Python\Python310\lib\asyncio\events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finis...lt='ROLLBACK'>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finis...lt='ROLLBACK'>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finis...lt='ROLLBACK'>)>

> File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\uvicorn\protocols\http\h11_impl.py", line 407, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x0000020DE8C2EA10>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x0000020DEB12F730>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x0000020DEB12F...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x0000020DE8C94400>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x0000020DE8C2EA10>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x0000020DEB12F730>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x0000020DEB12F...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x0000020DEB12F730>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x0000020DEB12F...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x0000020DEB0822F0>
          └ <fastapi.applications.FastAPI object at 0x0000020DE8C94400>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\starlette\middleware\errors.py", line 184, in __call__
    raise exc

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\starlette\middleware\errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000020DE8C364D0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x0000020DEB12F...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x0000020DEB082200>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x0000020DEB0822F0>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\starlette\middleware\cors.py", line 92, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '127.0.0.1:8000', 'connection': 'keep-alive', 'content-length': '61', 'sec-ch-ua': '"Not?A_Brand";v="8", "Ch...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000020DE8C364D0>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x0000020DEB12F...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function CORSMiddleware.simple_response at 0x0000020DEA0BF250>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x0000020DEB082200>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\starlette\middleware\cors.py", line 147, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x0000020DEB082200...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x0000020DEB12F...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x0000020DEB0821D0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x0000020DEB082200>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\starlette\middleware\exceptions.py", line 79, in __call__
    raise exc

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\starlette\middleware\exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x0000020DEB0927A0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x0000020DEB12F...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x0000020DEB082170>
          └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x0000020DEB0821D0>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x0000020DEB0927A0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x0000020DEB12F...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x0000020DE8C94970>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x0000020DEB082170>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\starlette\routing.py", line 706, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x0000020DEB0927A0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x0000020DEB12F...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │     └ <function Route.handle at 0x0000020DEA0A1510>
          └ APIRoute(path='/api/v1/login/access-token', name='login_access_token', methods=['POST'])

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\starlette\routing.py", line 276, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x0000020DEB0927A0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x0000020DEB12F...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function request_response.<locals>.app at 0x0000020DEB0771C0>
          └ APIRoute(path='/api/v1/login/access-token', name='login_access_token', methods=['POST'])

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\starlette\routing.py", line 66, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x0000020DEB0FFA60>
                     └ <function get_request_handler.<locals>.app at 0x0000020DEB075900>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\fastapi\routing.py", line 235, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x0000020DEA0A0160>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\fastapi\routing.py", line 161, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <sqlalchemy.orm.session.AsyncSession object at 0x0000020DEB13E230>, 'form_data': <fastapi.security.oauth2.OAuth2Passwo...
                 │         └ <function login_access_token at 0x0000020DEAED8CA0>
                 └ <fastapi.dependencies.models.Dependant object at 0x0000020DE8C2E350>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\.\backend\app\api\api_v1\endpoints\login.py", line 27, in login_access_token
    user = await crud.user.authenticate(
                 │    │    └ <function CRUDUser.authenticate at 0x0000020DEAED8310>
                 │    └ <backend.app.crud.user.CRUDUser object at 0x0000020DEAB3DFF0>
                 └ <module 'backend.app.crud' from 'C:\\Users\\R\\PycharmProjects\\fastapi-react-crm-backend\\.\\backend\\app\\crud\\__init__.py'>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\.\backend\app\crud\user.py", line 65, in authenticate
    user = await self.get_by_email(db, email=email)
                 │    │            │         └ 'admin@gmail.com'
                 │    │            └ <sqlalchemy.orm.session.AsyncSession object at 0x0000020DEB13E230>
                 │    └ <function CRUDUser.get_by_email at 0x0000020DEAED8280>
                 └ <backend.app.crud.user.CRUDUser object at 0x0000020DEAB3DFF0>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\.\backend\app\crud\user.py", line 54, in get_by_email
    result: Result = await db.execute(sqlalchemy.select(User).where(User.email == email))
                           │  │       │          │      │           │    │        └ 'admin@gmail.com'
                           │  │       │          │      │           │    └ <sqlalchemy.orm.attributes.InstrumentedAttribute object at 0x0000020DEAA4DCB0>
                           │  │       │          │      │           └ <class 'backend.app.db.models.User'>
                           │  │       │          │      └ <class 'backend.app.db.models.User'>
                           │  │       │          └ <function select at 0x0000020DEA550310>
                           │  │       └ <module 'sqlalchemy' from 'C:\\Users\\R\\PycharmProjects\\fastapi-react-crm-backend\\venv\\lib\\site-packages\\sqlalchemy\\__...
                           │  └ <function AsyncSession.execute at 0x0000020DEA935240>
                           └ <sqlalchemy.orm.session.AsyncSession object at 0x0000020DEB13E230>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\sqlalchemy\ext\asyncio\session.py", line 214, in execute
    result = await greenlet_spawn(
                   └ <function greenlet_spawn at 0x0000020DEA1EBAC0>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 128, in greenlet_spawn
    result = context.switch(value)
             │       │      └ None
             │       └ <method 'switch' of 'greenlet.greenlet' objects>
             └ <_AsyncIoGreenlet object at 0x0000020DEB118A80 (otid=0x0000020DEA1A5050) dead>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\sqlalchemy\orm\session.py", line 1717, in execute
    result = compile_state_cls.orm_setup_cursor_result(
             │                 └ <classmethod(<function ORMCompileState.orm_setup_cursor_result at 0x0000020DEA7E6200>)>
             └ <class 'sqlalchemy.orm.context.ORMSelectCompileState'>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\sqlalchemy\orm\context.py", line 349, in orm_setup_cursor_result
    return loading.instances(result, querycontext)
           │       │         │       └ <sqlalchemy.orm.context.QueryContext object at 0x0000020DEB106190>
           │       │         └ <sqlalchemy.engine.cursor.CursorResult object at 0x0000020DEAF148E0>
           │       └ <function instances at 0x0000020DEA7A0E50>
           └ <module 'sqlalchemy.orm.loading' from 'C:\\Users\\R\\PycharmProjects\\fastapi-react-crm-backend\\venv\\lib\\site-packages\\sq...

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\sqlalchemy\orm\loading.py", line 169, in instances
    _prebuffered = list(chunks(None))
                        └ <function instances.<locals>.chunks at 0x0000020DEC1D7760>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\sqlalchemy\orm\loading.py", line 147, in chunks
    fetch = cursor._raw_all_rows()
            │      └ <function ResultInternal._raw_all_rows at 0x0000020DEA62B250>
            └ <sqlalchemy.engine.cursor.CursorResult object at 0x0000020DEAF148E0>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\sqlalchemy\engine\result.py", line 393, in _raw_all_rows
    return [make_row(row) for row in rows]
            │                        └ [<Record id=1 email='admin@gmail.com' hashed_password='$2b$12$.DXPn3b0163JsVu.mYgxOuEs5CGF00zvXllpnpL34SwKFc3WRrmga' role='ad...
            └ functools.partial(<class 'sqlalchemy.engine.row.Row'>, <sqlalchemy.engine.cursor.CursorResultMetaData object at 0x0000020DEB1...

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\sqlalchemy\engine\result.py", line 393, in <listcomp>
    return [make_row(row) for row in rows]
            │        │        └ <Record id=1 email='admin@gmail.com' hashed_password='$2b$12$.DXPn3b0163JsVu.mYgxOuEs5CGF00zvXllpnpL34SwKFc3WRrmga' role='adm...
            │        └ <Record id=1 email='admin@gmail.com' hashed_password='$2b$12$.DXPn3b0163JsVu.mYgxOuEs5CGF00zvXllpnpL34SwKFc3WRrmga' role='adm...
            └ functools.partial(<class 'sqlalchemy.engine.row.Row'>, <sqlalchemy.engine.cursor.CursorResultMetaData object at 0x0000020DEB1...

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\sqlalchemy\sql\sqltypes.py", line 1770, in process
    value = self._object_value_for_elem(value)
            │    │                      └ 'admin'
            │    └ <function Enum._object_value_for_elem at 0x0000020DEA416CB0>
            └ AsyncPgEnum('user', 'anon', 'student', 'student_leader', 'student_leader_assistant', 'teacher', name='user_role', _create_eve...

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\sqlalchemy\sql\sqltypes.py", line 1653, in _object_value_for_elem
    util.raise_(
    │    └ <function raise_ at 0x0000020DEA1B0D30>
    └ <module 'sqlalchemy.util' from 'C:\\Users\\R\\PycharmProjects\\fastapi-react-crm-backend\\venv\\lib\\site-packages\\sqlalchem...

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\sqlalchemy\util\compat.py", line 211, in raise_
    raise exception

LookupError: 'admin' is not among the defined enum values. Enum name: user_role. Possible values: user, anon, student, ..., teacher
INFO     2022-12-14 12:11:13.947 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-12-14 12:11:13.947 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-12-14 12:11:31.476 request id: app - uvicorn.server:serve - Started server process [22972]
INFO     2022-12-14 12:11:31.476 request id: app - uvicorn.server:serve - Started server process [22972]
INFO     2022-12-14 12:11:31.476 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-12-14 12:11:31.477 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-12-14 12:11:31.478 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-12-14 12:11:31.478 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-12-14 12:11:34.484 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:54256 - "POST /api/v1/login/access-token HTTP/1.1" 200
INFO     2022-12-14 12:12:01.650 request id: app - backend.app.api.deps:get_current_user_async - START
INFO     2022-12-14 12:12:01.653 request id: app - backend.app.api.deps:get_session_user - get_session_user: postgres
INFO     2022-12-14 12:12:01.653 request id: app - backend.app.api.deps:reset_session_user - RESET_session_user
INFO     2022-12-14 12:12:01.656 request id: app - backend.app.api.deps:get_session_user - get_session_user: postgres
INFO     2022-12-14 12:12:01.663 request id: app - backend.app.api.deps:check_rolname - check_rolname: ka52 role exist
INFO     2022-12-14 12:12:01.663 request id: app - backend.app.api.deps:reset_session_user - RESET_session_user
INFO     2022-12-14 12:12:01.665 request id: app - backend.app.api.deps:get_session_user - get_session_user: postgres
INFO     2022-12-14 12:12:01.666 request id: app - backend.app.api.deps:set_session_user - SET_session_user: ka52
INFO     2022-12-14 12:12:01.669 request id: app - backend.app.api.deps:get_session_user - get_session_user: ka52
INFO     2022-12-14 12:12:01.669 request id: app - backend.app.api.deps:get_current_user_async - END
INFO     2022-12-14 12:12:01.712 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:54264 - "GET /api/v1/users/?sort=%5B%22id%22%2C%20%22ASC%22%5D&range=%5B0%2C%2010%5D HTTP/1.1" 200
INFO     2022-12-14 12:12:23.264 request id: app - backend.app.api.deps:get_current_user_async - START
INFO     2022-12-14 12:12:23.266 request id: app - backend.app.api.deps:get_session_user - get_session_user: postgres
INFO     2022-12-14 12:12:23.266 request id: app - backend.app.api.deps:reset_session_user - RESET_session_user
INFO     2022-12-14 12:12:23.269 request id: app - backend.app.api.deps:get_session_user - get_session_user: postgres
INFO     2022-12-14 12:12:23.270 request id: app - backend.app.api.deps:check_rolname - check_rolname: ka52 role exist
INFO     2022-12-14 12:12:23.270 request id: app - backend.app.api.deps:reset_session_user - RESET_session_user
INFO     2022-12-14 12:12:23.272 request id: app - backend.app.api.deps:get_session_user - get_session_user: postgres
INFO     2022-12-14 12:12:23.273 request id: app - backend.app.api.deps:set_session_user - SET_session_user: ka52
INFO     2022-12-14 12:12:23.274 request id: app - backend.app.api.deps:get_session_user - get_session_user: ka52
INFO     2022-12-14 12:12:23.275 request id: app - backend.app.api.deps:get_current_user_async - END
INFO     2022-12-14 12:12:23.277 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:54274 - "GET /api/v1/users/me HTTP/1.1" 200
INFO     2022-12-14 12:12:44.919 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-12-14 12:12:44.920 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-12-14 12:12:45.026 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-12-14 12:12:45.026 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-12-14 12:12:45.027 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-12-14 12:12:45.028 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-12-14 12:12:45.028 request id: app - uvicorn.server:serve - Finished server process [22972]
INFO     2022-12-14 12:12:45.028 request id: app - uvicorn.server:serve - Finished server process [22972]
INFO     2022-12-14 12:19:12.627 request id: app - uvicorn.server:serve - Started server process [26740]
INFO     2022-12-14 12:19:12.628 request id: app - uvicorn.server:serve - Started server process [26740]
INFO     2022-12-14 12:19:12.628 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-12-14 12:19:12.628 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
ERROR    2022-12-14 12:19:12.651 request id: app - uvicorn.lifespan.on:send - Traceback (most recent call last):
  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\starlette\routing.py", line 671, in lifespan
    async with self.lifespan_context(app):
  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\starlette\routing.py", line 566, in __aenter__
    await self._router.startup()
  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\starlette\routing.py", line 648, in startup
    await handler()
  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\.\backend\app\main.py", line 94, in startup_event
    await asyncpg_database.init_pool()
  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\asyncpg_utils\databases.py", line 83, in init_pool
    self.pool = await asyncpg.create_pool(self.dsn, **self.kwargs)
  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\asyncpg\pool.py", line 409, in _async__init__
    await self._initialize()
  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\asyncpg\pool.py", line 437, in _initialize
    await first_ch.connect()
  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\asyncpg\pool.py", line 129, in connect
    self._con = await self._pool._get_new_connection()
  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\asyncpg\pool.py", line 507, in _get_new_connection
    con = await connection.connect(
  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\asyncpg\connection.py", line 2092, in connect
    return await connect_utils._connect(
  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\asyncpg\connect_utils.py", line 874, in _connect
    addrs, params, config = _parse_connect_arguments(timeout=timeout, **kwargs)
  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\asyncpg\connect_utils.py", line 633, in _parse_connect_arguments
    addrs, params = _parse_connect_dsn_and_args(
  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\asyncpg\connect_utils.py", line 269, in _parse_connect_dsn_and_args
    raise ValueError(
ValueError: invalid DSN: scheme is expected to be either "postgresql" or "postgres", got 'postgresql+asyncpg'

ERROR    2022-12-14 12:19:12.651 request id: app - uvicorn.lifespan.on:send - Traceback (most recent call last):
  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\starlette\routing.py", line 671, in lifespan
    async with self.lifespan_context(app):
  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\starlette\routing.py", line 566, in __aenter__
    await self._router.startup()
  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\starlette\routing.py", line 648, in startup
    await handler()
  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\.\backend\app\main.py", line 94, in startup_event
    await asyncpg_database.init_pool()
  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\asyncpg_utils\databases.py", line 83, in init_pool
    self.pool = await asyncpg.create_pool(self.dsn, **self.kwargs)
  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\asyncpg\pool.py", line 409, in _async__init__
    await self._initialize()
  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\asyncpg\pool.py", line 437, in _initialize
    await first_ch.connect()
  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\asyncpg\pool.py", line 129, in connect
    self._con = await self._pool._get_new_connection()
  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\asyncpg\pool.py", line 507, in _get_new_connection
    con = await connection.connect(
  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\asyncpg\connection.py", line 2092, in connect
    return await connect_utils._connect(
  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\asyncpg\connect_utils.py", line 874, in _connect
    addrs, params, config = _parse_connect_arguments(timeout=timeout, **kwargs)
  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\asyncpg\connect_utils.py", line 633, in _parse_connect_arguments
    addrs, params = _parse_connect_dsn_and_args(
  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\asyncpg\connect_utils.py", line 269, in _parse_connect_dsn_and_args
    raise ValueError(
ValueError: invalid DSN: scheme is expected to be either "postgresql" or "postgres", got 'postgresql+asyncpg'

ERROR    2022-12-14 12:19:12.652 request id: app - uvicorn.lifespan.on:startup - Application startup failed. Exiting.
ERROR    2022-12-14 12:19:12.652 request id: app - uvicorn.lifespan.on:startup - Application startup failed. Exiting.
INFO     2022-12-14 12:19:27.567 request id: app - uvicorn.server:serve - Started server process [24664]
INFO     2022-12-14 12:19:27.567 request id: app - uvicorn.server:serve - Started server process [24664]
INFO     2022-12-14 12:19:27.568 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-12-14 12:19:27.568 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-12-14 12:19:27.837 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-12-14 12:19:27.838 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-12-14 12:19:30.581 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-12-14 12:19:30.581 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-12-14 12:19:30.689 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-12-14 12:19:30.689 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-12-14 12:19:30.690 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-12-14 12:19:30.690 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-12-14 12:19:30.691 request id: app - uvicorn.server:serve - Finished server process [24664]
INFO     2022-12-14 12:19:30.691 request id: app - uvicorn.server:serve - Finished server process [24664]
INFO     2022-12-14 13:21:36.437 request id: app - uvicorn.server:serve - Started server process [31124]
INFO     2022-12-14 13:21:36.437 request id: app - uvicorn.server:serve - Started server process [31124]
INFO     2022-12-14 13:21:36.438 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-12-14 13:21:36.438 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-12-14 13:21:36.438 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-12-14 13:21:36.438 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-12-14 13:21:49.806 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:56494 - "GET /favicon.ico HTTP/1.1" 404
INFO     2022-12-14 13:21:50.772 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:56494 - "GET /docs HTTP/1.1" 200
INFO     2022-12-14 13:21:50.963 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:56494 - "GET /api/v1/openapi.json HTTP/1.1" 200
INFO     2022-12-14 13:21:53.135 request id: app - sqlalchemy.log:log - select pg_catalog.version()
INFO     2022-12-14 13:21:53.136 request id: app - sqlalchemy.log:log - [raw sql] ()
INFO     2022-12-14 13:21:53.140 request id: app - sqlalchemy.log:log - select current_schema()
INFO     2022-12-14 13:21:53.141 request id: app - sqlalchemy.log:log - [raw sql] ()
INFO     2022-12-14 13:21:53.144 request id: app - sqlalchemy.log:log - show standard_conforming_strings
INFO     2022-12-14 13:21:53.144 request id: app - sqlalchemy.log:log - [raw sql] ()
INFO     2022-12-14 13:21:53.147 request id: app - sqlalchemy.log:log - BEGIN (implicit)
INFO     2022-12-14 13:21:53.182 request id: app - sqlalchemy.log:log - SELECT "user".id, "user".email, "user".hashed_password, "user".role, "user".full_name, "user".username, "user".age, "user".avatar, "user".is_active, "user".is_superuser, "user".create_date 
FROM "user" 
WHERE "user".email = %s
INFO     2022-12-14 13:21:53.183 request id: app - sqlalchemy.log:log - [generated in 0.00048s] ('admin@gmail.com',)
INFO     2022-12-14 13:21:53.390 request id: app - sqlalchemy.log:log - ROLLBACK
INFO     2022-12-14 13:21:53.392 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:56494 - "POST /api/v1/login/access-token HTTP/1.1" 402
INFO     2022-12-14 13:22:07.363 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-12-14 13:22:07.363 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-12-14 13:22:07.475 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-12-14 13:22:07.476 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-12-14 13:22:07.476 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-12-14 13:22:07.476 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-12-14 13:22:07.477 request id: app - uvicorn.server:serve - Finished server process [31124]
INFO     2022-12-14 13:22:07.477 request id: app - uvicorn.server:serve - Finished server process [31124]
INFO     2022-12-14 13:35:53.238 request id: app - uvicorn.server:serve - Started server process [11932]
INFO     2022-12-14 13:35:53.239 request id: app - uvicorn.server:serve - Started server process [11932]
INFO     2022-12-14 13:35:53.239 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-12-14 13:35:53.239 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-12-14 13:35:53.239 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-12-14 13:35:53.240 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-12-14 13:35:58.647 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-12-14 13:35:58.647 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-12-14 13:35:58.759 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-12-14 13:35:58.759 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-12-14 13:35:58.760 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-12-14 13:35:58.760 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-12-14 13:35:58.761 request id: app - uvicorn.server:serve - Finished server process [11932]
INFO     2022-12-14 13:35:58.761 request id: app - uvicorn.server:serve - Finished server process [11932]
INFO     2022-12-14 13:36:00.533 request id: app - uvicorn.server:serve - Started server process [10812]
INFO     2022-12-14 13:36:00.534 request id: app - uvicorn.server:serve - Started server process [10812]
INFO     2022-12-14 13:36:00.534 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-12-14 13:36:00.535 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-12-14 13:36:00.535 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-12-14 13:36:00.535 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-12-14 13:36:03.736 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-12-14 13:36:03.736 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-12-14 13:36:03.847 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-12-14 13:36:03.847 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-12-14 13:36:03.848 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-12-14 13:36:03.848 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-12-14 13:36:03.848 request id: app - uvicorn.server:serve - Finished server process [10812]
INFO     2022-12-14 13:36:03.849 request id: app - uvicorn.server:serve - Finished server process [10812]
INFO     2022-12-14 13:36:05.330 request id: app - uvicorn.server:serve - Started server process [31244]
INFO     2022-12-14 13:36:05.331 request id: app - uvicorn.server:serve - Started server process [31244]
INFO     2022-12-14 13:36:05.331 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-12-14 13:36:05.331 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-12-14 13:36:05.332 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-12-14 13:36:05.333 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-12-14 13:36:07.222 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:56859 - "GET /docs HTTP/1.1" 200
INFO     2022-12-14 13:36:07.529 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:56859 - "GET /api/v1/openapi.json HTTP/1.1" 200
INFO     2022-12-14 13:36:09.757 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:56859 - "POST /api/v1/login/access-token HTTP/1.1" 500
ERROR    2022-12-14 13:36:09.757 request id: app - uvicorn.protocols.http.h11_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\R\AppData\Local\Programs\Python\Python310\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 204
               │     └ 3
               └ <function _main at 0x0000023130BD6320>

  File "C:\Users\R\AppData\Local\Programs\Python\Python310\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 204
           │    └ <function BaseProcess._bootstrap at 0x0000023130B34160>
           └ <SpawnProcess name='SpawnProcess-1' parent=19792 started>

  File "C:\Users\R\AppData\Local\Programs\Python\Python310\lib\multiprocessing\process.py", line 314, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x0000023130B27760>
    └ <SpawnProcess name='SpawnProcess-1' parent=19792 started>

  File "C:\Users\R\AppData\Local\Programs\Python\Python310\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x0000023130A92D70>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-1' parent=19792 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-1' parent=19792 started>
    │    └ <function subprocess_started at 0x0000023132F14310>
    └ <SpawnProcess name='SpawnProcess-1' parent=19792 started>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\uvicorn\_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=736, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x0000023130A93460>>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\uvicorn\server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=736, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 8000)>]
           │       │   │    └ <function Server.serve at 0x0000023132EF0EE0>
           │       │   └ <uvicorn.server.Server object at 0x0000023130A93460>
           │       └ <function run at 0x0000023132728B80>
           └ <module 'asyncio' from 'C:\\Users\\R\\AppData\\Local\\Programs\\Python\\Python310\\lib\\asyncio\\__init__.py'>

  File "C:\Users\R\AppData\Local\Programs\Python\Python310\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x0000023132F109E0>
           │    └ <function BaseEventLoop.run_until_complete at 0x000002313272A560>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\R\AppData\Local\Programs\Python\Python310\lib\asyncio\base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000002313272A4D0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\R\AppData\Local\Programs\Python\Python310\lib\asyncio\base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000002313272C040>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\R\AppData\Local\Programs\Python\Python310\lib\asyncio\base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x0000023130F2F880>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>

  File "C:\Users\R\AppData\Local\Programs\Python\Python310\lib\asyncio\events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>

> File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\uvicorn\protocols\http\h11_impl.py", line 407, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x0000023132F0EA10>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x00000231363DF640>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x00000231363DF...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x0000023132F74400>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x0000023132F0EA10>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x00000231363DF640>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x00000231363DF...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x00000231363DF640>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x00000231363DF...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000002313535A5C0>
          └ <fastapi.applications.FastAPI object at 0x0000023132F74400>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\starlette\middleware\errors.py", line 184, in __call__
    raise exc

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\starlette\middleware\errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000023132F164D0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x00000231363DF...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000002313535A4D0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000002313535A5C0>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\starlette\middleware\cors.py", line 92, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '127.0.0.1:8000', 'connection': 'keep-alive', 'content-length': '61', 'sec-ch-ua': '"Not?A_Brand";v="8", "Ch...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000023132F164D0>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x00000231363DF...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function CORSMiddleware.simple_response at 0x000002313439F250>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000002313535A4D0>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\starlette\middleware\cors.py", line 147, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x000002313535A4D0...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x00000231363DF...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000002313535A4A0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000002313535A4D0>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\starlette\middleware\exceptions.py", line 79, in __call__
    raise exc

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\starlette\middleware\exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x00000231353723B0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x00000231363DF...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x000002313535A440>
          └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000002313535A4A0>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x00000231353723B0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x00000231363DF...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x0000023132F74970>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x000002313535A440>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\starlette\routing.py", line 706, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x00000231353723B0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x00000231363DF...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │     └ <function Route.handle at 0x0000023134379510>
          └ APIRoute(path='/api/v1/login/access-token', name='login_access_token', methods=['POST'])

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\starlette\routing.py", line 276, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x00000231353723B0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x00000231363DF...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function request_response.<locals>.app at 0x000002313535F130>
          └ APIRoute(path='/api/v1/login/access-token', name='login_access_token', methods=['POST'])

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\starlette\routing.py", line 66, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x00000231363AFE50>
                     └ <function get_request_handler.<locals>.app at 0x000002313535D870>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\fastapi\routing.py", line 225, in app
    solved_result = await solve_dependencies(
                          └ <function solve_dependencies at 0x000002313435B9A0>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\fastapi\dependencies\utils.py", line 529, in solve_dependencies
    solved = await solve_generator(
                   └ <function solve_generator at 0x000002313435B910>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\fastapi\dependencies\utils.py", line 454, in solve_generator
    return await stack.enter_async_context(cm)
                 │     │                   └ <contextlib._AsyncGeneratorContextManager object at 0x0000023136436590>
                 │     └ <function AsyncExitStack.enter_async_context at 0x0000023130A61900>
                 └ <contextlib.AsyncExitStack object at 0x00000231363AF8E0>

  File "C:\Users\R\AppData\Local\Programs\Python\Python310\lib\contextlib.py", line 619, in enter_async_context
    result = await _cm_type.__aenter__(cm)
                   │        │          └ <contextlib._AsyncGeneratorContextManager object at 0x0000023136436590>
                   │        └ <function _AsyncGeneratorContextManager.__aenter__ at 0x0000023130A60820>
                   └ <class 'contextlib._AsyncGeneratorContextManager'>

  File "C:\Users\R\AppData\Local\Programs\Python\Python310\lib\contextlib.py", line 199, in __aenter__
    return await anext(self.gen)
                       │    └ <async_generator object get_db at 0x00000231363C0440>
                       └ <contextlib._AsyncGeneratorContextManager object at 0x0000023136436590>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\.\backend\app\api\deps.py", line 26, in get_db
    assert isinstance(AsyncSession, session)
                      │             └ <sqlalchemy.orm.session.AsyncSession object at 0x00000231364365C0>
                      └ <class 'sqlalchemy.ext.asyncio.session.AsyncSession'>

TypeError: isinstance() arg 2 must be a type, a tuple of types, or a union
ERROR    2022-12-14 13:36:09.771 request id: app - uvicorn.protocols.http.h11_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\R\AppData\Local\Programs\Python\Python310\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 204
               │     └ 3
               └ <function _main at 0x0000023130BD6320>

  File "C:\Users\R\AppData\Local\Programs\Python\Python310\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 204
           │    └ <function BaseProcess._bootstrap at 0x0000023130B34160>
           └ <SpawnProcess name='SpawnProcess-1' parent=19792 started>

  File "C:\Users\R\AppData\Local\Programs\Python\Python310\lib\multiprocessing\process.py", line 314, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x0000023130B27760>
    └ <SpawnProcess name='SpawnProcess-1' parent=19792 started>

  File "C:\Users\R\AppData\Local\Programs\Python\Python310\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x0000023130A92D70>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-1' parent=19792 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-1' parent=19792 started>
    │    └ <function subprocess_started at 0x0000023132F14310>
    └ <SpawnProcess name='SpawnProcess-1' parent=19792 started>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\uvicorn\_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=736, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x0000023130A93460>>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\uvicorn\server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=736, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 8000)>]
           │       │   │    └ <function Server.serve at 0x0000023132EF0EE0>
           │       │   └ <uvicorn.server.Server object at 0x0000023130A93460>
           │       └ <function run at 0x0000023132728B80>
           └ <module 'asyncio' from 'C:\\Users\\R\\AppData\\Local\\Programs\\Python\\Python310\\lib\\asyncio\\__init__.py'>

  File "C:\Users\R\AppData\Local\Programs\Python\Python310\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x0000023132F109E0>
           │    └ <function BaseEventLoop.run_until_complete at 0x000002313272A560>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\R\AppData\Local\Programs\Python\Python310\lib\asyncio\base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000002313272A4D0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\R\AppData\Local\Programs\Python\Python310\lib\asyncio\base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000002313272C040>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\R\AppData\Local\Programs\Python\Python310\lib\asyncio\base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x0000023130F2F880>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>

  File "C:\Users\R\AppData\Local\Programs\Python\Python310\lib\asyncio\events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>

> File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\uvicorn\protocols\http\h11_impl.py", line 407, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x0000023132F0EA10>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x00000231363DF640>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x00000231363DF...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x0000023132F74400>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x0000023132F0EA10>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x00000231363DF640>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x00000231363DF...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x00000231363DF640>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x00000231363DF...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000002313535A5C0>
          └ <fastapi.applications.FastAPI object at 0x0000023132F74400>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\starlette\middleware\errors.py", line 184, in __call__
    raise exc

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\starlette\middleware\errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000023132F164D0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x00000231363DF...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000002313535A4D0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000002313535A5C0>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\starlette\middleware\cors.py", line 92, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '127.0.0.1:8000', 'connection': 'keep-alive', 'content-length': '61', 'sec-ch-ua': '"Not?A_Brand";v="8", "Ch...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000023132F164D0>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x00000231363DF...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function CORSMiddleware.simple_response at 0x000002313439F250>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000002313535A4D0>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\starlette\middleware\cors.py", line 147, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x000002313535A4D0...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x00000231363DF...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000002313535A4A0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000002313535A4D0>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\starlette\middleware\exceptions.py", line 79, in __call__
    raise exc

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\starlette\middleware\exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x00000231353723B0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x00000231363DF...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x000002313535A440>
          └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000002313535A4A0>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x00000231353723B0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x00000231363DF...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x0000023132F74970>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x000002313535A440>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\starlette\routing.py", line 706, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x00000231353723B0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x00000231363DF...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │     └ <function Route.handle at 0x0000023134379510>
          └ APIRoute(path='/api/v1/login/access-token', name='login_access_token', methods=['POST'])

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\starlette\routing.py", line 276, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x00000231353723B0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x00000231363DF...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function request_response.<locals>.app at 0x000002313535F130>
          └ APIRoute(path='/api/v1/login/access-token', name='login_access_token', methods=['POST'])

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\starlette\routing.py", line 66, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x00000231363AFE50>
                     └ <function get_request_handler.<locals>.app at 0x000002313535D870>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\fastapi\routing.py", line 225, in app
    solved_result = await solve_dependencies(
                          └ <function solve_dependencies at 0x000002313435B9A0>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\fastapi\dependencies\utils.py", line 529, in solve_dependencies
    solved = await solve_generator(
                   └ <function solve_generator at 0x000002313435B910>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\fastapi\dependencies\utils.py", line 454, in solve_generator
    return await stack.enter_async_context(cm)
                 │     │                   └ <contextlib._AsyncGeneratorContextManager object at 0x0000023136436590>
                 │     └ <function AsyncExitStack.enter_async_context at 0x0000023130A61900>
                 └ <contextlib.AsyncExitStack object at 0x00000231363AF8E0>

  File "C:\Users\R\AppData\Local\Programs\Python\Python310\lib\contextlib.py", line 619, in enter_async_context
    result = await _cm_type.__aenter__(cm)
                   │        │          └ <contextlib._AsyncGeneratorContextManager object at 0x0000023136436590>
                   │        └ <function _AsyncGeneratorContextManager.__aenter__ at 0x0000023130A60820>
                   └ <class 'contextlib._AsyncGeneratorContextManager'>

  File "C:\Users\R\AppData\Local\Programs\Python\Python310\lib\contextlib.py", line 199, in __aenter__
    return await anext(self.gen)
                       │    └ <async_generator object get_db at 0x00000231363C0440>
                       └ <contextlib._AsyncGeneratorContextManager object at 0x0000023136436590>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\.\backend\app\api\deps.py", line 26, in get_db
    assert isinstance(AsyncSession, session)
                      │             └ <sqlalchemy.orm.session.AsyncSession object at 0x00000231364365C0>
                      └ <class 'sqlalchemy.ext.asyncio.session.AsyncSession'>

TypeError: isinstance() arg 2 must be a type, a tuple of types, or a union
INFO     2022-12-14 13:36:26.452 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-12-14 13:36:26.453 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-12-14 13:36:26.562 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-12-14 13:36:26.562 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-12-14 13:36:26.563 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-12-14 13:36:26.563 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-12-14 13:36:26.564 request id: app - uvicorn.server:serve - Finished server process [31244]
INFO     2022-12-14 13:36:26.565 request id: app - uvicorn.server:serve - Finished server process [31244]
INFO     2022-12-14 13:36:28.443 request id: app - uvicorn.server:serve - Started server process [10296]
INFO     2022-12-14 13:36:28.443 request id: app - uvicorn.server:serve - Started server process [10296]
INFO     2022-12-14 13:36:28.444 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-12-14 13:36:28.444 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-12-14 13:36:28.445 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-12-14 13:36:28.445 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-12-14 13:36:30.305 request id: app - sqlalchemy.log:log - select pg_catalog.version()
INFO     2022-12-14 13:36:30.305 request id: app - sqlalchemy.log:log - [raw sql] ()
INFO     2022-12-14 13:36:30.310 request id: app - sqlalchemy.log:log - select current_schema()
INFO     2022-12-14 13:36:30.310 request id: app - sqlalchemy.log:log - [raw sql] ()
INFO     2022-12-14 13:36:30.312 request id: app - sqlalchemy.log:log - show standard_conforming_strings
INFO     2022-12-14 13:36:30.312 request id: app - sqlalchemy.log:log - [raw sql] ()
INFO     2022-12-14 13:36:30.314 request id: app - sqlalchemy.log:log - BEGIN (implicit)
INFO     2022-12-14 13:36:30.326 request id: app - sqlalchemy.log:log - SELECT "user".id, "user".email, "user".hashed_password, "user".role, "user".full_name, "user".username, "user".age, "user".avatar, "user".is_active, "user".is_superuser, "user".create_date 
FROM "user" 
WHERE "user".email = %s
INFO     2022-12-14 13:36:30.326 request id: app - sqlalchemy.log:log - [generated in 0.00063s] ('admin@gmail.com',)
INFO     2022-12-14 13:36:30.423 request id: app - sqlalchemy.log:log - ROLLBACK
INFO     2022-12-14 13:36:30.425 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:56875 - "POST /api/v1/login/access-token HTTP/1.1" 402
INFO     2022-12-14 13:36:46.207 request id: app - uvicorn.server:serve - Started server process [25704]
INFO     2022-12-14 13:36:46.207 request id: app - uvicorn.server:serve - Started server process [25704]
INFO     2022-12-14 13:36:46.208 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-12-14 13:36:46.208 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-12-14 13:36:46.209 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-12-14 13:36:46.209 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-12-14 13:36:49.424 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:56884 - "POST /api/v1/login/access-token HTTP/1.1" 402
INFO     2022-12-14 13:36:58.693 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-12-14 13:36:58.693 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-12-14 13:36:58.804 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-12-14 13:36:58.804 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-12-14 13:36:58.805 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-12-14 13:36:58.805 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-12-14 13:36:58.806 request id: app - uvicorn.server:serve - Finished server process [25704]
INFO     2022-12-14 13:36:58.806 request id: app - uvicorn.server:serve - Finished server process [25704]
INFO     2022-12-14 13:37:13.333 request id: app - uvicorn.server:serve - Started server process [28652]
INFO     2022-12-14 13:37:13.334 request id: app - uvicorn.server:serve - Started server process [28652]
INFO     2022-12-14 13:37:13.334 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-12-14 13:37:13.335 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-12-14 13:37:13.335 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-12-14 13:37:13.336 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-12-14 13:37:16.592 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:56902 - "POST /api/v1/login/access-token HTTP/1.1" 402
INFO     2022-12-14 13:37:27.045 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-12-14 13:37:27.046 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-12-14 13:37:27.156 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-12-14 13:37:27.157 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-12-14 13:37:27.157 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-12-14 13:37:27.158 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-12-14 13:37:27.159 request id: app - uvicorn.server:serve - Finished server process [28652]
INFO     2022-12-14 13:37:27.159 request id: app - uvicorn.server:serve - Finished server process [28652]
INFO     2022-12-14 13:37:31.002 request id: app - uvicorn.server:serve - Started server process [32388]
INFO     2022-12-14 13:37:31.004 request id: app - uvicorn.server:serve - Started server process [32388]
INFO     2022-12-14 13:37:31.004 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-12-14 13:37:31.005 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-12-14 13:37:31.006 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-12-14 13:37:31.006 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-12-14 13:37:31.255 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:56915 - "POST /api/v1/login/access-token HTTP/1.1" 402
INFO     2022-12-14 13:37:38.039 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-12-14 13:37:38.040 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-12-14 13:37:38.148 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-12-14 13:37:38.149 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-12-14 13:37:38.150 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-12-14 13:37:38.150 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-12-14 13:37:38.150 request id: app - uvicorn.server:serve - Finished server process [32388]
INFO     2022-12-14 13:37:38.151 request id: app - uvicorn.server:serve - Finished server process [32388]
INFO     2022-12-14 13:37:41.957 request id: app - uvicorn.server:serve - Started server process [29832]
INFO     2022-12-14 13:37:41.958 request id: app - uvicorn.server:serve - Started server process [29832]
INFO     2022-12-14 13:37:41.958 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-12-14 13:37:41.959 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-12-14 13:37:41.959 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-12-14 13:37:41.959 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-12-14 13:37:42.203 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:56927 - "POST /api/v1/login/access-token HTTP/1.1" 402
INFO     2022-12-14 13:37:49.569 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-12-14 13:37:49.570 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-12-14 13:37:49.679 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-12-14 13:37:49.680 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-12-14 13:37:49.680 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-12-14 13:37:49.680 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-12-14 13:37:49.681 request id: app - uvicorn.server:serve - Finished server process [29832]
INFO     2022-12-14 13:37:49.682 request id: app - uvicorn.server:serve - Finished server process [29832]
INFO     2022-12-14 13:44:59.072 request id: app - uvicorn.server:serve - Started server process [24548]
INFO     2022-12-14 13:44:59.073 request id: app - uvicorn.server:serve - Started server process [24548]
INFO     2022-12-14 13:44:59.073 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-12-14 13:44:59.074 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-12-14 13:44:59.074 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-12-14 13:44:59.074 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-12-14 13:45:01.904 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:57038 - "POST /api/v1/login/access-token HTTP/1.1" 402
INFO     2022-12-14 13:46:13.900 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:57061 - "POST /api/v1/login/access-token HTTP/1.1" 402
INFO     2022-12-14 13:46:44.900 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-12-14 13:46:44.900 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-12-14 13:46:45.012 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-12-14 13:46:45.012 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-12-14 13:46:45.012 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-12-14 13:46:45.013 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-12-14 13:46:45.013 request id: app - uvicorn.server:serve - Finished server process [24548]
INFO     2022-12-14 13:46:45.014 request id: app - uvicorn.server:serve - Finished server process [24548]
INFO     2022-12-14 13:50:37.945 request id: app - uvicorn.server:serve - Started server process [26972]
INFO     2022-12-14 13:50:37.946 request id: app - uvicorn.server:serve - Started server process [26972]
INFO     2022-12-14 13:50:37.946 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-12-14 13:50:37.947 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-12-14 13:50:37.948 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-12-14 13:50:37.948 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-12-14 13:50:40.627 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:57168 - "POST /api/v1/login/access-token HTTP/1.1" 200
INFO     2022-12-14 13:50:54.119 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-12-14 13:50:54.119 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-12-14 13:50:54.227 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-12-14 13:50:54.228 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-12-14 13:50:54.228 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-12-14 13:50:54.229 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-12-14 13:50:54.229 request id: app - uvicorn.server:serve - Finished server process [26972]
INFO     2022-12-14 13:50:54.230 request id: app - uvicorn.server:serve - Finished server process [26972]
INFO     2022-12-14 13:52:25.817 request id: app - uvicorn.server:serve - Started server process [6400]
INFO     2022-12-14 13:52:25.817 request id: app - uvicorn.server:serve - Started server process [6400]
INFO     2022-12-14 13:52:25.817 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-12-14 13:52:25.817 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-12-14 13:52:25.818 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-12-14 13:52:25.818 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-12-14 13:52:28.006 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:57206 - "POST /api/v1/login/access-token HTTP/1.1" 200
INFO     2022-12-14 13:53:44.191 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-12-14 13:53:44.191 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-12-14 13:53:44.302 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-12-14 13:53:44.302 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-12-14 13:53:44.303 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-12-14 13:53:44.303 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-12-14 13:53:44.304 request id: app - uvicorn.server:serve - Finished server process [6400]
INFO     2022-12-14 13:53:44.304 request id: app - uvicorn.server:serve - Finished server process [6400]
INFO     2022-12-14 13:53:46.267 request id: app - uvicorn.server:serve - Started server process [23728]
INFO     2022-12-14 13:53:46.267 request id: app - uvicorn.server:serve - Started server process [23728]
INFO     2022-12-14 13:53:46.268 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-12-14 13:53:46.268 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-12-14 13:53:46.269 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-12-14 13:53:46.270 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-12-14 13:53:49.010 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:57252 - "GET /docs HTTP/1.1" 200
INFO     2022-12-14 13:53:49.320 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:57252 - "GET /api/v1/openapi.json HTTP/1.1" 200
INFO     2022-12-14 13:53:54.611 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:57252 - "POST /api/v1/login/access-token HTTP/1.1" 200
INFO     2022-12-14 13:54:09.169 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-12-14 13:54:09.169 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-12-14 13:54:09.280 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-12-14 13:54:09.280 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-12-14 13:54:09.281 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-12-14 13:54:09.282 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-12-14 13:54:09.282 request id: app - uvicorn.server:serve - Finished server process [23728]
INFO     2022-12-14 13:54:09.283 request id: app - uvicorn.server:serve - Finished server process [23728]
INFO     2022-12-14 13:54:29.740 request id: app - uvicorn.server:serve - Started server process [11648]
INFO     2022-12-14 13:54:29.741 request id: app - uvicorn.server:serve - Started server process [11648]
INFO     2022-12-14 13:54:29.742 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-12-14 13:54:29.742 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-12-14 13:54:29.743 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-12-14 13:54:29.743 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-12-14 13:56:26.935 request id: app - uvicorn.server:serve - Started server process [31208]
INFO     2022-12-14 13:56:26.935 request id: app - uvicorn.server:serve - Started server process [31208]
INFO     2022-12-14 13:56:26.936 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-12-14 13:56:26.936 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-12-14 13:56:26.936 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-12-14 13:56:26.936 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-12-14 13:56:28.114 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:57315 - "POST /api/v1/login/access-token HTTP/1.1" 200
INFO     2022-12-14 13:56:38.131 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-12-14 13:56:38.131 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-12-14 13:56:38.241 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-12-14 13:56:38.241 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-12-14 13:56:38.242 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-12-14 13:56:38.242 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-12-14 13:56:38.243 request id: app - uvicorn.server:serve - Finished server process [31208]
INFO     2022-12-14 13:56:38.243 request id: app - uvicorn.server:serve - Finished server process [31208]
INFO     2022-12-14 13:56:39.973 request id: app - uvicorn.server:serve - Started server process [26152]
INFO     2022-12-14 13:56:39.973 request id: app - uvicorn.server:serve - Started server process [26152]
INFO     2022-12-14 13:56:39.974 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-12-14 13:56:39.975 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-12-14 13:56:39.975 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-12-14 13:56:39.976 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-12-14 13:56:41.935 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:57323 - "POST /api/v1/login/access-token HTTP/1.1" 200
INFO     2022-12-14 13:57:30.859 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-12-14 13:57:30.859 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-12-14 13:57:30.969 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-12-14 13:57:30.969 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-12-14 13:57:30.970 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-12-14 13:57:30.970 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-12-14 13:57:30.971 request id: app - uvicorn.server:serve - Finished server process [26152]
INFO     2022-12-14 13:57:30.971 request id: app - uvicorn.server:serve - Finished server process [26152]
INFO     2022-12-14 13:58:00.622 request id: app - uvicorn.server:serve - Started server process [24372]
INFO     2022-12-14 13:58:00.622 request id: app - uvicorn.server:serve - Started server process [24372]
INFO     2022-12-14 13:58:00.623 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-12-14 13:58:00.623 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-12-14 13:58:00.624 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-12-14 13:58:00.625 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-12-14 13:58:02.118 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:57355 - "POST /api/v1/login/access-token HTTP/1.1" 200
INFO     2022-12-14 13:59:40.943 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-12-14 13:59:40.944 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-12-14 13:59:41.054 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-12-14 13:59:41.054 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-12-14 13:59:41.055 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-12-14 13:59:41.055 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-12-14 13:59:41.056 request id: app - uvicorn.server:serve - Finished server process [24372]
INFO     2022-12-14 13:59:41.056 request id: app - uvicorn.server:serve - Finished server process [24372]
INFO     2022-12-14 13:59:43.086 request id: app - uvicorn.server:serve - Started server process [28804]
INFO     2022-12-14 13:59:43.086 request id: app - uvicorn.server:serve - Started server process [28804]
INFO     2022-12-14 13:59:43.086 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-12-14 13:59:43.087 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-12-14 13:59:43.087 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-12-14 13:59:43.088 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-12-14 13:59:43.690 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:57393 - "POST /api/v1/login/access-token HTTP/1.1" 200
INFO     2022-12-14 13:59:53.889 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:57403 - "GET /docs HTTP/1.1" 200
INFO     2022-12-14 13:59:54.219 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:57403 - "GET /api/v1/openapi.json HTTP/1.1" 200
INFO     2022-12-14 14:00:05.022 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:57404 - "POST /api/v1/login/access-token HTTP/1.1" 200
INFO     2022-12-14 14:01:07.191 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-12-14 14:01:07.192 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-12-14 14:01:07.298 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-12-14 14:01:07.298 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-12-14 14:01:07.299 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-12-14 14:01:07.299 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-12-14 14:01:07.300 request id: app - uvicorn.server:serve - Finished server process [28804]
INFO     2022-12-14 14:01:07.300 request id: app - uvicorn.server:serve - Finished server process [28804]
INFO     2022-12-14 14:01:22.470 request id: app - uvicorn.server:serve - Started server process [22224]
INFO     2022-12-14 14:01:22.472 request id: app - uvicorn.server:serve - Started server process [22224]
INFO     2022-12-14 14:01:22.472 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-12-14 14:01:22.473 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-12-14 14:01:22.474 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-12-14 14:01:22.474 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-12-14 14:04:47.408 request id: app - uvicorn.server:serve - Started server process [16892]
INFO     2022-12-14 14:04:47.409 request id: app - uvicorn.server:serve - Started server process [16892]
INFO     2022-12-14 14:04:47.409 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-12-14 14:04:47.410 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-12-14 14:04:47.411 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-12-14 14:04:47.411 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-12-14 14:04:50.394 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:57575 - "POST /api/v1/login/access-token HTTP/1.1" 200
INFO     2022-12-14 14:05:17.453 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-12-14 14:05:17.453 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-12-14 14:05:17.564 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-12-14 14:05:17.564 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-12-14 14:05:17.565 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-12-14 14:05:17.565 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-12-14 14:05:17.566 request id: app - uvicorn.server:serve - Finished server process [16892]
INFO     2022-12-14 14:05:17.566 request id: app - uvicorn.server:serve - Finished server process [16892]
INFO     2022-12-14 14:08:02.679 request id: app - uvicorn.server:serve - Started server process [20120]
INFO     2022-12-14 14:08:02.679 request id: app - uvicorn.server:serve - Started server process [20120]
INFO     2022-12-14 14:08:02.680 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-12-14 14:08:02.680 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-12-14 14:08:02.681 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-12-14 14:08:02.681 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-12-14 14:08:03.826 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:57629 - "POST /api/v1/login/access-token HTTP/1.1" 200
INFO     2022-12-14 14:08:10.806 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:57634 - "GET /api/v1/logout HTTP/1.1" 401
INFO     2022-12-14 14:08:15.390 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:57634 - "POST /api/v1/login/access-token HTTP/1.1" 200
INFO     2022-12-14 14:08:17.220 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:57634 - "GET /api/v1/logout HTTP/1.1" 401
INFO     2022-12-14 14:08:24.919 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:57639 - "GET /api/v1/users/?sort=%5B%22id%22%2C%20%22ASC%22%5D&range=%5B0%2C%2010%5D HTTP/1.1" 401
INFO     2022-12-14 14:08:56.026 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-12-14 14:08:56.027 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-12-14 14:08:56.136 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-12-14 14:08:56.136 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-12-14 14:08:56.137 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-12-14 14:08:56.138 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-12-14 14:08:56.138 request id: app - uvicorn.server:serve - Finished server process [20120]
INFO     2022-12-14 14:08:56.138 request id: app - uvicorn.server:serve - Finished server process [20120]
INFO     2022-12-14 14:08:57.608 request id: app - uvicorn.server:serve - Started server process [26348]
INFO     2022-12-14 14:08:57.608 request id: app - uvicorn.server:serve - Started server process [26348]
INFO     2022-12-14 14:08:57.608 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-12-14 14:08:57.608 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-12-14 14:08:57.609 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-12-14 14:08:57.610 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-12-14 14:09:12.627 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:57677 - "POST /api/v1/login/access-token HTTP/1.1" 200
INFO     2022-12-14 14:09:20.800 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:57679 - "GET /api/v1/users/?sort=%5B%22id%22%2C%20%22ASC%22%5D&range=%5B0%2C%2010%5D HTTP/1.1" 401
INFO     2022-12-14 14:09:30.779 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-12-14 14:09:30.779 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-12-14 14:09:30.887 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-12-14 14:09:30.887 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-12-14 14:09:30.888 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-12-14 14:09:30.888 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-12-14 14:09:30.889 request id: app - uvicorn.server:serve - Finished server process [26348]
INFO     2022-12-14 14:09:30.889 request id: app - uvicorn.server:serve - Finished server process [26348]
INFO     2022-12-14 14:11:56.312 request id: app - uvicorn.server:serve - Started server process [15656]
INFO     2022-12-14 14:11:56.313 request id: app - uvicorn.server:serve - Started server process [15656]
INFO     2022-12-14 14:11:56.313 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-12-14 14:11:56.314 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-12-14 14:11:56.315 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-12-14 14:11:56.315 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-12-14 14:11:56.887 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:57723 - "GET /api/v1/users/?sort=%5B%22id%22%2C%20%22ASC%22%5D&range=%5B0%2C%2010%5D HTTP/1.1" 500
ERROR    2022-12-14 14:11:56.888 request id: app - uvicorn.protocols.http.h11_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\.\backend\app\api\deps.py", line 40, in get_current_user_async
    payload = jwt.decode(
              │   └ <function decode at 0x000002A2976AC4C0>
              └ <module 'jose.jwt' from 'C:\\Users\\R\\PycharmProjects\\fastapi-react-crm-backend\\venv\\lib\\site-packages\\jose\\jwt.py'>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\jose\jwt.py", line 157, in decode
    _validate_claims(
    └ <function _validate_claims at 0x000002A2976ACB80>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\jose\jwt.py", line 490, in _validate_claims
    _validate_sub(claims, subject=subject)
    │             │               └ None
    │             └ {'iat': 1671016152, 'exp': 1671275352, 'sub': 1, 'scopes': []}
    └ <function _validate_sub at 0x000002A2976AC9D0>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\jose\jwt.py", line 394, in _validate_sub
    raise JWTClaimsError("Subject must be a string.")
          └ <class 'jose.exceptions.JWTClaimsError'>

jose.exceptions.JWTClaimsError: Subject must be a string.


During handling of the above exception, another exception occurred:


Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\R\AppData\Local\Programs\Python\Python310\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 688
               │     └ 3
               └ <function _main at 0x000002A2943336D0>

  File "C:\Users\R\AppData\Local\Programs\Python\Python310\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 688
           │    └ <function BaseProcess._bootstrap at 0x000002A2942FA710>
           └ <SpawnProcess name='SpawnProcess-1' parent=26720 started>

  File "C:\Users\R\AppData\Local\Programs\Python\Python310\lib\multiprocessing\process.py", line 314, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x000002A2942F9D80>
    └ <SpawnProcess name='SpawnProcess-1' parent=26720 started>

  File "C:\Users\R\AppData\Local\Programs\Python\Python310\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000002A2943005E0>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-1' parent=26720 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-1' parent=26720 started>
    │    └ <function subprocess_started at 0x000002A294544700>
    └ <SpawnProcess name='SpawnProcess-1' parent=26720 started>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\uvicorn\_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=912, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000002A294300550>>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\uvicorn\server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=912, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 8000)>]
           │       │   │    └ <function Server.serve at 0x000002A294511120>
           │       │   └ <uvicorn.server.Server object at 0x000002A294300550>
           │       └ <function run at 0x000002A294205FC0>
           └ <module 'asyncio' from 'C:\\Users\\R\\AppData\\Local\\Programs\\Python\\Python310\\lib\\asyncio\\__init__.py'>

  File "C:\Users\R\AppData\Local\Programs\Python\Python310\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x000002A2945019A0>
           │    └ <function BaseEventLoop.run_until_complete at 0x000002A2942079A0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\R\AppData\Local\Programs\Python\Python310\lib\asyncio\base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000002A294207910>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\R\AppData\Local\Programs\Python\Python310\lib\asyncio\base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000002A29420D480>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\R\AppData\Local\Programs\Python\Python310\lib\asyncio\base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000002A2941C0D30>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>

  File "C:\Users\R\AppData\Local\Programs\Python\Python310\lib\asyncio\events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>

> File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\uvicorn\protocols\http\h11_impl.py", line 407, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000002A29453A710>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x000002A2979B9120>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x000002A2979B9...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x000002A29459C370>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000002A29453A710>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x000002A2979B9120>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x000002A2979B9...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x000002A2979B9120>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x000002A2979B9...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000002A2978E3310>
          └ <fastapi.applications.FastAPI object at 0x000002A29459C370>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\starlette\middleware\errors.py", line 184, in __call__
    raise exc

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\starlette\middleware\errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000002A297922320>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x000002A2979B9...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000002A2978E3220>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000002A2978E3310>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\starlette\middleware\cors.py", line 84, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000002A297922320>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x000002A2979B9...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000002A2978E31F0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000002A2978E3220>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\starlette\middleware\exceptions.py", line 79, in __call__
    raise exc

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\starlette\middleware\exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x000002A297922170>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x000002A2979B9...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x000002A2978E3190>
          └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000002A2978E31F0>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x000002A297922170>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x000002A2979B9...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x000002A29459C8E0>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x000002A2978E3190>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\starlette\routing.py", line 706, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x000002A297922170>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x000002A2979B9...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │     └ <function Route.handle at 0x000002A29592AA70>
          └ APIRoute(path='/api/v1/users/', name='read_users', methods=['GET'])

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\starlette\routing.py", line 276, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x000002A297922170>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x000002A2979B9...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function request_response.<locals>.app at 0x000002A2979205E0>
          └ APIRoute(path='/api/v1/users/', name='read_users', methods=['GET'])

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\starlette\routing.py", line 66, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x000002A2979B8C10>
                     └ <function get_request_handler.<locals>.app at 0x000002A297920670>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\fastapi\routing.py", line 225, in app
    solved_result = await solve_dependencies(
                          └ <function solve_dependencies at 0x000002A295928D30>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\fastapi\dependencies\utils.py", line 504, in solve_dependencies
    solved_result = await solve_dependencies(
                          └ <function solve_dependencies at 0x000002A295928D30>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\fastapi\dependencies\utils.py", line 533, in solve_dependencies
    solved = await call(**sub_values)
                   │      └ {'db': <sqlalchemy.orm.session.AsyncSession object at 0x000002A2979B8DF0>, 'token': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ...
                   └ <function get_current_user_async at 0x000002A29633F250>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\.\backend\app\api\deps.py", line 47, in get_current_user_async
    if not sub:

UnboundLocalError: local variable 'sub' referenced before assignment
ERROR    2022-12-14 14:11:56.931 request id: app - uvicorn.protocols.http.h11_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\.\backend\app\api\deps.py", line 40, in get_current_user_async
    payload = jwt.decode(
              │   └ <function decode at 0x000002A2976AC4C0>
              └ <module 'jose.jwt' from 'C:\\Users\\R\\PycharmProjects\\fastapi-react-crm-backend\\venv\\lib\\site-packages\\jose\\jwt.py'>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\jose\jwt.py", line 157, in decode
    _validate_claims(
    └ <function _validate_claims at 0x000002A2976ACB80>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\jose\jwt.py", line 490, in _validate_claims
    _validate_sub(claims, subject=subject)
    │             │               └ None
    │             └ {'iat': 1671016152, 'exp': 1671275352, 'sub': 1, 'scopes': []}
    └ <function _validate_sub at 0x000002A2976AC9D0>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\jose\jwt.py", line 394, in _validate_sub
    raise JWTClaimsError("Subject must be a string.")
          └ <class 'jose.exceptions.JWTClaimsError'>

jose.exceptions.JWTClaimsError: Subject must be a string.


During handling of the above exception, another exception occurred:


Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\R\AppData\Local\Programs\Python\Python310\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 688
               │     └ 3
               └ <function _main at 0x000002A2943336D0>

  File "C:\Users\R\AppData\Local\Programs\Python\Python310\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 688
           │    └ <function BaseProcess._bootstrap at 0x000002A2942FA710>
           └ <SpawnProcess name='SpawnProcess-1' parent=26720 started>

  File "C:\Users\R\AppData\Local\Programs\Python\Python310\lib\multiprocessing\process.py", line 314, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x000002A2942F9D80>
    └ <SpawnProcess name='SpawnProcess-1' parent=26720 started>

  File "C:\Users\R\AppData\Local\Programs\Python\Python310\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000002A2943005E0>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-1' parent=26720 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-1' parent=26720 started>
    │    └ <function subprocess_started at 0x000002A294544700>
    └ <SpawnProcess name='SpawnProcess-1' parent=26720 started>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\uvicorn\_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=912, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000002A294300550>>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\uvicorn\server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=912, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 8000)>]
           │       │   │    └ <function Server.serve at 0x000002A294511120>
           │       │   └ <uvicorn.server.Server object at 0x000002A294300550>
           │       └ <function run at 0x000002A294205FC0>
           └ <module 'asyncio' from 'C:\\Users\\R\\AppData\\Local\\Programs\\Python\\Python310\\lib\\asyncio\\__init__.py'>

  File "C:\Users\R\AppData\Local\Programs\Python\Python310\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x000002A2945019A0>
           │    └ <function BaseEventLoop.run_until_complete at 0x000002A2942079A0>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\R\AppData\Local\Programs\Python\Python310\lib\asyncio\base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000002A294207910>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\R\AppData\Local\Programs\Python\Python310\lib\asyncio\base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000002A29420D480>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\R\AppData\Local\Programs\Python\Python310\lib\asyncio\base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000002A2941C0D30>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>

  File "C:\Users\R\AppData\Local\Programs\Python\Python310\lib\asyncio\events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>

> File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\uvicorn\protocols\http\h11_impl.py", line 407, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000002A29453A710>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x000002A2979B9120>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x000002A2979B9...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x000002A29459C370>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000002A29453A710>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x000002A2979B9120>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x000002A2979B9...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x000002A2979B9120>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x000002A2979B9...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000002A2978E3310>
          └ <fastapi.applications.FastAPI object at 0x000002A29459C370>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\starlette\middleware\errors.py", line 184, in __call__
    raise exc

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\starlette\middleware\errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000002A297922320>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x000002A2979B9...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000002A2978E3220>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000002A2978E3310>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\starlette\middleware\cors.py", line 84, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000002A297922320>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x000002A2979B9...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000002A2978E31F0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000002A2978E3220>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\starlette\middleware\exceptions.py", line 79, in __call__
    raise exc

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\starlette\middleware\exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x000002A297922170>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x000002A2979B9...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x000002A2978E3190>
          └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000002A2978E31F0>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x000002A297922170>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x000002A2979B9...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x000002A29459C8E0>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x000002A2978E3190>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\starlette\routing.py", line 706, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x000002A297922170>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x000002A2979B9...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │     └ <function Route.handle at 0x000002A29592AA70>
          └ APIRoute(path='/api/v1/users/', name='read_users', methods=['GET'])

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\starlette\routing.py", line 276, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x000002A297922170>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x000002A2979B9...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function request_response.<locals>.app at 0x000002A2979205E0>
          └ APIRoute(path='/api/v1/users/', name='read_users', methods=['GET'])

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\starlette\routing.py", line 66, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x000002A2979B8C10>
                     └ <function get_request_handler.<locals>.app at 0x000002A297920670>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\fastapi\routing.py", line 225, in app
    solved_result = await solve_dependencies(
                          └ <function solve_dependencies at 0x000002A295928D30>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\fastapi\dependencies\utils.py", line 504, in solve_dependencies
    solved_result = await solve_dependencies(
                          └ <function solve_dependencies at 0x000002A295928D30>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\fastapi\dependencies\utils.py", line 533, in solve_dependencies
    solved = await call(**sub_values)
                   │      └ {'db': <sqlalchemy.orm.session.AsyncSession object at 0x000002A2979B8DF0>, 'token': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ...
                   └ <function get_current_user_async at 0x000002A29633F250>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\.\backend\app\api\deps.py", line 47, in get_current_user_async
    if not sub:

UnboundLocalError: local variable 'sub' referenced before assignment
INFO     2022-12-14 14:12:18.799 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-12-14 14:12:18.799 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-12-14 14:12:20.185 request id: app - uvicorn.server:serve - Started server process [19712]
INFO     2022-12-14 14:12:20.185 request id: app - uvicorn.server:serve - Started server process [19712]
INFO     2022-12-14 14:12:20.186 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-12-14 14:12:20.186 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-12-14 14:12:20.187 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-12-14 14:12:20.187 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-12-14 14:12:23.002 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:57733 - "GET /api/v1/users/?sort=%5B%22id%22%2C%20%22ASC%22%5D&range=%5B0%2C%2010%5D HTTP/1.1" 401
INFO     2022-12-14 14:12:29.563 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-12-14 14:12:29.563 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-12-14 14:12:31.105 request id: app - uvicorn.server:serve - Started server process [10852]
INFO     2022-12-14 14:12:31.106 request id: app - uvicorn.server:serve - Started server process [10852]
INFO     2022-12-14 14:12:31.106 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-12-14 14:12:31.107 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-12-14 14:12:31.107 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-12-14 14:12:31.108 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-12-14 14:12:32.518 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:57739 - "GET /api/v1/users/?sort=%5B%22id%22%2C%20%22ASC%22%5D&range=%5B0%2C%2010%5D HTTP/1.1" 401
INFO     2022-12-14 14:12:57.294 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-12-14 14:12:57.295 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-12-14 14:12:57.405 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-12-14 14:12:57.405 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-12-14 14:12:57.406 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-12-14 14:12:57.406 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-12-14 14:12:57.407 request id: app - uvicorn.server:serve - Finished server process [10852]
INFO     2022-12-14 14:12:57.407 request id: app - uvicorn.server:serve - Finished server process [10852]
INFO     2022-12-14 14:12:59.424 request id: app - uvicorn.server:serve - Started server process [20640]
INFO     2022-12-14 14:12:59.425 request id: app - uvicorn.server:serve - Started server process [20640]
INFO     2022-12-14 14:12:59.425 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-12-14 14:12:59.426 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-12-14 14:12:59.426 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-12-14 14:12:59.427 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-12-14 14:12:59.929 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:57749 - "GET /api/v1/users/?sort=%5B%22id%22%2C%20%22ASC%22%5D&range=%5B0%2C%2010%5D HTTP/1.1" 401
INFO     2022-12-14 14:13:08.239 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-12-14 14:13:08.239 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-12-14 14:13:08.349 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-12-14 14:13:08.350 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-12-14 14:13:08.350 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-12-14 14:13:08.351 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-12-14 14:13:08.351 request id: app - uvicorn.server:serve - Finished server process [20640]
INFO     2022-12-14 14:13:08.352 request id: app - uvicorn.server:serve - Finished server process [20640]
INFO     2022-12-14 14:13:12.267 request id: app - uvicorn.server:serve - Started server process [23320]
INFO     2022-12-14 14:13:12.268 request id: app - uvicorn.server:serve - Started server process [23320]
INFO     2022-12-14 14:13:12.269 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-12-14 14:13:12.270 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-12-14 14:13:12.270 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-12-14 14:13:12.271 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-12-14 14:14:38.942 request id: app - uvicorn.server:serve - Started server process [16412]
INFO     2022-12-14 14:14:38.942 request id: app - uvicorn.server:serve - Started server process [16412]
INFO     2022-12-14 14:14:38.943 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-12-14 14:14:38.943 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-12-14 14:14:38.943 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-12-14 14:14:38.944 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-12-14 14:14:41.809 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:57793 - "GET /favicon.ico HTTP/1.1" 404
INFO     2022-12-14 14:14:42.877 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:57793 - "GET /docs HTTP/1.1" 200
INFO     2022-12-14 14:14:43.031 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:57793 - "GET /api/v1/openapi.json HTTP/1.1" 200
INFO     2022-12-14 14:14:45.510 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:57793 - "POST /api/v1/login/access-token HTTP/1.1" 200
INFO     2022-12-14 14:14:50.970 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:57792 - "GET /api/v1/users/?sort=%5B%22id%22%2C%20%22ASC%22%5D&range=%5B0%2C%2010%5D HTTP/1.1" 401
INFO     2022-12-14 14:16:43.531 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-12-14 14:16:43.532 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-12-14 14:16:43.642 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-12-14 14:16:43.642 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-12-14 14:16:43.643 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-12-14 14:16:43.643 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-12-14 14:16:43.644 request id: app - uvicorn.server:serve - Finished server process [16412]
INFO     2022-12-14 14:16:43.644 request id: app - uvicorn.server:serve - Finished server process [16412]
INFO     2022-12-14 14:16:45.332 request id: app - uvicorn.server:serve - Started server process [32176]
INFO     2022-12-14 14:16:45.333 request id: app - uvicorn.server:serve - Started server process [32176]
INFO     2022-12-14 14:16:45.333 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-12-14 14:16:45.334 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-12-14 14:16:45.335 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-12-14 14:16:45.335 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-12-14 14:16:48.612 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:57846 - "GET /docs HTTP/1.1" 200
INFO     2022-12-14 14:16:48.867 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:57846 - "GET /api/v1/openapi.json HTTP/1.1" 200
INFO     2022-12-14 14:16:52.121 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:57846 - "POST /api/v1/login/access-token HTTP/1.1" 500
ERROR    2022-12-14 14:16:52.122 request id: app - uvicorn.protocols.http.h11_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\R\AppData\Local\Programs\Python\Python310\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 320
               │     └ 3
               └ <function _main at 0x000001956A686320>

  File "C:\Users\R\AppData\Local\Programs\Python\Python310\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 320
           │    └ <function BaseProcess._bootstrap at 0x000001956A5E4160>
           └ <SpawnProcess name='SpawnProcess-1' parent=15040 started>

  File "C:\Users\R\AppData\Local\Programs\Python\Python310\lib\multiprocessing\process.py", line 314, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x000001956A5D7760>
    └ <SpawnProcess name='SpawnProcess-1' parent=15040 started>

  File "C:\Users\R\AppData\Local\Programs\Python\Python310\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000001956A542D70>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-1' parent=15040 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-1' parent=15040 started>
    │    └ <function subprocess_started at 0x000001956CA34310>
    └ <SpawnProcess name='SpawnProcess-1' parent=15040 started>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\uvicorn\_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=704, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000001956A543460>>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\uvicorn\server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=704, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 8000)>]
           │       │   │    └ <function Server.serve at 0x000001956CA10EE0>
           │       │   └ <uvicorn.server.Server object at 0x000001956A543460>
           │       └ <function run at 0x000001956C238B80>
           └ <module 'asyncio' from 'C:\\Users\\R\\AppData\\Local\\Programs\\Python\\Python310\\lib\\asyncio\\__init__.py'>

  File "C:\Users\R\AppData\Local\Programs\Python\Python310\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x000001956CA309E0>
           │    └ <function BaseEventLoop.run_until_complete at 0x000001956C23A560>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\R\AppData\Local\Programs\Python\Python310\lib\asyncio\base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001956C23A4D0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\R\AppData\Local\Programs\Python\Python310\lib\asyncio\base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001956C23C040>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\R\AppData\Local\Programs\Python\Python310\lib\asyncio\base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001956AA1F880>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>

  File "C:\Users\R\AppData\Local\Programs\Python\Python310\lib\asyncio\events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>

> File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\uvicorn\protocols\http\h11_impl.py", line 407, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001956CA2EA10>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x000001956EF2F400>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x000001956EF2F...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x000001956CA94400>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001956CA2EA10>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x000001956EF2F400>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x000001956EF2F...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x000001956EF2F400>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x000001956EF2F...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001956EE81F00>
          └ <fastapi.applications.FastAPI object at 0x000001956CA94400>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\starlette\middleware\errors.py", line 184, in __call__
    raise exc

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\starlette\middleware\errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001956CA364D0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x000001956EF2F...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000001956EE81E10>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001956EE81F00>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\starlette\middleware\cors.py", line 92, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '127.0.0.1:8000', 'connection': 'keep-alive', 'content-length': '61', 'sec-ch-ua': '"Not?A_Brand";v="8", "Ch...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001956CA364D0>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x000001956EF2F...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function CORSMiddleware.simple_response at 0x000001956DEBF250>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000001956EE81E10>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\starlette\middleware\cors.py", line 147, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x000001956EE81E10...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x000001956EF2F...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001956EE81DE0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000001956EE81E10>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\starlette\middleware\exceptions.py", line 79, in __call__
    raise exc

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\starlette\middleware\exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x000001956EE8E4D0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x000001956EF2F...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x000001956EE81D80>
          └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001956EE81DE0>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x000001956EE8E4D0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x000001956EF2F...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x000001956CA94970>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x000001956EE81D80>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\starlette\routing.py", line 706, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x000001956EE8E4D0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x000001956EF2F...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │     └ <function Route.handle at 0x000001956DEA1510>
          └ APIRoute(path='/api/v1/login/access-token', name='login_access_token', methods=['POST'])

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\starlette\routing.py", line 276, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x000001956EE8E4D0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x000001956EF2F...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function request_response.<locals>.app at 0x000001956EE6F1C0>
          └ APIRoute(path='/api/v1/login/access-token', name='login_access_token', methods=['POST'])

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\starlette\routing.py", line 66, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x000001956EEFB160>
                     └ <function get_request_handler.<locals>.app at 0x000001956EE6D900>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\fastapi\routing.py", line 235, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x000001956DEA0160>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\fastapi\routing.py", line 161, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <sqlalchemy.orm.session.AsyncSession object at 0x000001956EF41ED0>, 'form_data': <fastapi.security.oauth2.OAuth2Passwo...
                 │         └ <function login_access_token at 0x000001956ECD0AF0>
                 └ <fastapi.dependencies.models.Dependant object at 0x000001956CA2E350>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\.\backend\app\api\api_v1\endpoints\login.py", line 37, in login_access_token
    data = security.create_access_token(sub=user.id, exp=exp, scopes=form_data.scopes)
           │        │                       │    │       │           │         └ []
           │        │                       │    │       │           └ <fastapi.security.oauth2.OAuth2PasswordRequestForm object at 0x000001956EF42020>
           │        │                       │    │       └ datetime.timedelta(days=3)
           │        │                       │    └ <sqlalchemy.orm.attributes.InstrumentedAttribute object at 0x000001956E84DBC0>
           │        │                       └ <backend.app.db.models.User object at 0x000001956ED38DC0>
           │        └ <function create_access_token at 0x000001956EA3DF30>
           └ <module 'backend.app.core.security' from 'C:\\Users\\R\\PycharmProjects\\fastapi-react-crm-backend\\.\\backend\\app\\core\\se...

TypeError: create_access_token() got an unexpected keyword argument 'exp'
ERROR    2022-12-14 14:16:52.135 request id: app - uvicorn.protocols.http.h11_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\R\AppData\Local\Programs\Python\Python310\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 320
               │     └ 3
               └ <function _main at 0x000001956A686320>

  File "C:\Users\R\AppData\Local\Programs\Python\Python310\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 320
           │    └ <function BaseProcess._bootstrap at 0x000001956A5E4160>
           └ <SpawnProcess name='SpawnProcess-1' parent=15040 started>

  File "C:\Users\R\AppData\Local\Programs\Python\Python310\lib\multiprocessing\process.py", line 314, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x000001956A5D7760>
    └ <SpawnProcess name='SpawnProcess-1' parent=15040 started>

  File "C:\Users\R\AppData\Local\Programs\Python\Python310\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000001956A542D70>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-1' parent=15040 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-1' parent=15040 started>
    │    └ <function subprocess_started at 0x000001956CA34310>
    └ <SpawnProcess name='SpawnProcess-1' parent=15040 started>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\uvicorn\_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=704, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000001956A543460>>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\uvicorn\server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=704, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 8000)>]
           │       │   │    └ <function Server.serve at 0x000001956CA10EE0>
           │       │   └ <uvicorn.server.Server object at 0x000001956A543460>
           │       └ <function run at 0x000001956C238B80>
           └ <module 'asyncio' from 'C:\\Users\\R\\AppData\\Local\\Programs\\Python\\Python310\\lib\\asyncio\\__init__.py'>

  File "C:\Users\R\AppData\Local\Programs\Python\Python310\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x000001956CA309E0>
           │    └ <function BaseEventLoop.run_until_complete at 0x000001956C23A560>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\R\AppData\Local\Programs\Python\Python310\lib\asyncio\base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001956C23A4D0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\R\AppData\Local\Programs\Python\Python310\lib\asyncio\base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001956C23C040>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\R\AppData\Local\Programs\Python\Python310\lib\asyncio\base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001956AA1F880>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>

  File "C:\Users\R\AppData\Local\Programs\Python\Python310\lib\asyncio\events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>

> File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\uvicorn\protocols\http\h11_impl.py", line 407, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001956CA2EA10>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x000001956EF2F400>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x000001956EF2F...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x000001956CA94400>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001956CA2EA10>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x000001956EF2F400>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x000001956EF2F...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x000001956EF2F400>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x000001956EF2F...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001956EE81F00>
          └ <fastapi.applications.FastAPI object at 0x000001956CA94400>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\starlette\middleware\errors.py", line 184, in __call__
    raise exc

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\starlette\middleware\errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001956CA364D0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x000001956EF2F...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000001956EE81E10>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001956EE81F00>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\starlette\middleware\cors.py", line 92, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '127.0.0.1:8000', 'connection': 'keep-alive', 'content-length': '61', 'sec-ch-ua': '"Not?A_Brand";v="8", "Ch...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001956CA364D0>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x000001956EF2F...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function CORSMiddleware.simple_response at 0x000001956DEBF250>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000001956EE81E10>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\starlette\middleware\cors.py", line 147, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x000001956EE81E10...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x000001956EF2F...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001956EE81DE0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000001956EE81E10>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\starlette\middleware\exceptions.py", line 79, in __call__
    raise exc

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\starlette\middleware\exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x000001956EE8E4D0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x000001956EF2F...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x000001956EE81D80>
          └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001956EE81DE0>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x000001956EE8E4D0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x000001956EF2F...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x000001956CA94970>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x000001956EE81D80>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\starlette\routing.py", line 706, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x000001956EE8E4D0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x000001956EF2F...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │     └ <function Route.handle at 0x000001956DEA1510>
          └ APIRoute(path='/api/v1/login/access-token', name='login_access_token', methods=['POST'])

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\starlette\routing.py", line 276, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x000001956EE8E4D0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x000001956EF2F...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function request_response.<locals>.app at 0x000001956EE6F1C0>
          └ APIRoute(path='/api/v1/login/access-token', name='login_access_token', methods=['POST'])

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\starlette\routing.py", line 66, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x000001956EEFB160>
                     └ <function get_request_handler.<locals>.app at 0x000001956EE6D900>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\fastapi\routing.py", line 235, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x000001956DEA0160>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\fastapi\routing.py", line 161, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <sqlalchemy.orm.session.AsyncSession object at 0x000001956EF41ED0>, 'form_data': <fastapi.security.oauth2.OAuth2Passwo...
                 │         └ <function login_access_token at 0x000001956ECD0AF0>
                 └ <fastapi.dependencies.models.Dependant object at 0x000001956CA2E350>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\.\backend\app\api\api_v1\endpoints\login.py", line 37, in login_access_token
    data = security.create_access_token(sub=user.id, exp=exp, scopes=form_data.scopes)
           │        │                       │    │       │           │         └ []
           │        │                       │    │       │           └ <fastapi.security.oauth2.OAuth2PasswordRequestForm object at 0x000001956EF42020>
           │        │                       │    │       └ datetime.timedelta(days=3)
           │        │                       │    └ <sqlalchemy.orm.attributes.InstrumentedAttribute object at 0x000001956E84DBC0>
           │        │                       └ <backend.app.db.models.User object at 0x000001956ED38DC0>
           │        └ <function create_access_token at 0x000001956EA3DF30>
           └ <module 'backend.app.core.security' from 'C:\\Users\\R\\PycharmProjects\\fastapi-react-crm-backend\\.\\backend\\app\\core\\se...

TypeError: create_access_token() got an unexpected keyword argument 'exp'
INFO     2022-12-14 14:17:24.682 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-12-14 14:17:24.682 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-12-14 14:17:24.793 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-12-14 14:17:24.793 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-12-14 14:17:24.794 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-12-14 14:17:24.794 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-12-14 14:17:24.795 request id: app - uvicorn.server:serve - Finished server process [32176]
INFO     2022-12-14 14:17:24.796 request id: app - uvicorn.server:serve - Finished server process [32176]
INFO     2022-12-14 14:17:26.429 request id: app - uvicorn.server:serve - Started server process [15156]
INFO     2022-12-14 14:17:26.430 request id: app - uvicorn.server:serve - Started server process [15156]
INFO     2022-12-14 14:17:26.430 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-12-14 14:17:26.431 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-12-14 14:17:26.431 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-12-14 14:17:26.432 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-12-14 14:17:28.475 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:57862 - "POST /api/v1/login/access-token HTTP/1.1" 200
INFO     2022-12-14 14:17:35.825 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:57865 - "GET /api/v1/users/?sort=%5B%22id%22%2C%20%22ASC%22%5D&range=%5B0%2C%2010%5D HTTP/1.1" 401
INFO     2022-12-14 14:20:40.365 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-12-14 14:20:40.366 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-12-14 14:20:40.475 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-12-14 14:20:40.475 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-12-14 14:20:40.476 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-12-14 14:20:40.476 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-12-14 14:20:40.478 request id: app - uvicorn.server:serve - Finished server process [15156]
INFO     2022-12-14 14:20:40.478 request id: app - uvicorn.server:serve - Finished server process [15156]
INFO     2022-12-14 14:20:42.434 request id: app - uvicorn.server:serve - Started server process [25752]
INFO     2022-12-14 14:20:42.435 request id: app - uvicorn.server:serve - Started server process [25752]
INFO     2022-12-14 14:20:42.435 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-12-14 14:20:42.436 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-12-14 14:20:42.436 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-12-14 14:20:42.437 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-12-14 14:20:44.651 request id: app - uvicorn.server:serve - Started server process [7576]
INFO     2022-12-14 14:20:44.651 request id: app - uvicorn.server:serve - Started server process [7576]
INFO     2022-12-14 14:20:44.652 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-12-14 14:20:44.652 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-12-14 14:20:44.652 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-12-14 14:20:44.652 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-12-14 14:20:45.091 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-12-14 14:20:45.091 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-12-14 14:20:45.203 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-12-14 14:20:45.203 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-12-14 14:20:45.204 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-12-14 14:20:45.204 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-12-14 14:20:45.205 request id: app - uvicorn.server:serve - Finished server process [7576]
INFO     2022-12-14 14:20:45.205 request id: app - uvicorn.server:serve - Finished server process [7576]
INFO     2022-12-14 14:20:46.869 request id: app - uvicorn.server:serve - Started server process [27900]
INFO     2022-12-14 14:20:46.869 request id: app - uvicorn.server:serve - Started server process [27900]
INFO     2022-12-14 14:20:46.869 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-12-14 14:20:46.870 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-12-14 14:20:46.870 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-12-14 14:20:46.871 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-12-14 14:20:48.187 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:57920 - "GET /api/v1/users/?sort=%5B%22id%22%2C%20%22ASC%22%5D&range=%5B0%2C%2010%5D HTTP/1.1" 401
INFO     2022-12-14 14:20:56.785 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:57921 - "POST /api/v1/login/access-token HTTP/1.1" 200
INFO     2022-12-14 14:21:00.617 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:57921 - "GET /api/v1/users/?sort=%5B%22id%22%2C%20%22ASC%22%5D&range=%5B0%2C%2010%5D HTTP/1.1" 500
ERROR    2022-12-14 14:21:00.618 request id: app - uvicorn.protocols.http.h11_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 418, in _prepare_and_execute
    prepared_stmt, attributes = await adapt_connection._prepare(
                                      │                └ <function AsyncAdapt_asyncpg_connection._prepare at 0x00000179D47737F0>
                                      └ <AdaptedConnection <asyncpg.connection.Connection object at 0x00000179D4F0C3C0>>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 660, in _prepare
    prepared_stmt = await self._connection.prepare(operation)
                          │    │                   └ 'SELECT "user".id, "user".email, "user".hashed_password, "user".role, "user".full_name, "user".username, "user".age, "user".a...
                          │    └ <member '_connection' of 'AsyncAdapt_asyncpg_connection' objects>
                          └ <AdaptedConnection <asyncpg.connection.Connection object at 0x00000179D4F0C3C0>>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\asyncpg\connection.py", line 565, in prepare
    return await self._prepare(
                 │    └ <function Connection._prepare at 0x00000179D497A320>
                 └ <asyncpg.connection.Connection object at 0x00000179D4F0C3C0>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\asyncpg\connection.py", line 583, in _prepare
    stmt = await self._get_statement(
                 │    └ <function Connection._get_statement at 0x00000179D497A050>
                 └ <asyncpg.connection.Connection object at 0x00000179D4F0C3C0>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\asyncpg\connection.py", line 397, in _get_statement
    statement = await self._protocol.prepare(
                      │    └ <member '_protocol' of 'Connection' objects>
                      └ <asyncpg.connection.Connection object at 0x00000179D4F0C3C0>

  File "asyncpg\protocol\protocol.pyx", line 168, in prepare

asyncpg.exceptions.UndefinedFunctionError: operator does not exist: bigint = character varying
HINT:  No operator matches the given name and argument types. You might need to add explicit type casts.


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\sqlalchemy\engine\base.py", line 1900, in _execute_context
    self.dialect.do_execute(
    │    │       └ <function DefaultDialect.do_execute at 0x00000179D43C6290>
    │    └ <sqlalchemy.dialects.postgresql.asyncpg.PGDialect_asyncpg object at 0x00000179D4C2A920>
    └ <sqlalchemy.future.engine.Connection object at 0x00000179D4EB9FC0>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\sqlalchemy\engine\default.py", line 736, in do_execute
    cursor.execute(statement, parameters)
    │      │       │          └ ('1',)
    │      │       └ 'SELECT "user".id, "user".email, "user".hashed_password, "user".role, "user".full_name, "user".username, "user".age, "user".a...
    │      └ <function AsyncAdapt_asyncpg_cursor.execute at 0x00000179D4772D40>
    └ <sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_cursor object at 0x00000179D4EAC270>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 479, in execute
    self._adapt_connection.await_(
    │    └ <member '_adapt_connection' of 'AsyncAdapt_asyncpg_cursor' objects>
    └ <sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_cursor object at 0x00000179D4EAC270>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 68, in await_only
    return current.driver.switch(awaitable)
           │                     └ <coroutine object AsyncAdapt_asyncpg_cursor._prepare_and_execute at 0x00000179D4EAE650>
           └ <_AsyncIoGreenlet object at 0x00000179D4E96300 (otid=0x00000179D3F25050) dead>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 121, in greenlet_spawn
    value = await result
                  └ <coroutine object AsyncAdapt_asyncpg_cursor._prepare_and_execute at 0x00000179D4EAE650>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 454, in _prepare_and_execute
    self._handle_exception(error)
    │    └ <function AsyncAdapt_asyncpg_cursor._handle_exception at 0x00000179D4772B00>
    └ <sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_cursor object at 0x00000179D4EAC270>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 389, in _handle_exception
    self._adapt_connection._handle_exception(error)
    │    │                                   └ UndefinedFunctionError('operator does not exist: bigint = character varying')
    │    └ <member '_adapt_connection' of 'AsyncAdapt_asyncpg_cursor' objects>
    └ <sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_cursor object at 0x00000179D4EAC270>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 682, in _handle_exception
    raise translated_error from error
          │                     └ UndefinedFunctionError('operator does not exist: bigint = character varying')
          └ ProgrammingError("<class 'asyncpg.exceptions.UndefinedFunctionError'>: operator does not exist: bigint = character varying\nH...

sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.ProgrammingError: <class 'asyncpg.exceptions.UndefinedFunctionError'>: operator does not exist: bigint = character varying
HINT:  No operator matches the given name and argument types. You might need to add explicit type casts.


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\R\AppData\Local\Programs\Python\Python310\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 328
               │     └ 3
               └ <function _main at 0x00000179D0626320>

  File "C:\Users\R\AppData\Local\Programs\Python\Python310\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 328
           │    └ <function BaseProcess._bootstrap at 0x00000179D0584160>
           └ <SpawnProcess name='SpawnProcess-1' parent=11308 started>

  File "C:\Users\R\AppData\Local\Programs\Python\Python310\lib\multiprocessing\process.py", line 314, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x00000179D0577760>
    └ <SpawnProcess name='SpawnProcess-1' parent=11308 started>

  File "C:\Users\R\AppData\Local\Programs\Python\Python310\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x00000179D04E2D70>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-1' parent=11308 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-1' parent=11308 started>
    │    └ <function subprocess_started at 0x00000179D29B4310>
    └ <SpawnProcess name='SpawnProcess-1' parent=11308 started>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\uvicorn\_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=744, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x00000179D04E3460>>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\uvicorn\server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=744, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 8000)>]
           │       │   │    └ <function Server.serve at 0x00000179D2990EE0>
           │       │   └ <uvicorn.server.Server object at 0x00000179D04E3460>
           │       └ <function run at 0x00000179D21B8B80>
           └ <module 'asyncio' from 'C:\\Users\\R\\AppData\\Local\\Programs\\Python\\Python310\\lib\\asyncio\\__init__.py'>

  File "C:\Users\R\AppData\Local\Programs\Python\Python310\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x00000179D29B09E0>
           │    └ <function BaseEventLoop.run_until_complete at 0x00000179D21BA560>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\R\AppData\Local\Programs\Python\Python310\lib\asyncio\base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x00000179D21BA4D0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\R\AppData\Local\Programs\Python\Python310\lib\asyncio\base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x00000179D21BC040>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\R\AppData\Local\Programs\Python\Python310\lib\asyncio\base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x00000179D099F880>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>

  File "C:\Users\R\AppData\Local\Programs\Python\Python310\lib\asyncio\events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>

> File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\uvicorn\protocols\http\h11_impl.py", line 407, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x00000179D29AEA10>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x00000179D4EB9BD0>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x00000179D4EB9...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x00000179D2A14400>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x00000179D29AEA10>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x00000179D4EB9BD0>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x00000179D4EB9...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x00000179D4EB9BD0>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x00000179D4EB9...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x00000179D4E01F00>
          └ <fastapi.applications.FastAPI object at 0x00000179D2A14400>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\starlette\middleware\errors.py", line 184, in __call__
    raise exc

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\starlette\middleware\errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x00000179D4E0E7A0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x00000179D4EB9...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x00000179D4E01E10>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x00000179D4E01F00>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\starlette\middleware\cors.py", line 84, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x00000179D4E0E7A0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x00000179D4EB9...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x00000179D4E01DE0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x00000179D4E01E10>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\starlette\middleware\exceptions.py", line 79, in __call__
    raise exc

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\starlette\middleware\exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x00000179D4E0E710>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x00000179D4EB9...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x00000179D4E01D80>
          └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x00000179D4E01DE0>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x00000179D4E0E710>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x00000179D4EB9...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x00000179D2A14970>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x00000179D4E01D80>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\starlette\routing.py", line 706, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x00000179D4E0E710>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x00000179D4EB9...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │     └ <function Route.handle at 0x00000179D3E21510>
          └ APIRoute(path='/api/v1/users/', name='read_users', methods=['GET'])

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\starlette\routing.py", line 276, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x00000179D4E0E710>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x00000179D4EB9...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function request_response.<locals>.app at 0x00000179D4E0CDC0>
          └ APIRoute(path='/api/v1/users/', name='read_users', methods=['GET'])

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\starlette\routing.py", line 66, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x00000179D4F01C90>
                     └ <function get_request_handler.<locals>.app at 0x00000179D4E0CE50>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\fastapi\routing.py", line 225, in app
    solved_result = await solve_dependencies(
                          └ <function solve_dependencies at 0x00000179D3DFB9A0>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\fastapi\dependencies\utils.py", line 504, in solve_dependencies
    solved_result = await solve_dependencies(
                          └ <function solve_dependencies at 0x00000179D3DFB9A0>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\fastapi\dependencies\utils.py", line 533, in solve_dependencies
    solved = await call(**sub_values)
                   │      └ {'db': <sqlalchemy.orm.session.AsyncSession object at 0x00000179D4EB9D50>, 'token': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ...
                   └ <function get_current_user_async at 0x00000179D43C4670>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\.\backend\app\api\deps.py", line 53, in get_current_user_async
    user = await crud.user.get_by_id(db=db, id=sub)
                 │    │    │            │      └ '1'
                 │    │    │            └ <sqlalchemy.orm.session.AsyncSession object at 0x00000179D4EB9D50>
                 │    │    └ <function CRUDUser.get_by_id at 0x00000179D4C60280>
                 │    └ <backend.app.crud.user.CRUDUser object at 0x00000179D48BE020>
                 └ <module 'backend.app.crud' from 'C:\\Users\\R\\PycharmProjects\\fastapi-react-crm-backend\\.\\backend\\app\\crud\\__init__.py'>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\.\backend\app\crud\user.py", line 43, in get_by_id
    result: Result = await db.execute(sqlalchemy.select(User).where(User.id == id))
                           │  │       │          │      │           │    │     └ '1'
                           │  │       │          │      │           │    └ <sqlalchemy.orm.attributes.InstrumentedAttribute object at 0x00000179D47CD940>
                           │  │       │          │      │           └ <class 'backend.app.db.models.User'>
                           │  │       │          │      └ <class 'backend.app.db.models.User'>
                           │  │       │          └ <function select at 0x00000179D42D0310>
                           │  │       └ <module 'sqlalchemy' from 'C:\\Users\\R\\PycharmProjects\\fastapi-react-crm-backend\\venv\\lib\\site-packages\\sqlalchemy\\__...
                           │  └ <function AsyncSession.execute at 0x00000179D46B5240>
                           └ <sqlalchemy.orm.session.AsyncSession object at 0x00000179D4EB9D50>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\sqlalchemy\ext\asyncio\session.py", line 214, in execute
    result = await greenlet_spawn(
                   └ <function greenlet_spawn at 0x00000179D3F6BAC0>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 126, in greenlet_spawn
    result = context.throw(*sys.exc_info())
             │       │      │   └ <built-in function exc_info>
             │       │      └ <module 'sys' (built-in)>
             │       └ <method 'throw' of 'greenlet.greenlet' objects>
             └ <_AsyncIoGreenlet object at 0x00000179D4E96300 (otid=0x00000179D3F25050) dead>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\sqlalchemy\orm\session.py", line 1714, in execute
    result = conn._execute_20(statement, params or {}, execution_options)
             │    │           │          │             └ immutabledict({'prebuffer_rows': True, '_result_disable_adapt_to_context': True, 'future_result': True})
             │    │           │          └ None
             │    │           └ <sqlalchemy.sql.selectable.Select object at 0x00000179D4EB9DE0>
             │    └ <function Connection._execute_20 at 0x00000179D4318F70>
             └ <sqlalchemy.future.engine.Connection object at 0x00000179D4EB9FC0>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\sqlalchemy\engine\base.py", line 1705, in _execute_20
    return meth(self, args_10style, kwargs_10style, execution_options)
           │    │     │             │               └ immutabledict({'prebuffer_rows': True, '_result_disable_adapt_to_context': True, 'future_result': True})
           │    │     │             └ immutabledict({})
           │    │     └ ({},)
           │    └ <sqlalchemy.future.engine.Connection object at 0x00000179D4EB9FC0>
           └ <bound method ClauseElement._execute_on_connection of <sqlalchemy.sql.selectable.Select object at 0x00000179D4EB9DE0>>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\sqlalchemy\sql\elements.py", line 334, in _execute_on_connection
    return connection._execute_clauseelement(
           │          └ <function Connection._execute_clauseelement at 0x00000179D4318DC0>
           └ <sqlalchemy.future.engine.Connection object at 0x00000179D4EB9FC0>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\sqlalchemy\engine\base.py", line 1572, in _execute_clauseelement
    ret = self._execute_context(
          │    └ <function Connection._execute_context at 0x00000179D4319090>
          └ <sqlalchemy.future.engine.Connection object at 0x00000179D4EB9FC0>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\sqlalchemy\engine\base.py", line 1943, in _execute_context
    self._handle_dbapi_exception(
    │    └ <function Connection._handle_dbapi_exception at 0x00000179D4319240>
    └ <sqlalchemy.future.engine.Connection object at 0x00000179D4EB9FC0>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\sqlalchemy\engine\base.py", line 2124, in _handle_dbapi_exception
    util.raise_(
    │    └ <function raise_ at 0x00000179D3F30D30>
    └ <module 'sqlalchemy.util' from 'C:\\Users\\R\\PycharmProjects\\fastapi-react-crm-backend\\venv\\lib\\site-packages\\sqlalchem...

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\sqlalchemy\util\compat.py", line 211, in raise_
    raise exception

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\sqlalchemy\engine\base.py", line 1900, in _execute_context
    self.dialect.do_execute(
    │    │       └ <function DefaultDialect.do_execute at 0x00000179D43C6290>
    │    └ <sqlalchemy.dialects.postgresql.asyncpg.PGDialect_asyncpg object at 0x00000179D4C2A920>
    └ <sqlalchemy.future.engine.Connection object at 0x00000179D4EB9FC0>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\sqlalchemy\engine\default.py", line 736, in do_execute
    cursor.execute(statement, parameters)
    │      │       │          └ ('1',)
    │      │       └ 'SELECT "user".id, "user".email, "user".hashed_password, "user".role, "user".full_name, "user".username, "user".age, "user".a...
    │      └ <function AsyncAdapt_asyncpg_cursor.execute at 0x00000179D4772D40>
    └ <sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_cursor object at 0x00000179D4EAC270>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 479, in execute
    self._adapt_connection.await_(
    │    └ <member '_adapt_connection' of 'AsyncAdapt_asyncpg_cursor' objects>
    └ <sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_cursor object at 0x00000179D4EAC270>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 68, in await_only
    return current.driver.switch(awaitable)
           │                     └ <coroutine object AsyncAdapt_asyncpg_cursor._prepare_and_execute at 0x00000179D4EAE650>
           └ <_AsyncIoGreenlet object at 0x00000179D4E96300 (otid=0x00000179D3F25050) dead>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 121, in greenlet_spawn
    value = await result
                  └ <coroutine object AsyncAdapt_asyncpg_cursor._prepare_and_execute at 0x00000179D4EAE650>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 454, in _prepare_and_execute
    self._handle_exception(error)
    │    └ <function AsyncAdapt_asyncpg_cursor._handle_exception at 0x00000179D4772B00>
    └ <sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_cursor object at 0x00000179D4EAC270>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 389, in _handle_exception
    self._adapt_connection._handle_exception(error)
    │    │                                   └ UndefinedFunctionError('operator does not exist: bigint = character varying')
    │    └ <member '_adapt_connection' of 'AsyncAdapt_asyncpg_cursor' objects>
    └ <sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_cursor object at 0x00000179D4EAC270>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 682, in _handle_exception
    raise translated_error from error
          │                     └ UndefinedFunctionError('operator does not exist: bigint = character varying')
          └ ProgrammingError("<class 'asyncpg.exceptions.UndefinedFunctionError'>: operator does not exist: bigint = character varying\nH...

sqlalchemy.exc.ProgrammingError: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedFunctionError'>: operator does not exist: bigint = character varying
HINT:  No operator matches the given name and argument types. You might need to add explicit type casts.
[SQL: SELECT "user".id, "user".email, "user".hashed_password, "user".role, "user".full_name, "user".username, "user".age, "user".avatar, "user".is_active, "user".is_superuser, "user".create_date 
FROM "user" 
WHERE "user".id = %s]
[parameters: ('1',)]
(Background on this error at: https://sqlalche.me/e/14/f405)
ERROR    2022-12-14 14:21:00.672 request id: app - uvicorn.protocols.http.h11_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 418, in _prepare_and_execute
    prepared_stmt, attributes = await adapt_connection._prepare(
                                      │                └ <function AsyncAdapt_asyncpg_connection._prepare at 0x00000179D47737F0>
                                      └ <AdaptedConnection <asyncpg.connection.Connection object at 0x00000179D4F0C3C0>>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 660, in _prepare
    prepared_stmt = await self._connection.prepare(operation)
                          │    │                   └ 'SELECT "user".id, "user".email, "user".hashed_password, "user".role, "user".full_name, "user".username, "user".age, "user".a...
                          │    └ <member '_connection' of 'AsyncAdapt_asyncpg_connection' objects>
                          └ <AdaptedConnection <asyncpg.connection.Connection object at 0x00000179D4F0C3C0>>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\asyncpg\connection.py", line 565, in prepare
    return await self._prepare(
                 │    └ <function Connection._prepare at 0x00000179D497A320>
                 └ <asyncpg.connection.Connection object at 0x00000179D4F0C3C0>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\asyncpg\connection.py", line 583, in _prepare
    stmt = await self._get_statement(
                 │    └ <function Connection._get_statement at 0x00000179D497A050>
                 └ <asyncpg.connection.Connection object at 0x00000179D4F0C3C0>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\asyncpg\connection.py", line 397, in _get_statement
    statement = await self._protocol.prepare(
                      │    └ <member '_protocol' of 'Connection' objects>
                      └ <asyncpg.connection.Connection object at 0x00000179D4F0C3C0>

  File "asyncpg\protocol\protocol.pyx", line 168, in prepare

asyncpg.exceptions.UndefinedFunctionError: operator does not exist: bigint = character varying
HINT:  No operator matches the given name and argument types. You might need to add explicit type casts.


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\sqlalchemy\engine\base.py", line 1900, in _execute_context
    self.dialect.do_execute(
    │    │       └ <function DefaultDialect.do_execute at 0x00000179D43C6290>
    │    └ <sqlalchemy.dialects.postgresql.asyncpg.PGDialect_asyncpg object at 0x00000179D4C2A920>
    └ <sqlalchemy.future.engine.Connection object at 0x00000179D4EB9FC0>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\sqlalchemy\engine\default.py", line 736, in do_execute
    cursor.execute(statement, parameters)
    │      │       │          └ ('1',)
    │      │       └ 'SELECT "user".id, "user".email, "user".hashed_password, "user".role, "user".full_name, "user".username, "user".age, "user".a...
    │      └ <function AsyncAdapt_asyncpg_cursor.execute at 0x00000179D4772D40>
    └ <sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_cursor object at 0x00000179D4EAC270>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 479, in execute
    self._adapt_connection.await_(
    │    └ <member '_adapt_connection' of 'AsyncAdapt_asyncpg_cursor' objects>
    └ <sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_cursor object at 0x00000179D4EAC270>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 68, in await_only
    return current.driver.switch(awaitable)
           │                     └ <coroutine object AsyncAdapt_asyncpg_cursor._prepare_and_execute at 0x00000179D4EAE650>
           └ <_AsyncIoGreenlet object at 0x00000179D4E96300 (otid=0x00000179D3F25050) dead>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 121, in greenlet_spawn
    value = await result
                  └ <coroutine object AsyncAdapt_asyncpg_cursor._prepare_and_execute at 0x00000179D4EAE650>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 454, in _prepare_and_execute
    self._handle_exception(error)
    │    └ <function AsyncAdapt_asyncpg_cursor._handle_exception at 0x00000179D4772B00>
    └ <sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_cursor object at 0x00000179D4EAC270>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 389, in _handle_exception
    self._adapt_connection._handle_exception(error)
    │    │                                   └ UndefinedFunctionError('operator does not exist: bigint = character varying')
    │    └ <member '_adapt_connection' of 'AsyncAdapt_asyncpg_cursor' objects>
    └ <sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_cursor object at 0x00000179D4EAC270>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 682, in _handle_exception
    raise translated_error from error
          │                     └ UndefinedFunctionError('operator does not exist: bigint = character varying')
          └ ProgrammingError("<class 'asyncpg.exceptions.UndefinedFunctionError'>: operator does not exist: bigint = character varying\nH...

sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.ProgrammingError: <class 'asyncpg.exceptions.UndefinedFunctionError'>: operator does not exist: bigint = character varying
HINT:  No operator matches the given name and argument types. You might need to add explicit type casts.


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\R\AppData\Local\Programs\Python\Python310\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 328
               │     └ 3
               └ <function _main at 0x00000179D0626320>

  File "C:\Users\R\AppData\Local\Programs\Python\Python310\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 328
           │    └ <function BaseProcess._bootstrap at 0x00000179D0584160>
           └ <SpawnProcess name='SpawnProcess-1' parent=11308 started>

  File "C:\Users\R\AppData\Local\Programs\Python\Python310\lib\multiprocessing\process.py", line 314, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x00000179D0577760>
    └ <SpawnProcess name='SpawnProcess-1' parent=11308 started>

  File "C:\Users\R\AppData\Local\Programs\Python\Python310\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x00000179D04E2D70>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-1' parent=11308 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-1' parent=11308 started>
    │    └ <function subprocess_started at 0x00000179D29B4310>
    └ <SpawnProcess name='SpawnProcess-1' parent=11308 started>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\uvicorn\_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=744, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x00000179D04E3460>>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\uvicorn\server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=744, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 8000)>]
           │       │   │    └ <function Server.serve at 0x00000179D2990EE0>
           │       │   └ <uvicorn.server.Server object at 0x00000179D04E3460>
           │       └ <function run at 0x00000179D21B8B80>
           └ <module 'asyncio' from 'C:\\Users\\R\\AppData\\Local\\Programs\\Python\\Python310\\lib\\asyncio\\__init__.py'>

  File "C:\Users\R\AppData\Local\Programs\Python\Python310\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x00000179D29B09E0>
           │    └ <function BaseEventLoop.run_until_complete at 0x00000179D21BA560>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\R\AppData\Local\Programs\Python\Python310\lib\asyncio\base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x00000179D21BA4D0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\R\AppData\Local\Programs\Python\Python310\lib\asyncio\base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x00000179D21BC040>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\R\AppData\Local\Programs\Python\Python310\lib\asyncio\base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x00000179D099F880>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>

  File "C:\Users\R\AppData\Local\Programs\Python\Python310\lib\asyncio\events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>

> File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\uvicorn\protocols\http\h11_impl.py", line 407, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x00000179D29AEA10>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x00000179D4EB9BD0>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x00000179D4EB9...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x00000179D2A14400>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x00000179D29AEA10>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x00000179D4EB9BD0>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x00000179D4EB9...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x00000179D4EB9BD0>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x00000179D4EB9...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x00000179D4E01F00>
          └ <fastapi.applications.FastAPI object at 0x00000179D2A14400>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\starlette\middleware\errors.py", line 184, in __call__
    raise exc

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\starlette\middleware\errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x00000179D4E0E7A0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x00000179D4EB9...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x00000179D4E01E10>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x00000179D4E01F00>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\starlette\middleware\cors.py", line 84, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x00000179D4E0E7A0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x00000179D4EB9...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x00000179D4E01DE0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x00000179D4E01E10>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\starlette\middleware\exceptions.py", line 79, in __call__
    raise exc

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\starlette\middleware\exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x00000179D4E0E710>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x00000179D4EB9...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x00000179D4E01D80>
          └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x00000179D4E01DE0>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x00000179D4E0E710>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x00000179D4EB9...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x00000179D2A14970>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x00000179D4E01D80>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\starlette\routing.py", line 706, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x00000179D4E0E710>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x00000179D4EB9...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │     └ <function Route.handle at 0x00000179D3E21510>
          └ APIRoute(path='/api/v1/users/', name='read_users', methods=['GET'])

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\starlette\routing.py", line 276, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x00000179D4E0E710>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x00000179D4EB9...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function request_response.<locals>.app at 0x00000179D4E0CDC0>
          └ APIRoute(path='/api/v1/users/', name='read_users', methods=['GET'])

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\starlette\routing.py", line 66, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x00000179D4F01C90>
                     └ <function get_request_handler.<locals>.app at 0x00000179D4E0CE50>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\fastapi\routing.py", line 225, in app
    solved_result = await solve_dependencies(
                          └ <function solve_dependencies at 0x00000179D3DFB9A0>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\fastapi\dependencies\utils.py", line 504, in solve_dependencies
    solved_result = await solve_dependencies(
                          └ <function solve_dependencies at 0x00000179D3DFB9A0>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\fastapi\dependencies\utils.py", line 533, in solve_dependencies
    solved = await call(**sub_values)
                   │      └ {'db': <sqlalchemy.orm.session.AsyncSession object at 0x00000179D4EB9D50>, 'token': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ...
                   └ <function get_current_user_async at 0x00000179D43C4670>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\.\backend\app\api\deps.py", line 53, in get_current_user_async
    user = await crud.user.get_by_id(db=db, id=sub)
                 │    │    │            │      └ '1'
                 │    │    │            └ <sqlalchemy.orm.session.AsyncSession object at 0x00000179D4EB9D50>
                 │    │    └ <function CRUDUser.get_by_id at 0x00000179D4C60280>
                 │    └ <backend.app.crud.user.CRUDUser object at 0x00000179D48BE020>
                 └ <module 'backend.app.crud' from 'C:\\Users\\R\\PycharmProjects\\fastapi-react-crm-backend\\.\\backend\\app\\crud\\__init__.py'>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\.\backend\app\crud\user.py", line 43, in get_by_id
    result: Result = await db.execute(sqlalchemy.select(User).where(User.id == id))
                           │  │       │          │      │           │    │     └ '1'
                           │  │       │          │      │           │    └ <sqlalchemy.orm.attributes.InstrumentedAttribute object at 0x00000179D47CD940>
                           │  │       │          │      │           └ <class 'backend.app.db.models.User'>
                           │  │       │          │      └ <class 'backend.app.db.models.User'>
                           │  │       │          └ <function select at 0x00000179D42D0310>
                           │  │       └ <module 'sqlalchemy' from 'C:\\Users\\R\\PycharmProjects\\fastapi-react-crm-backend\\venv\\lib\\site-packages\\sqlalchemy\\__...
                           │  └ <function AsyncSession.execute at 0x00000179D46B5240>
                           └ <sqlalchemy.orm.session.AsyncSession object at 0x00000179D4EB9D50>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\sqlalchemy\ext\asyncio\session.py", line 214, in execute
    result = await greenlet_spawn(
                   └ <function greenlet_spawn at 0x00000179D3F6BAC0>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 126, in greenlet_spawn
    result = context.throw(*sys.exc_info())
             │       │      │   └ <built-in function exc_info>
             │       │      └ <module 'sys' (built-in)>
             │       └ <method 'throw' of 'greenlet.greenlet' objects>
             └ <_AsyncIoGreenlet object at 0x00000179D4E96300 (otid=0x00000179D3F25050) dead>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\sqlalchemy\orm\session.py", line 1714, in execute
    result = conn._execute_20(statement, params or {}, execution_options)
             │    │           │          │             └ immutabledict({'prebuffer_rows': True, '_result_disable_adapt_to_context': True, 'future_result': True})
             │    │           │          └ None
             │    │           └ <sqlalchemy.sql.selectable.Select object at 0x00000179D4EB9DE0>
             │    └ <function Connection._execute_20 at 0x00000179D4318F70>
             └ <sqlalchemy.future.engine.Connection object at 0x00000179D4EB9FC0>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\sqlalchemy\engine\base.py", line 1705, in _execute_20
    return meth(self, args_10style, kwargs_10style, execution_options)
           │    │     │             │               └ immutabledict({'prebuffer_rows': True, '_result_disable_adapt_to_context': True, 'future_result': True})
           │    │     │             └ immutabledict({})
           │    │     └ ({},)
           │    └ <sqlalchemy.future.engine.Connection object at 0x00000179D4EB9FC0>
           └ <bound method ClauseElement._execute_on_connection of <sqlalchemy.sql.selectable.Select object at 0x00000179D4EB9DE0>>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\sqlalchemy\sql\elements.py", line 334, in _execute_on_connection
    return connection._execute_clauseelement(
           │          └ <function Connection._execute_clauseelement at 0x00000179D4318DC0>
           └ <sqlalchemy.future.engine.Connection object at 0x00000179D4EB9FC0>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\sqlalchemy\engine\base.py", line 1572, in _execute_clauseelement
    ret = self._execute_context(
          │    └ <function Connection._execute_context at 0x00000179D4319090>
          └ <sqlalchemy.future.engine.Connection object at 0x00000179D4EB9FC0>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\sqlalchemy\engine\base.py", line 1943, in _execute_context
    self._handle_dbapi_exception(
    │    └ <function Connection._handle_dbapi_exception at 0x00000179D4319240>
    └ <sqlalchemy.future.engine.Connection object at 0x00000179D4EB9FC0>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\sqlalchemy\engine\base.py", line 2124, in _handle_dbapi_exception
    util.raise_(
    │    └ <function raise_ at 0x00000179D3F30D30>
    └ <module 'sqlalchemy.util' from 'C:\\Users\\R\\PycharmProjects\\fastapi-react-crm-backend\\venv\\lib\\site-packages\\sqlalchem...

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\sqlalchemy\util\compat.py", line 211, in raise_
    raise exception

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\sqlalchemy\engine\base.py", line 1900, in _execute_context
    self.dialect.do_execute(
    │    │       └ <function DefaultDialect.do_execute at 0x00000179D43C6290>
    │    └ <sqlalchemy.dialects.postgresql.asyncpg.PGDialect_asyncpg object at 0x00000179D4C2A920>
    └ <sqlalchemy.future.engine.Connection object at 0x00000179D4EB9FC0>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\sqlalchemy\engine\default.py", line 736, in do_execute
    cursor.execute(statement, parameters)
    │      │       │          └ ('1',)
    │      │       └ 'SELECT "user".id, "user".email, "user".hashed_password, "user".role, "user".full_name, "user".username, "user".age, "user".a...
    │      └ <function AsyncAdapt_asyncpg_cursor.execute at 0x00000179D4772D40>
    └ <sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_cursor object at 0x00000179D4EAC270>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 479, in execute
    self._adapt_connection.await_(
    │    └ <member '_adapt_connection' of 'AsyncAdapt_asyncpg_cursor' objects>
    └ <sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_cursor object at 0x00000179D4EAC270>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 68, in await_only
    return current.driver.switch(awaitable)
           │                     └ <coroutine object AsyncAdapt_asyncpg_cursor._prepare_and_execute at 0x00000179D4EAE650>
           └ <_AsyncIoGreenlet object at 0x00000179D4E96300 (otid=0x00000179D3F25050) dead>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 121, in greenlet_spawn
    value = await result
                  └ <coroutine object AsyncAdapt_asyncpg_cursor._prepare_and_execute at 0x00000179D4EAE650>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 454, in _prepare_and_execute
    self._handle_exception(error)
    │    └ <function AsyncAdapt_asyncpg_cursor._handle_exception at 0x00000179D4772B00>
    └ <sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_cursor object at 0x00000179D4EAC270>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 389, in _handle_exception
    self._adapt_connection._handle_exception(error)
    │    │                                   └ UndefinedFunctionError('operator does not exist: bigint = character varying')
    │    └ <member '_adapt_connection' of 'AsyncAdapt_asyncpg_cursor' objects>
    └ <sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_cursor object at 0x00000179D4EAC270>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 682, in _handle_exception
    raise translated_error from error
          │                     └ UndefinedFunctionError('operator does not exist: bigint = character varying')
          └ ProgrammingError("<class 'asyncpg.exceptions.UndefinedFunctionError'>: operator does not exist: bigint = character varying\nH...

sqlalchemy.exc.ProgrammingError: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedFunctionError'>: operator does not exist: bigint = character varying
HINT:  No operator matches the given name and argument types. You might need to add explicit type casts.
[SQL: SELECT "user".id, "user".email, "user".hashed_password, "user".role, "user".full_name, "user".username, "user".age, "user".avatar, "user".is_active, "user".is_superuser, "user".create_date 
FROM "user" 
WHERE "user".id = %s]
[parameters: ('1',)]
(Background on this error at: https://sqlalche.me/e/14/f405)
INFO     2022-12-14 14:21:46.050 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-12-14 14:21:46.051 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-12-14 14:21:46.161 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-12-14 14:21:46.161 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-12-14 14:21:46.162 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-12-14 14:21:46.162 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-12-14 14:21:46.162 request id: app - uvicorn.server:serve - Finished server process [27900]
INFO     2022-12-14 14:21:46.163 request id: app - uvicorn.server:serve - Finished server process [27900]
INFO     2022-12-14 14:21:48.074 request id: app - uvicorn.server:serve - Started server process [11904]
INFO     2022-12-14 14:21:48.075 request id: app - uvicorn.server:serve - Started server process [11904]
INFO     2022-12-14 14:21:48.075 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-12-14 14:21:48.076 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-12-14 14:21:48.076 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-12-14 14:21:48.076 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-12-14 14:21:59.463 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:57938 - "POST /api/v1/login/access-token HTTP/1.1" 200
INFO     2022-12-14 14:22:00.683 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:57938 - "GET /api/v1/users/?sort=%5B%22id%22%2C%20%22ASC%22%5D&range=%5B0%2C%2010%5D HTTP/1.1" 401
INFO     2022-12-14 14:22:54.081 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-12-14 14:22:54.081 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-12-14 14:22:54.191 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-12-14 14:22:54.191 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-12-14 14:22:54.192 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-12-14 14:22:54.192 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-12-14 14:22:54.193 request id: app - uvicorn.server:serve - Finished server process [11904]
INFO     2022-12-14 14:22:54.193 request id: app - uvicorn.server:serve - Finished server process [11904]
INFO     2022-12-14 14:22:55.924 request id: app - uvicorn.server:serve - Started server process [28004]
INFO     2022-12-14 14:22:55.925 request id: app - uvicorn.server:serve - Started server process [28004]
INFO     2022-12-14 14:22:55.925 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-12-14 14:22:55.926 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-12-14 14:22:55.926 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-12-14 14:22:55.927 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-12-14 14:22:58.366 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:57960 - "GET /api/v1/users/?sort=%5B%22id%22%2C%20%22ASC%22%5D&range=%5B0%2C%2010%5D HTTP/1.1" 401
INFO     2022-12-14 14:23:02.502 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:57960 - "POST /api/v1/login/access-token HTTP/1.1" 200
INFO     2022-12-14 14:23:03.766 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:57960 - "GET /api/v1/users/?sort=%5B%22id%22%2C%20%22ASC%22%5D&range=%5B0%2C%2010%5D HTTP/1.1" 401
INFO     2022-12-14 14:23:08.393 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-12-14 14:23:08.393 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-12-14 14:23:08.501 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-12-14 14:23:08.501 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-12-14 14:23:08.502 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-12-14 14:23:08.502 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-12-14 14:23:08.503 request id: app - uvicorn.server:serve - Finished server process [28004]
INFO     2022-12-14 14:23:08.503 request id: app - uvicorn.server:serve - Finished server process [28004]
INFO     2022-12-14 14:23:10.380 request id: app - uvicorn.server:serve - Started server process [5360]
INFO     2022-12-14 14:23:10.380 request id: app - uvicorn.server:serve - Started server process [5360]
INFO     2022-12-14 14:23:10.381 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-12-14 14:23:10.381 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-12-14 14:23:10.381 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-12-14 14:23:10.382 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-12-14 14:23:12.734 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:57969 - "GET /favicon.ico HTTP/1.1" 404
INFO     2022-12-14 14:23:13.744 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:57969 - "GET /docs HTTP/1.1" 200
INFO     2022-12-14 14:23:13.917 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:57969 - "GET /api/v1/openapi.json HTTP/1.1" 200
INFO     2022-12-14 14:23:16.169 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:57969 - "POST /api/v1/login/access-token HTTP/1.1" 200
INFO     2022-12-14 14:23:20.185 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:57969 - "GET /api/v1/users/?sort=%5B%22id%22%2C%20%22ASC%22%5D&range=%5B0%2C%2010%5D HTTP/1.1" 401
INFO     2022-12-14 14:23:23.962 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-12-14 14:23:23.963 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-12-14 14:23:24.070 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-12-14 14:23:24.070 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-12-14 14:23:24.071 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-12-14 14:23:24.071 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-12-14 14:23:24.072 request id: app - uvicorn.server:serve - Finished server process [5360]
INFO     2022-12-14 14:23:24.072 request id: app - uvicorn.server:serve - Finished server process [5360]
INFO     2022-12-14 14:24:03.331 request id: app - uvicorn.server:serve - Started server process [22892]
INFO     2022-12-14 14:24:03.332 request id: app - uvicorn.server:serve - Started server process [22892]
INFO     2022-12-14 14:24:03.332 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-12-14 14:24:03.332 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-12-14 14:24:03.332 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-12-14 14:24:03.333 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-12-14 14:24:08.215 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:57999 - "POST /api/v1/login/access-token HTTP/1.1" 500
ERROR    2022-12-14 14:24:08.216 request id: app - uvicorn.protocols.http.h11_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\R\AppData\Local\Programs\Python\Python310\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 316
               │     └ 3
               └ <function _main at 0x000001FDBB2A6320>

  File "C:\Users\R\AppData\Local\Programs\Python\Python310\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 316
           │    └ <function BaseProcess._bootstrap at 0x000001FDBB204160>
           └ <SpawnProcess name='SpawnProcess-1' parent=18488 started>

  File "C:\Users\R\AppData\Local\Programs\Python\Python310\lib\multiprocessing\process.py", line 314, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x000001FDBB1F7760>
    └ <SpawnProcess name='SpawnProcess-1' parent=18488 started>

  File "C:\Users\R\AppData\Local\Programs\Python\Python310\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000001FDBB162D70>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-1' parent=18488 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-1' parent=18488 started>
    │    └ <function subprocess_started at 0x000001FDBD5E4310>
    └ <SpawnProcess name='SpawnProcess-1' parent=18488 started>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\uvicorn\_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=728, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000001FDBB163460>>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\uvicorn\server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=728, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 8000)>]
           │       │   │    └ <function Server.serve at 0x000001FDBD5C0EE0>
           │       │   └ <uvicorn.server.Server object at 0x000001FDBB163460>
           │       └ <function run at 0x000001FDBCDF8B80>
           └ <module 'asyncio' from 'C:\\Users\\R\\AppData\\Local\\Programs\\Python\\Python310\\lib\\asyncio\\__init__.py'>

  File "C:\Users\R\AppData\Local\Programs\Python\Python310\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x000001FDBD5E09E0>
           │    └ <function BaseEventLoop.run_until_complete at 0x000001FDBCDFA560>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\R\AppData\Local\Programs\Python\Python310\lib\asyncio\base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001FDBCDFA4D0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\R\AppData\Local\Programs\Python\Python310\lib\asyncio\base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001FDBCDFC040>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\R\AppData\Local\Programs\Python\Python310\lib\asyncio\base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001FDBB5FF880>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>

  File "C:\Users\R\AppData\Local\Programs\Python\Python310\lib\asyncio\events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>

> File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\uvicorn\protocols\http\h11_impl.py", line 407, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001FDBD5DEA10>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x000001FDC0AAC100>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x000001FDC0AAC...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x000001FDBD644400>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001FDBD5DEA10>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x000001FDC0AAC100>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x000001FDC0AAC...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x000001FDC0AAC100>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x000001FDC0AAC...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001FDBFA32110>
          └ <fastapi.applications.FastAPI object at 0x000001FDBD644400>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\starlette\middleware\errors.py", line 184, in __call__
    raise exc

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\starlette\middleware\errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001FDBFA3E3B0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x000001FDC0AAC...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000001FDBFA32020>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001FDBFA32110>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\starlette\middleware\cors.py", line 92, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '127.0.0.1:8000', 'connection': 'keep-alive', 'content-length': '61', 'sec-ch-ua': '"Not?A_Brand";v="8", "Ch...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001FDBFA3E3B0>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x000001FDC0AAC...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function CORSMiddleware.simple_response at 0x000001FDBEA6F250>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000001FDBFA32020>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\starlette\middleware\cors.py", line 147, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x000001FDBFA32020...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x000001FDC0AAC...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001FDBFA31FF0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000001FDBFA32020>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\starlette\middleware\exceptions.py", line 79, in __call__
    raise exc

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\starlette\middleware\exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x000001FDBFA3E0E0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x000001FDC0AAC...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x000001FDBFA31F90>
          └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001FDBFA31FF0>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x000001FDBFA3E0E0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x000001FDC0AAC...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x000001FDBD644970>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x000001FDBFA31F90>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\starlette\routing.py", line 706, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x000001FDBFA3E0E0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x000001FDC0AAC...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │     └ <function Route.handle at 0x000001FDBEA51510>
          └ APIRoute(path='/api/v1/login/access-token', name='login_access_token', methods=['POST'])

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\starlette\routing.py", line 276, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x000001FDBFA3E0E0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x000001FDC0AAC...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function request_response.<locals>.app at 0x000001FDBFA1F130>
          └ APIRoute(path='/api/v1/login/access-token', name='login_access_token', methods=['POST'])

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\starlette\routing.py", line 66, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x000001FDC0A7FB50>
                     └ <function get_request_handler.<locals>.app at 0x000001FDBFA1D870>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\fastapi\routing.py", line 225, in app
    solved_result = await solve_dependencies(
                          └ <function solve_dependencies at 0x000001FDBEA2B9A0>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\fastapi\dependencies\utils.py", line 529, in solve_dependencies
    solved = await solve_generator(
                   └ <function solve_generator at 0x000001FDBEA2B910>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\fastapi\dependencies\utils.py", line 454, in solve_generator
    return await stack.enter_async_context(cm)
                 │     │                   └ <contextlib._AsyncGeneratorContextManager object at 0x000001FDC0AB9C90>
                 │     └ <function AsyncExitStack.enter_async_context at 0x000001FDBB131900>
                 └ <contextlib.AsyncExitStack object at 0x000001FDC0A7F6A0>

  File "C:\Users\R\AppData\Local\Programs\Python\Python310\lib\contextlib.py", line 619, in enter_async_context
    result = await _cm_type.__aenter__(cm)
                   │        │          └ <contextlib._AsyncGeneratorContextManager object at 0x000001FDC0AB9C90>
                   │        └ <function _AsyncGeneratorContextManager.__aenter__ at 0x000001FDBB130820>
                   └ <class 'contextlib._AsyncGeneratorContextManager'>

  File "C:\Users\R\AppData\Local\Programs\Python\Python310\lib\contextlib.py", line 199, in __aenter__
    return await anext(self.gen)
                       │    └ <async_generator object get_db at 0x000001FDBF9B7EC0>
                       └ <contextlib._AsyncGeneratorContextManager object at 0x000001FDC0AB9C90>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\.\backend\app\api\deps.py", line 26, in get_db
    assert isinstance(AsyncSession, session)
                      │             └ <sqlalchemy.orm.session.AsyncSession object at 0x000001FDC0AB9CC0>
                      └ <class 'sqlalchemy.ext.asyncio.session.AsyncSession'>

TypeError: isinstance() arg 2 must be a type, a tuple of types, or a union
ERROR    2022-12-14 14:24:08.230 request id: app - uvicorn.protocols.http.h11_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\R\AppData\Local\Programs\Python\Python310\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 316
               │     └ 3
               └ <function _main at 0x000001FDBB2A6320>

  File "C:\Users\R\AppData\Local\Programs\Python\Python310\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 316
           │    └ <function BaseProcess._bootstrap at 0x000001FDBB204160>
           └ <SpawnProcess name='SpawnProcess-1' parent=18488 started>

  File "C:\Users\R\AppData\Local\Programs\Python\Python310\lib\multiprocessing\process.py", line 314, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x000001FDBB1F7760>
    └ <SpawnProcess name='SpawnProcess-1' parent=18488 started>

  File "C:\Users\R\AppData\Local\Programs\Python\Python310\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000001FDBB162D70>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-1' parent=18488 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-1' parent=18488 started>
    │    └ <function subprocess_started at 0x000001FDBD5E4310>
    └ <SpawnProcess name='SpawnProcess-1' parent=18488 started>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\uvicorn\_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=728, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000001FDBB163460>>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\uvicorn\server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=728, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 8000)>]
           │       │   │    └ <function Server.serve at 0x000001FDBD5C0EE0>
           │       │   └ <uvicorn.server.Server object at 0x000001FDBB163460>
           │       └ <function run at 0x000001FDBCDF8B80>
           └ <module 'asyncio' from 'C:\\Users\\R\\AppData\\Local\\Programs\\Python\\Python310\\lib\\asyncio\\__init__.py'>

  File "C:\Users\R\AppData\Local\Programs\Python\Python310\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x000001FDBD5E09E0>
           │    └ <function BaseEventLoop.run_until_complete at 0x000001FDBCDFA560>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\R\AppData\Local\Programs\Python\Python310\lib\asyncio\base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001FDBCDFA4D0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\R\AppData\Local\Programs\Python\Python310\lib\asyncio\base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001FDBCDFC040>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\R\AppData\Local\Programs\Python\Python310\lib\asyncio\base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001FDBB5FF880>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>

  File "C:\Users\R\AppData\Local\Programs\Python\Python310\lib\asyncio\events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>

> File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\uvicorn\protocols\http\h11_impl.py", line 407, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001FDBD5DEA10>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x000001FDC0AAC100>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x000001FDC0AAC...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x000001FDBD644400>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001FDBD5DEA10>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x000001FDC0AAC100>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x000001FDC0AAC...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x000001FDC0AAC100>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x000001FDC0AAC...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001FDBFA32110>
          └ <fastapi.applications.FastAPI object at 0x000001FDBD644400>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\starlette\middleware\errors.py", line 184, in __call__
    raise exc

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\starlette\middleware\errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001FDBFA3E3B0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x000001FDC0AAC...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000001FDBFA32020>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001FDBFA32110>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\starlette\middleware\cors.py", line 92, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '127.0.0.1:8000', 'connection': 'keep-alive', 'content-length': '61', 'sec-ch-ua': '"Not?A_Brand";v="8", "Ch...
          │    │               │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000001FDBFA3E3B0>
          │    │               │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x000001FDC0AAC...
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function CORSMiddleware.simple_response at 0x000001FDBEA6F250>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000001FDBFA32020>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\starlette\middleware\cors.py", line 147, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x000001FDBFA32020...
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x000001FDC0AAC...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001FDBFA31FF0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000001FDBFA32020>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\starlette\middleware\exceptions.py", line 79, in __call__
    raise exc

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\starlette\middleware\exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x000001FDBFA3E0E0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x000001FDC0AAC...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x000001FDBFA31F90>
          └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000001FDBFA31FF0>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x000001FDBFA3E0E0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x000001FDC0AAC...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x000001FDBD644970>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x000001FDBFA31F90>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\starlette\routing.py", line 706, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x000001FDBFA3E0E0>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x000001FDC0AAC...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │     └ <function Route.handle at 0x000001FDBEA51510>
          └ APIRoute(path='/api/v1/login/access-token', name='login_access_token', methods=['POST'])

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\starlette\routing.py", line 276, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x000001FDBFA3E0E0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x000001FDC0AAC...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function request_response.<locals>.app at 0x000001FDBFA1F130>
          └ APIRoute(path='/api/v1/login/access-token', name='login_access_token', methods=['POST'])

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\starlette\routing.py", line 66, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x000001FDC0A7FB50>
                     └ <function get_request_handler.<locals>.app at 0x000001FDBFA1D870>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\fastapi\routing.py", line 225, in app
    solved_result = await solve_dependencies(
                          └ <function solve_dependencies at 0x000001FDBEA2B9A0>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\fastapi\dependencies\utils.py", line 529, in solve_dependencies
    solved = await solve_generator(
                   └ <function solve_generator at 0x000001FDBEA2B910>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\fastapi\dependencies\utils.py", line 454, in solve_generator
    return await stack.enter_async_context(cm)
                 │     │                   └ <contextlib._AsyncGeneratorContextManager object at 0x000001FDC0AB9C90>
                 │     └ <function AsyncExitStack.enter_async_context at 0x000001FDBB131900>
                 └ <contextlib.AsyncExitStack object at 0x000001FDC0A7F6A0>

  File "C:\Users\R\AppData\Local\Programs\Python\Python310\lib\contextlib.py", line 619, in enter_async_context
    result = await _cm_type.__aenter__(cm)
                   │        │          └ <contextlib._AsyncGeneratorContextManager object at 0x000001FDC0AB9C90>
                   │        └ <function _AsyncGeneratorContextManager.__aenter__ at 0x000001FDBB130820>
                   └ <class 'contextlib._AsyncGeneratorContextManager'>

  File "C:\Users\R\AppData\Local\Programs\Python\Python310\lib\contextlib.py", line 199, in __aenter__
    return await anext(self.gen)
                       │    └ <async_generator object get_db at 0x000001FDBF9B7EC0>
                       └ <contextlib._AsyncGeneratorContextManager object at 0x000001FDC0AB9C90>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\.\backend\app\api\deps.py", line 26, in get_db
    assert isinstance(AsyncSession, session)
                      │             └ <sqlalchemy.orm.session.AsyncSession object at 0x000001FDC0AB9CC0>
                      └ <class 'sqlalchemy.ext.asyncio.session.AsyncSession'>

TypeError: isinstance() arg 2 must be a type, a tuple of types, or a union
INFO     2022-12-14 14:24:16.102 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-12-14 14:24:16.102 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-12-14 14:24:16.212 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-12-14 14:24:16.212 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-12-14 14:24:16.213 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-12-14 14:24:16.213 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-12-14 14:24:16.214 request id: app - uvicorn.server:serve - Finished server process [22892]
INFO     2022-12-14 14:24:16.214 request id: app - uvicorn.server:serve - Finished server process [22892]
INFO     2022-12-14 14:24:17.997 request id: app - uvicorn.server:serve - Started server process [32184]
INFO     2022-12-14 14:24:17.997 request id: app - uvicorn.server:serve - Started server process [32184]
INFO     2022-12-14 14:24:17.998 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-12-14 14:24:17.998 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-12-14 14:24:17.999 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-12-14 14:24:17.999 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-12-14 14:24:20.567 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:58008 - "POST /api/v1/login/access-token HTTP/1.1" 200
INFO     2022-12-14 14:24:23.427 request id: app - backend.app.api.deps:get_current_user_async - START
INFO     2022-12-14 14:24:23.429 request id: app - backend.app.api.deps:get_session_user - get_session_user: postgres
INFO     2022-12-14 14:24:23.429 request id: app - backend.app.api.deps:reset_session_user - RESET_session_user
INFO     2022-12-14 14:24:23.432 request id: app - backend.app.api.deps:get_session_user - get_session_user: postgres
INFO     2022-12-14 14:24:23.436 request id: app - backend.app.api.deps:check_rolname - check_rolname: ka52 role exist
INFO     2022-12-14 14:24:23.436 request id: app - backend.app.api.deps:reset_session_user - RESET_session_user
INFO     2022-12-14 14:24:23.438 request id: app - backend.app.api.deps:get_session_user - get_session_user: postgres
INFO     2022-12-14 14:24:23.438 request id: app - backend.app.api.deps:set_session_user - SET_session_user: ka52
INFO     2022-12-14 14:24:23.441 request id: app - backend.app.api.deps:get_session_user - get_session_user: ka52
INFO     2022-12-14 14:24:23.441 request id: app - backend.app.api.deps:get_current_user_async - END
INFO     2022-12-14 14:24:23.482 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:58008 - "GET /api/v1/users/?sort=%5B%22id%22%2C%20%22ASC%22%5D&range=%5B0%2C%2010%5D HTTP/1.1" 200
INFO     2022-12-14 14:24:26.477 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-12-14 14:24:26.477 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-12-14 14:26:31.376 request id: app - uvicorn.server:serve - Started server process [7840]
INFO     2022-12-14 14:26:31.377 request id: app - uvicorn.server:serve - Started server process [7840]
INFO     2022-12-14 14:26:31.377 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-12-14 14:26:31.378 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-12-14 14:26:31.378 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-12-14 14:26:31.379 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-12-14 14:26:34.746 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:58058 - "GET /favicon.ico HTTP/1.1" 404
INFO     2022-12-14 14:26:36.508 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:58058 - "GET /docs HTTP/1.1" 200
INFO     2022-12-14 14:26:36.804 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:58058 - "GET /api/v1/openapi.json HTTP/1.1" 200
INFO     2022-12-14 14:26:39.467 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:58058 - "POST /api/v1/login/access-token HTTP/1.1" 200
INFO     2022-12-14 14:26:43.322 request id: app - backend.app.api.deps:get_current_user_async - START
INFO     2022-12-14 14:26:43.325 request id: app - backend.app.api.deps:get_session_user - get_session_user: postgres
INFO     2022-12-14 14:26:43.325 request id: app - backend.app.api.deps:reset_session_user - RESET_session_user
INFO     2022-12-14 14:26:43.328 request id: app - backend.app.api.deps:get_session_user - get_session_user: postgres
INFO     2022-12-14 14:26:43.330 request id: app - backend.app.api.deps:check_rolname - check_rolname: ka52 role exist
INFO     2022-12-14 14:26:43.331 request id: app - backend.app.api.deps:reset_session_user - RESET_session_user
INFO     2022-12-14 14:26:43.333 request id: app - backend.app.api.deps:get_session_user - get_session_user: postgres
INFO     2022-12-14 14:26:43.334 request id: app - backend.app.api.deps:set_session_user - SET_session_user: ka52
INFO     2022-12-14 14:26:43.337 request id: app - backend.app.api.deps:get_session_user - get_session_user: ka52
INFO     2022-12-14 14:26:43.338 request id: app - backend.app.api.deps:get_current_user_async - END
INFO     2022-12-14 14:26:43.350 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:58058 - "GET /api/v1/users/?sort=%5B%22id%22%2C%20%22ASC%22%5D&range=%5B0%2C%2010%5D HTTP/1.1" 200
INFO     2022-12-14 14:26:46.495 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-12-14 14:26:46.495 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-12-14 14:26:46.603 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-12-14 14:26:46.603 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-12-14 14:26:46.604 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-12-14 14:26:46.604 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-12-14 14:26:46.604 request id: app - uvicorn.server:serve - Finished server process [7840]
INFO     2022-12-14 14:26:46.605 request id: app - uvicorn.server:serve - Finished server process [7840]
INFO     2022-12-14 20:35:09.349 request id: app - uvicorn.server:serve - Started server process [344]
INFO     2022-12-14 20:35:09.349 request id: app - uvicorn.server:serve - Started server process [344]
INFO     2022-12-14 20:35:09.350 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-12-14 20:35:09.350 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-12-14 20:35:09.351 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-12-14 20:35:09.351 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-12-14 20:35:12.454 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:49990 - "GET /favicon.ico HTTP/1.1" 404
INFO     2022-12-14 20:35:13.185 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:49990 - "GET /docs HTTP/1.1" 200
INFO     2022-12-14 20:35:13.447 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:49990 - "GET /api/v1/openapi.json HTTP/1.1" 200
INFO     2022-12-14 20:35:16.218 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:49990 - "POST /api/v1/login/access-token HTTP/1.1" 200
INFO     2022-12-14 20:35:21.128 request id: app - backend.app.api.deps:get_current_user_async - START
INFO     2022-12-14 20:35:21.131 request id: app - backend.app.api.deps:get_session_user - get_session_user: postgres
INFO     2022-12-14 20:35:21.131 request id: app - backend.app.api.deps:reset_session_user - RESET_session_user
INFO     2022-12-14 20:35:21.134 request id: app - backend.app.api.deps:get_session_user - get_session_user: postgres
INFO     2022-12-14 20:35:21.137 request id: app - backend.app.api.deps:check_rolname - check_rolname: ka52 role exist
INFO     2022-12-14 20:35:21.137 request id: app - backend.app.api.deps:reset_session_user - RESET_session_user
INFO     2022-12-14 20:35:21.139 request id: app - backend.app.api.deps:get_session_user - get_session_user: postgres
INFO     2022-12-14 20:35:21.140 request id: app - backend.app.api.deps:set_session_user - SET_session_user: ka52
INFO     2022-12-14 20:35:21.143 request id: app - backend.app.api.deps:get_session_user - get_session_user: ka52
INFO     2022-12-14 20:35:21.143 request id: app - backend.app.api.deps:get_current_user_async - END
INFO     2022-12-14 20:35:21.158 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:49990 - "GET /api/v1/users/?sort=%5B%22id%22%2C%20%22ASC%22%5D&range=%5B0%2C%2010%5D HTTP/1.1" 200
INFO     2022-12-14 20:35:46.004 request id: app - backend.app.api.deps:get_current_user_async - START
INFO     2022-12-14 20:35:46.006 request id: app - backend.app.api.deps:get_session_user - get_session_user: postgres
INFO     2022-12-14 20:35:46.006 request id: app - backend.app.api.deps:reset_session_user - RESET_session_user
INFO     2022-12-14 20:35:46.009 request id: app - backend.app.api.deps:get_session_user - get_session_user: postgres
INFO     2022-12-14 20:35:46.010 request id: app - backend.app.api.deps:check_rolname - check_rolname: ka52 role exist
INFO     2022-12-14 20:35:46.010 request id: app - backend.app.api.deps:reset_session_user - RESET_session_user
INFO     2022-12-14 20:35:46.013 request id: app - backend.app.api.deps:get_session_user - get_session_user: postgres
INFO     2022-12-14 20:35:46.013 request id: app - backend.app.api.deps:set_session_user - SET_session_user: ka52
INFO     2022-12-14 20:35:46.015 request id: app - backend.app.api.deps:get_session_user - get_session_user: ka52
INFO     2022-12-14 20:35:46.015 request id: app - backend.app.api.deps:get_current_user_async - END
INFO     2022-12-14 20:35:46.091 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:49991 - "GET /api/v1/users/?sort=%5B%22id%22%2C%20%22ASC%22%5D&range=%5B0%2C%2010%5D&filter=%7B%27role%27%3A%20%27student%27%7D HTTP/1.1" 500
ERROR    2022-12-14 20:35:46.092 request id: app - uvicorn.protocols.http.h11_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\R\AppData\Local\Programs\Python\Python310\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 328
               │     └ 3
               └ <function _main at 0x000002423F296320>

  File "C:\Users\R\AppData\Local\Programs\Python\Python310\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 328
           │    └ <function BaseProcess._bootstrap at 0x000002423F1F4160>
           └ <SpawnProcess name='SpawnProcess-1' parent=20772 started>

  File "C:\Users\R\AppData\Local\Programs\Python\Python310\lib\multiprocessing\process.py", line 314, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x000002423F1E7760>
    └ <SpawnProcess name='SpawnProcess-1' parent=20772 started>

  File "C:\Users\R\AppData\Local\Programs\Python\Python310\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000002423F152D70>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-1' parent=20772 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-1' parent=20772 started>
    │    └ <function subprocess_started at 0x00000242415E4310>
    └ <SpawnProcess name='SpawnProcess-1' parent=20772 started>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\uvicorn\_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=716, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000002423F153460>>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\uvicorn\server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=716, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 8000)>]
           │       │   │    └ <function Server.serve at 0x00000242415C0EE0>
           │       │   └ <uvicorn.server.Server object at 0x000002423F153460>
           │       └ <function run at 0x0000024240DE8B80>
           └ <module 'asyncio' from 'C:\\Users\\R\\AppData\\Local\\Programs\\Python\\Python310\\lib\\asyncio\\__init__.py'>

  File "C:\Users\R\AppData\Local\Programs\Python\Python310\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x00000242415E09E0>
           │    └ <function BaseEventLoop.run_until_complete at 0x0000024240DEA560>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\R\AppData\Local\Programs\Python\Python310\lib\asyncio\base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x0000024240DEA4D0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\R\AppData\Local\Programs\Python\Python310\lib\asyncio\base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x0000024240DEC040>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\R\AppData\Local\Programs\Python\Python310\lib\asyncio\base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000002423F5EF880>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>

  File "C:\Users\R\AppData\Local\Programs\Python\Python310\lib\asyncio\events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>

> File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\uvicorn\protocols\http\h11_impl.py", line 407, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x00000242415DEA10>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x0000024243AF7FD0>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x0000024243AF7...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x0000024241644400>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x00000242415DEA10>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x0000024243AF7FD0>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x0000024243AF7...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x0000024243AF7FD0>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x0000024243AF7...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x0000024243A3BF40>
          └ <fastapi.applications.FastAPI object at 0x0000024241644400>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\starlette\middleware\errors.py", line 184, in __call__
    raise exc

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\starlette\middleware\errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000024243B6CCA0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x0000024243AF7...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x0000024243A3BE50>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x0000024243A3BF40>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\starlette\middleware\cors.py", line 84, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000024243B6CCA0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x0000024243AF7...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x0000024243A3BE20>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x0000024243A3BE50>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\starlette\middleware\exceptions.py", line 79, in __call__
    raise exc

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\starlette\middleware\exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x0000024243A99C60>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x0000024243AF7...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x0000024243A3BDC0>
          └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x0000024243A3BE20>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x0000024243A99C60>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x0000024243AF7...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x00000242439E0400>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x0000024243A3BDC0>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\starlette\routing.py", line 706, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x0000024243A99C60>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x0000024243AF7...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │     └ <function Route.handle at 0x0000024242A51510>
          └ APIRoute(path='/api/v1/users/', name='read_users', methods=['GET'])

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\starlette\routing.py", line 276, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x0000024243A99C60>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x0000024243AF7...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function request_response.<locals>.app at 0x0000024243A98160>
          └ APIRoute(path='/api/v1/users/', name='read_users', methods=['GET'])

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\starlette\routing.py", line 66, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x0000024243B23EE0>
                     └ <function get_request_handler.<locals>.app at 0x0000024243A980D0>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\fastapi\routing.py", line 225, in app
    solved_result = await solve_dependencies(
                          └ <function solve_dependencies at 0x0000024242A2B9A0>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\fastapi\dependencies\utils.py", line 535, in solve_dependencies
    solved = await run_in_threadpool(call, **sub_values)
                   │                 │       └ {'sort_': '["id", "ASC"]', 'range_': '[0, 10]', 'filter_': "{'role': 'student'}"}
                   │                 └ <function parse_react_admin_params.<locals>.inner at 0x00000242438C44C0>
                   └ <function run_in_threadpool at 0x000002424180D900>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\starlette\concurrency.py", line 41, in run_in_threadpool
    return await anyio.to_thread.run_sync(func, *args)
                 │     │         │        │      └ ()
                 │     │         │        └ functools.partial(<function parse_react_admin_params.<locals>.inner at 0x00000242438C44C0>, sort_='["id", "ASC"]', range_='[0...
                 │     │         └ <function run_sync at 0x000002424180F5B0>
                 │     └ <module 'anyio.to_thread' from 'C:\\Users\\R\\PycharmProjects\\fastapi-react-crm-backend\\venv\\lib\\site-packages\\anyio\\to...
                 └ <module 'anyio' from 'C:\\Users\\R\\PycharmProjects\\fastapi-react-crm-backend\\venv\\lib\\site-packages\\anyio\\__init__.py'>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\anyio\to_thread.py", line 31, in run_sync
    return await get_asynclib().run_sync_in_worker_thread(
                 └ <function get_asynclib at 0x000002424180F010>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\anyio\_backends\_asyncio.py", line 937, in run_sync_in_worker_thread
    return await future
                 └ <Future finished exception=JSONDecodeError('Expecting property name enclosed in double quotes: line 1 column 2 (char 1)')>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\anyio\_backends\_asyncio.py", line 867, in run
    result = context.run(func, *args)
             │       │   │      └ ()
             │       │   └ functools.partial(<function parse_react_admin_params.<locals>.inner at 0x00000242438C44C0>, sort_='["id", "ASC"]', range_='[0...
             │       └ <method 'run' of '_contextvars.Context' objects>
             └ <_contextvars.Context object at 0x0000024243B2D440>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\.\backend\app\api\deps.py", line 182, in inner
    ft: dict = json.loads(filter_)
               │    │     └ "{'role': 'student'}"
               │    └ <function loads at 0x0000024240EE5090>
               └ <module 'json' from 'C:\\Users\\R\\AppData\\Local\\Programs\\Python\\Python310\\lib\\json\\__init__.py'>

  File "C:\Users\R\AppData\Local\Programs\Python\Python310\lib\json\__init__.py", line 346, in loads
    return _default_decoder.decode(s)
           │                │      └ "{'role': 'student'}"
           │                └ <function JSONDecoder.decode at 0x0000024240EE4820>
           └ <json.decoder.JSONDecoder object at 0x000002423F2B4130>

  File "C:\Users\R\AppData\Local\Programs\Python\Python310\lib\json\decoder.py", line 337, in decode
    obj, end = self.raw_decode(s, idx=_w(s, 0).end())
               │    │          │      │  └ "{'role': 'student'}"
               │    │          │      └ <built-in method match of re.Pattern object at 0x0000024240E08A00>
               │    │          └ "{'role': 'student'}"
               │    └ <function JSONDecoder.raw_decode at 0x0000024240EE48B0>
               └ <json.decoder.JSONDecoder object at 0x000002423F2B4130>

  File "C:\Users\R\AppData\Local\Programs\Python\Python310\lib\json\decoder.py", line 353, in raw_decode
    obj, end = self.scan_once(s, idx)
               │    │         │  └ 0
               │    │         └ "{'role': 'student'}"
               │    └ <_json.Scanner object at 0x0000024240ED8A00>
               └ <json.decoder.JSONDecoder object at 0x000002423F2B4130>

json.decoder.JSONDecodeError: Expecting property name enclosed in double quotes: line 1 column 2 (char 1)
ERROR    2022-12-14 20:35:46.156 request id: app - uvicorn.protocols.http.h11_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\R\AppData\Local\Programs\Python\Python310\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 328
               │     └ 3
               └ <function _main at 0x000002423F296320>

  File "C:\Users\R\AppData\Local\Programs\Python\Python310\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 328
           │    └ <function BaseProcess._bootstrap at 0x000002423F1F4160>
           └ <SpawnProcess name='SpawnProcess-1' parent=20772 started>

  File "C:\Users\R\AppData\Local\Programs\Python\Python310\lib\multiprocessing\process.py", line 314, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x000002423F1E7760>
    └ <SpawnProcess name='SpawnProcess-1' parent=20772 started>

  File "C:\Users\R\AppData\Local\Programs\Python\Python310\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000002423F152D70>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-1' parent=20772 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-1' parent=20772 started>
    │    └ <function subprocess_started at 0x00000242415E4310>
    └ <SpawnProcess name='SpawnProcess-1' parent=20772 started>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\uvicorn\_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=716, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000002423F153460>>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\uvicorn\server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=716, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 8000)>]
           │       │   │    └ <function Server.serve at 0x00000242415C0EE0>
           │       │   └ <uvicorn.server.Server object at 0x000002423F153460>
           │       └ <function run at 0x0000024240DE8B80>
           └ <module 'asyncio' from 'C:\\Users\\R\\AppData\\Local\\Programs\\Python\\Python310\\lib\\asyncio\\__init__.py'>

  File "C:\Users\R\AppData\Local\Programs\Python\Python310\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x00000242415E09E0>
           │    └ <function BaseEventLoop.run_until_complete at 0x0000024240DEA560>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\R\AppData\Local\Programs\Python\Python310\lib\asyncio\base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x0000024240DEA4D0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\R\AppData\Local\Programs\Python\Python310\lib\asyncio\base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x0000024240DEC040>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\R\AppData\Local\Programs\Python\Python310\lib\asyncio\base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000002423F5EF880>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>

  File "C:\Users\R\AppData\Local\Programs\Python\Python310\lib\asyncio\events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>

> File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\uvicorn\protocols\http\h11_impl.py", line 407, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x00000242415DEA10>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x0000024243AF7FD0>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x0000024243AF7...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x0000024241644400>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x00000242415DEA10>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x0000024243AF7FD0>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x0000024243AF7...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x0000024243AF7FD0>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x0000024243AF7...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x0000024243A3BF40>
          └ <fastapi.applications.FastAPI object at 0x0000024241644400>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\starlette\middleware\errors.py", line 184, in __call__
    raise exc

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\starlette\middleware\errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000024243B6CCA0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x0000024243AF7...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x0000024243A3BE50>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x0000024243A3BF40>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\starlette\middleware\cors.py", line 84, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000024243B6CCA0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x0000024243AF7...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x0000024243A3BE20>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x0000024243A3BE50>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\starlette\middleware\exceptions.py", line 79, in __call__
    raise exc

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\starlette\middleware\exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x0000024243A99C60>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x0000024243AF7...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x0000024243A3BDC0>
          └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x0000024243A3BE20>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x0000024243A99C60>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x0000024243AF7...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x00000242439E0400>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x0000024243A3BDC0>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\starlette\routing.py", line 706, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x0000024243A99C60>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x0000024243AF7...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │     └ <function Route.handle at 0x0000024242A51510>
          └ APIRoute(path='/api/v1/users/', name='read_users', methods=['GET'])

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\starlette\routing.py", line 276, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x0000024243A99C60>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x0000024243AF7...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function request_response.<locals>.app at 0x0000024243A98160>
          └ APIRoute(path='/api/v1/users/', name='read_users', methods=['GET'])

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\starlette\routing.py", line 66, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x0000024243B23EE0>
                     └ <function get_request_handler.<locals>.app at 0x0000024243A980D0>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\fastapi\routing.py", line 225, in app
    solved_result = await solve_dependencies(
                          └ <function solve_dependencies at 0x0000024242A2B9A0>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\fastapi\dependencies\utils.py", line 535, in solve_dependencies
    solved = await run_in_threadpool(call, **sub_values)
                   │                 │       └ {'sort_': '["id", "ASC"]', 'range_': '[0, 10]', 'filter_': "{'role': 'student'}"}
                   │                 └ <function parse_react_admin_params.<locals>.inner at 0x00000242438C44C0>
                   └ <function run_in_threadpool at 0x000002424180D900>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\starlette\concurrency.py", line 41, in run_in_threadpool
    return await anyio.to_thread.run_sync(func, *args)
                 │     │         │        │      └ ()
                 │     │         │        └ functools.partial(<function parse_react_admin_params.<locals>.inner at 0x00000242438C44C0>, sort_='["id", "ASC"]', range_='[0...
                 │     │         └ <function run_sync at 0x000002424180F5B0>
                 │     └ <module 'anyio.to_thread' from 'C:\\Users\\R\\PycharmProjects\\fastapi-react-crm-backend\\venv\\lib\\site-packages\\anyio\\to...
                 └ <module 'anyio' from 'C:\\Users\\R\\PycharmProjects\\fastapi-react-crm-backend\\venv\\lib\\site-packages\\anyio\\__init__.py'>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\anyio\to_thread.py", line 31, in run_sync
    return await get_asynclib().run_sync_in_worker_thread(
                 └ <function get_asynclib at 0x000002424180F010>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\anyio\_backends\_asyncio.py", line 937, in run_sync_in_worker_thread
    return await future
                 └ <Future finished exception=JSONDecodeError('Expecting property name enclosed in double quotes: line 1 column 2 (char 1)')>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\anyio\_backends\_asyncio.py", line 867, in run
    result = context.run(func, *args)
             │       │   │      └ ()
             │       │   └ functools.partial(<function parse_react_admin_params.<locals>.inner at 0x00000242438C44C0>, sort_='["id", "ASC"]', range_='[0...
             │       └ <method 'run' of '_contextvars.Context' objects>
             └ <_contextvars.Context object at 0x0000024243B2D440>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\.\backend\app\api\deps.py", line 182, in inner
    ft: dict = json.loads(filter_)
               │    │     └ "{'role': 'student'}"
               │    └ <function loads at 0x0000024240EE5090>
               └ <module 'json' from 'C:\\Users\\R\\AppData\\Local\\Programs\\Python\\Python310\\lib\\json\\__init__.py'>

  File "C:\Users\R\AppData\Local\Programs\Python\Python310\lib\json\__init__.py", line 346, in loads
    return _default_decoder.decode(s)
           │                │      └ "{'role': 'student'}"
           │                └ <function JSONDecoder.decode at 0x0000024240EE4820>
           └ <json.decoder.JSONDecoder object at 0x000002423F2B4130>

  File "C:\Users\R\AppData\Local\Programs\Python\Python310\lib\json\decoder.py", line 337, in decode
    obj, end = self.raw_decode(s, idx=_w(s, 0).end())
               │    │          │      │  └ "{'role': 'student'}"
               │    │          │      └ <built-in method match of re.Pattern object at 0x0000024240E08A00>
               │    │          └ "{'role': 'student'}"
               │    └ <function JSONDecoder.raw_decode at 0x0000024240EE48B0>
               └ <json.decoder.JSONDecoder object at 0x000002423F2B4130>

  File "C:\Users\R\AppData\Local\Programs\Python\Python310\lib\json\decoder.py", line 353, in raw_decode
    obj, end = self.scan_once(s, idx)
               │    │         │  └ 0
               │    │         └ "{'role': 'student'}"
               │    └ <_json.Scanner object at 0x0000024240ED8A00>
               └ <json.decoder.JSONDecoder object at 0x000002423F2B4130>

json.decoder.JSONDecodeError: Expecting property name enclosed in double quotes: line 1 column 2 (char 1)
INFO     2022-12-14 20:36:05.223 request id: app - backend.app.api.deps:get_current_user_async - START
INFO     2022-12-14 20:36:05.225 request id: app - backend.app.api.deps:get_session_user - get_session_user: postgres
INFO     2022-12-14 20:36:05.226 request id: app - backend.app.api.deps:reset_session_user - RESET_session_user
INFO     2022-12-14 20:36:05.229 request id: app - backend.app.api.deps:get_session_user - get_session_user: postgres
INFO     2022-12-14 20:36:05.231 request id: app - backend.app.api.deps:check_rolname - check_rolname: ka52 role exist
INFO     2022-12-14 20:36:05.231 request id: app - backend.app.api.deps:reset_session_user - RESET_session_user
INFO     2022-12-14 20:36:05.233 request id: app - backend.app.api.deps:get_session_user - get_session_user: postgres
INFO     2022-12-14 20:36:05.233 request id: app - backend.app.api.deps:set_session_user - SET_session_user: ka52
INFO     2022-12-14 20:36:05.235 request id: app - backend.app.api.deps:get_session_user - get_session_user: ka52
INFO     2022-12-14 20:36:05.236 request id: app - backend.app.api.deps:get_current_user_async - END
INFO     2022-12-14 20:36:05.239 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:50064 - "GET /api/v1/users/?sort=%5B%22id%22%2C%20%22ASC%22%5D&range=%5B0%2C%2010%5D&filter=%5B%27role%27%3A%20%27student%27%5D HTTP/1.1" 500
ERROR    2022-12-14 20:36:05.239 request id: app - uvicorn.protocols.http.h11_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\R\AppData\Local\Programs\Python\Python310\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 328
               │     └ 3
               └ <function _main at 0x000002423F296320>

  File "C:\Users\R\AppData\Local\Programs\Python\Python310\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 328
           │    └ <function BaseProcess._bootstrap at 0x000002423F1F4160>
           └ <SpawnProcess name='SpawnProcess-1' parent=20772 started>

  File "C:\Users\R\AppData\Local\Programs\Python\Python310\lib\multiprocessing\process.py", line 314, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x000002423F1E7760>
    └ <SpawnProcess name='SpawnProcess-1' parent=20772 started>

  File "C:\Users\R\AppData\Local\Programs\Python\Python310\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000002423F152D70>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-1' parent=20772 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-1' parent=20772 started>
    │    └ <function subprocess_started at 0x00000242415E4310>
    └ <SpawnProcess name='SpawnProcess-1' parent=20772 started>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\uvicorn\_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=716, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000002423F153460>>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\uvicorn\server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=716, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 8000)>]
           │       │   │    └ <function Server.serve at 0x00000242415C0EE0>
           │       │   └ <uvicorn.server.Server object at 0x000002423F153460>
           │       └ <function run at 0x0000024240DE8B80>
           └ <module 'asyncio' from 'C:\\Users\\R\\AppData\\Local\\Programs\\Python\\Python310\\lib\\asyncio\\__init__.py'>

  File "C:\Users\R\AppData\Local\Programs\Python\Python310\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x00000242415E09E0>
           │    └ <function BaseEventLoop.run_until_complete at 0x0000024240DEA560>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\R\AppData\Local\Programs\Python\Python310\lib\asyncio\base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x0000024240DEA4D0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\R\AppData\Local\Programs\Python\Python310\lib\asyncio\base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x0000024240DEC040>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\R\AppData\Local\Programs\Python\Python310\lib\asyncio\base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000002423F5EF880>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>

  File "C:\Users\R\AppData\Local\Programs\Python\Python310\lib\asyncio\events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>

> File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\uvicorn\protocols\http\h11_impl.py", line 407, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x00000242415DEA10>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x0000024244BA06A0>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x0000024244BA0...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x0000024241644400>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x00000242415DEA10>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x0000024244BA06A0>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x0000024244BA0...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x0000024244BA06A0>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x0000024244BA0...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x0000024243A3BF40>
          └ <fastapi.applications.FastAPI object at 0x0000024241644400>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\starlette\middleware\errors.py", line 184, in __call__
    raise exc

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\starlette\middleware\errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000024244E56050>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x0000024244BA0...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x0000024243A3BE50>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x0000024243A3BF40>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\starlette\middleware\cors.py", line 84, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000024244E56050>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x0000024244BA0...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x0000024243A3BE20>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x0000024243A3BE50>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\starlette\middleware\exceptions.py", line 79, in __call__
    raise exc

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\starlette\middleware\exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x0000024244E56200>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x0000024244BA0...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x0000024243A3BDC0>
          └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x0000024243A3BE20>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x0000024244E56200>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x0000024244BA0...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x00000242439E0400>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x0000024243A3BDC0>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\starlette\routing.py", line 706, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x0000024244E56200>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x0000024244BA0...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │     └ <function Route.handle at 0x0000024242A51510>
          └ APIRoute(path='/api/v1/users/', name='read_users', methods=['GET'])

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\starlette\routing.py", line 276, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x0000024244E56200>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x0000024244BA0...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function request_response.<locals>.app at 0x0000024243A98160>
          └ APIRoute(path='/api/v1/users/', name='read_users', methods=['GET'])

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\starlette\routing.py", line 66, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x0000024244BA0340>
                     └ <function get_request_handler.<locals>.app at 0x0000024243A980D0>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\fastapi\routing.py", line 225, in app
    solved_result = await solve_dependencies(
                          └ <function solve_dependencies at 0x0000024242A2B9A0>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\fastapi\dependencies\utils.py", line 535, in solve_dependencies
    solved = await run_in_threadpool(call, **sub_values)
                   │                 │       └ {'sort_': '["id", "ASC"]', 'range_': '[0, 10]', 'filter_': "['role': 'student']"}
                   │                 └ <function parse_react_admin_params.<locals>.inner at 0x00000242438C44C0>
                   └ <function run_in_threadpool at 0x000002424180D900>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\starlette\concurrency.py", line 41, in run_in_threadpool
    return await anyio.to_thread.run_sync(func, *args)
                 │     │         │        │      └ ()
                 │     │         │        └ functools.partial(<function parse_react_admin_params.<locals>.inner at 0x00000242438C44C0>, sort_='["id", "ASC"]', range_='[0...
                 │     │         └ <function run_sync at 0x000002424180F5B0>
                 │     └ <module 'anyio.to_thread' from 'C:\\Users\\R\\PycharmProjects\\fastapi-react-crm-backend\\venv\\lib\\site-packages\\anyio\\to...
                 └ <module 'anyio' from 'C:\\Users\\R\\PycharmProjects\\fastapi-react-crm-backend\\venv\\lib\\site-packages\\anyio\\__init__.py'>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\anyio\to_thread.py", line 31, in run_sync
    return await get_asynclib().run_sync_in_worker_thread(
                 └ <function get_asynclib at 0x000002424180F010>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\anyio\_backends\_asyncio.py", line 937, in run_sync_in_worker_thread
    return await future
                 └ <Future finished exception=JSONDecodeError('Expecting value: line 1 column 2 (char 1)')>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\anyio\_backends\_asyncio.py", line 867, in run
    result = context.run(func, *args)
             │       │   │      └ ()
             │       │   └ functools.partial(<function parse_react_admin_params.<locals>.inner at 0x00000242438C44C0>, sort_='["id", "ASC"]', range_='[0...
             │       └ <method 'run' of '_contextvars.Context' objects>
             └ <_contextvars.Context object at 0x00000242438D1200>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\.\backend\app\api\deps.py", line 182, in inner
    ft: dict = json.loads(filter_)
               │    │     └ "['role': 'student']"
               │    └ <function loads at 0x0000024240EE5090>
               └ <module 'json' from 'C:\\Users\\R\\AppData\\Local\\Programs\\Python\\Python310\\lib\\json\\__init__.py'>

  File "C:\Users\R\AppData\Local\Programs\Python\Python310\lib\json\__init__.py", line 346, in loads
    return _default_decoder.decode(s)
           │                │      └ "['role': 'student']"
           │                └ <function JSONDecoder.decode at 0x0000024240EE4820>
           └ <json.decoder.JSONDecoder object at 0x000002423F2B4130>

  File "C:\Users\R\AppData\Local\Programs\Python\Python310\lib\json\decoder.py", line 337, in decode
    obj, end = self.raw_decode(s, idx=_w(s, 0).end())
               │    │          │      │  └ "['role': 'student']"
               │    │          │      └ <built-in method match of re.Pattern object at 0x0000024240E08A00>
               │    │          └ "['role': 'student']"
               │    └ <function JSONDecoder.raw_decode at 0x0000024240EE48B0>
               └ <json.decoder.JSONDecoder object at 0x000002423F2B4130>

  File "C:\Users\R\AppData\Local\Programs\Python\Python310\lib\json\decoder.py", line 355, in raw_decode
    raise JSONDecodeError("Expecting value", s, err.value) from None
          │                                  └ "['role': 'student']"
          └ <class 'json.decoder.JSONDecodeError'>

json.decoder.JSONDecodeError: Expecting value: line 1 column 2 (char 1)
ERROR    2022-12-14 20:36:05.249 request id: app - uvicorn.protocols.http.h11_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\R\AppData\Local\Programs\Python\Python310\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 328
               │     └ 3
               └ <function _main at 0x000002423F296320>

  File "C:\Users\R\AppData\Local\Programs\Python\Python310\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 328
           │    └ <function BaseProcess._bootstrap at 0x000002423F1F4160>
           └ <SpawnProcess name='SpawnProcess-1' parent=20772 started>

  File "C:\Users\R\AppData\Local\Programs\Python\Python310\lib\multiprocessing\process.py", line 314, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x000002423F1E7760>
    └ <SpawnProcess name='SpawnProcess-1' parent=20772 started>

  File "C:\Users\R\AppData\Local\Programs\Python\Python310\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000002423F152D70>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-1' parent=20772 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-1' parent=20772 started>
    │    └ <function subprocess_started at 0x00000242415E4310>
    └ <SpawnProcess name='SpawnProcess-1' parent=20772 started>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\uvicorn\_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=716, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000002423F153460>>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\uvicorn\server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=716, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 8000)>]
           │       │   │    └ <function Server.serve at 0x00000242415C0EE0>
           │       │   └ <uvicorn.server.Server object at 0x000002423F153460>
           │       └ <function run at 0x0000024240DE8B80>
           └ <module 'asyncio' from 'C:\\Users\\R\\AppData\\Local\\Programs\\Python\\Python310\\lib\\asyncio\\__init__.py'>

  File "C:\Users\R\AppData\Local\Programs\Python\Python310\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x00000242415E09E0>
           │    └ <function BaseEventLoop.run_until_complete at 0x0000024240DEA560>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\R\AppData\Local\Programs\Python\Python310\lib\asyncio\base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x0000024240DEA4D0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\R\AppData\Local\Programs\Python\Python310\lib\asyncio\base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x0000024240DEC040>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\R\AppData\Local\Programs\Python\Python310\lib\asyncio\base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000002423F5EF880>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>

  File "C:\Users\R\AppData\Local\Programs\Python\Python310\lib\asyncio\events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>

> File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\uvicorn\protocols\http\h11_impl.py", line 407, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x00000242415DEA10>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x0000024244BA06A0>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x0000024244BA0...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x0000024241644400>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x00000242415DEA10>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x0000024244BA06A0>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x0000024244BA0...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x0000024244BA06A0>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x0000024244BA0...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x0000024243A3BF40>
          └ <fastapi.applications.FastAPI object at 0x0000024241644400>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\starlette\middleware\errors.py", line 184, in __call__
    raise exc

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\starlette\middleware\errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000024244E56050>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x0000024244BA0...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x0000024243A3BE50>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x0000024243A3BF40>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\starlette\middleware\cors.py", line 84, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000024244E56050>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x0000024244BA0...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x0000024243A3BE20>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x0000024243A3BE50>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\starlette\middleware\exceptions.py", line 79, in __call__
    raise exc

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\starlette\middleware\exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x0000024244E56200>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x0000024244BA0...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x0000024243A3BDC0>
          └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x0000024243A3BE20>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x0000024244E56200>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x0000024244BA0...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x00000242439E0400>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x0000024243A3BDC0>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\starlette\routing.py", line 706, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x0000024244E56200>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x0000024244BA0...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │     └ <function Route.handle at 0x0000024242A51510>
          └ APIRoute(path='/api/v1/users/', name='read_users', methods=['GET'])

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\starlette\routing.py", line 276, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x0000024244E56200>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x0000024244BA0...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function request_response.<locals>.app at 0x0000024243A98160>
          └ APIRoute(path='/api/v1/users/', name='read_users', methods=['GET'])

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\starlette\routing.py", line 66, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x0000024244BA0340>
                     └ <function get_request_handler.<locals>.app at 0x0000024243A980D0>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\fastapi\routing.py", line 225, in app
    solved_result = await solve_dependencies(
                          └ <function solve_dependencies at 0x0000024242A2B9A0>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\fastapi\dependencies\utils.py", line 535, in solve_dependencies
    solved = await run_in_threadpool(call, **sub_values)
                   │                 │       └ {'sort_': '["id", "ASC"]', 'range_': '[0, 10]', 'filter_': "['role': 'student']"}
                   │                 └ <function parse_react_admin_params.<locals>.inner at 0x00000242438C44C0>
                   └ <function run_in_threadpool at 0x000002424180D900>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\starlette\concurrency.py", line 41, in run_in_threadpool
    return await anyio.to_thread.run_sync(func, *args)
                 │     │         │        │      └ ()
                 │     │         │        └ functools.partial(<function parse_react_admin_params.<locals>.inner at 0x00000242438C44C0>, sort_='["id", "ASC"]', range_='[0...
                 │     │         └ <function run_sync at 0x000002424180F5B0>
                 │     └ <module 'anyio.to_thread' from 'C:\\Users\\R\\PycharmProjects\\fastapi-react-crm-backend\\venv\\lib\\site-packages\\anyio\\to...
                 └ <module 'anyio' from 'C:\\Users\\R\\PycharmProjects\\fastapi-react-crm-backend\\venv\\lib\\site-packages\\anyio\\__init__.py'>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\anyio\to_thread.py", line 31, in run_sync
    return await get_asynclib().run_sync_in_worker_thread(
                 └ <function get_asynclib at 0x000002424180F010>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\anyio\_backends\_asyncio.py", line 937, in run_sync_in_worker_thread
    return await future
                 └ <Future finished exception=JSONDecodeError('Expecting value: line 1 column 2 (char 1)')>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\anyio\_backends\_asyncio.py", line 867, in run
    result = context.run(func, *args)
             │       │   │      └ ()
             │       │   └ functools.partial(<function parse_react_admin_params.<locals>.inner at 0x00000242438C44C0>, sort_='["id", "ASC"]', range_='[0...
             │       └ <method 'run' of '_contextvars.Context' objects>
             └ <_contextvars.Context object at 0x00000242438D1200>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\.\backend\app\api\deps.py", line 182, in inner
    ft: dict = json.loads(filter_)
               │    │     └ "['role': 'student']"
               │    └ <function loads at 0x0000024240EE5090>
               └ <module 'json' from 'C:\\Users\\R\\AppData\\Local\\Programs\\Python\\Python310\\lib\\json\\__init__.py'>

  File "C:\Users\R\AppData\Local\Programs\Python\Python310\lib\json\__init__.py", line 346, in loads
    return _default_decoder.decode(s)
           │                │      └ "['role': 'student']"
           │                └ <function JSONDecoder.decode at 0x0000024240EE4820>
           └ <json.decoder.JSONDecoder object at 0x000002423F2B4130>

  File "C:\Users\R\AppData\Local\Programs\Python\Python310\lib\json\decoder.py", line 337, in decode
    obj, end = self.raw_decode(s, idx=_w(s, 0).end())
               │    │          │      │  └ "['role': 'student']"
               │    │          │      └ <built-in method match of re.Pattern object at 0x0000024240E08A00>
               │    │          └ "['role': 'student']"
               │    └ <function JSONDecoder.raw_decode at 0x0000024240EE48B0>
               └ <json.decoder.JSONDecoder object at 0x000002423F2B4130>

  File "C:\Users\R\AppData\Local\Programs\Python\Python310\lib\json\decoder.py", line 355, in raw_decode
    raise JSONDecodeError("Expecting value", s, err.value) from None
          │                                  └ "['role': 'student']"
          └ <class 'json.decoder.JSONDecodeError'>

json.decoder.JSONDecodeError: Expecting value: line 1 column 2 (char 1)
INFO     2022-12-14 20:36:33.876 request id: app - backend.app.api.deps:get_current_user_async - START
INFO     2022-12-14 20:36:33.878 request id: app - backend.app.api.deps:get_session_user - get_session_user: postgres
INFO     2022-12-14 20:36:33.878 request id: app - backend.app.api.deps:reset_session_user - RESET_session_user
INFO     2022-12-14 20:36:33.881 request id: app - backend.app.api.deps:get_session_user - get_session_user: postgres
INFO     2022-12-14 20:36:33.882 request id: app - backend.app.api.deps:check_rolname - check_rolname: ka52 role exist
INFO     2022-12-14 20:36:33.882 request id: app - backend.app.api.deps:reset_session_user - RESET_session_user
INFO     2022-12-14 20:36:33.884 request id: app - backend.app.api.deps:get_session_user - get_session_user: postgres
INFO     2022-12-14 20:36:33.884 request id: app - backend.app.api.deps:set_session_user - SET_session_user: ka52
INFO     2022-12-14 20:36:33.886 request id: app - backend.app.api.deps:get_session_user - get_session_user: ka52
INFO     2022-12-14 20:36:33.887 request id: app - backend.app.api.deps:get_current_user_async - END
INFO     2022-12-14 20:36:33.893 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:50069 - "GET /api/v1/users/?sort=%5B%22id%22%2C%20%22ASC%22%5D&range=%5B0%2C%2010%5D HTTP/1.1" 200
INFO     2022-12-14 20:36:46.429 request id: app - backend.app.api.deps:get_current_user_async - START
INFO     2022-12-14 20:36:46.431 request id: app - backend.app.api.deps:get_session_user - get_session_user: postgres
INFO     2022-12-14 20:36:46.431 request id: app - backend.app.api.deps:reset_session_user - RESET_session_user
INFO     2022-12-14 20:36:46.434 request id: app - backend.app.api.deps:get_session_user - get_session_user: postgres
INFO     2022-12-14 20:36:46.436 request id: app - backend.app.api.deps:check_rolname - check_rolname: ka52 role exist
INFO     2022-12-14 20:36:46.436 request id: app - backend.app.api.deps:reset_session_user - RESET_session_user
INFO     2022-12-14 20:36:46.438 request id: app - backend.app.api.deps:get_session_user - get_session_user: postgres
INFO     2022-12-14 20:36:46.438 request id: app - backend.app.api.deps:set_session_user - SET_session_user: ka52
INFO     2022-12-14 20:36:46.440 request id: app - backend.app.api.deps:get_session_user - get_session_user: ka52
INFO     2022-12-14 20:36:46.441 request id: app - backend.app.api.deps:get_current_user_async - END
INFO     2022-12-14 20:36:46.443 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:50073 - "GET /api/v1/users/?sort=%5B%22id%22%2C%20%22ASC%22%5D&range=%5B0%2C%2010%5D&filter=%5B%22role%22%2C%20%22admin%22%5D HTTP/1.1" 500
ERROR    2022-12-14 20:36:46.444 request id: app - uvicorn.protocols.http.h11_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\R\AppData\Local\Programs\Python\Python310\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 328
               │     └ 3
               └ <function _main at 0x000002423F296320>

  File "C:\Users\R\AppData\Local\Programs\Python\Python310\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 328
           │    └ <function BaseProcess._bootstrap at 0x000002423F1F4160>
           └ <SpawnProcess name='SpawnProcess-1' parent=20772 started>

  File "C:\Users\R\AppData\Local\Programs\Python\Python310\lib\multiprocessing\process.py", line 314, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x000002423F1E7760>
    └ <SpawnProcess name='SpawnProcess-1' parent=20772 started>

  File "C:\Users\R\AppData\Local\Programs\Python\Python310\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000002423F152D70>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-1' parent=20772 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-1' parent=20772 started>
    │    └ <function subprocess_started at 0x00000242415E4310>
    └ <SpawnProcess name='SpawnProcess-1' parent=20772 started>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\uvicorn\_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=716, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000002423F153460>>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\uvicorn\server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=716, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 8000)>]
           │       │   │    └ <function Server.serve at 0x00000242415C0EE0>
           │       │   └ <uvicorn.server.Server object at 0x000002423F153460>
           │       └ <function run at 0x0000024240DE8B80>
           └ <module 'asyncio' from 'C:\\Users\\R\\AppData\\Local\\Programs\\Python\\Python310\\lib\\asyncio\\__init__.py'>

  File "C:\Users\R\AppData\Local\Programs\Python\Python310\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x00000242415E09E0>
           │    └ <function BaseEventLoop.run_until_complete at 0x0000024240DEA560>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\R\AppData\Local\Programs\Python\Python310\lib\asyncio\base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x0000024240DEA4D0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\R\AppData\Local\Programs\Python\Python310\lib\asyncio\base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x0000024240DEC040>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\R\AppData\Local\Programs\Python\Python310\lib\asyncio\base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000002423F5EF880>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>

  File "C:\Users\R\AppData\Local\Programs\Python\Python310\lib\asyncio\events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>

> File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\uvicorn\protocols\http\h11_impl.py", line 407, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x00000242415DEA10>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x0000024244E7C670>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x0000024244E7C...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x0000024241644400>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x00000242415DEA10>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x0000024244E7C670>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x0000024244E7C...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x0000024244E7C670>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x0000024244E7C...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x0000024243A3BF40>
          └ <fastapi.applications.FastAPI object at 0x0000024241644400>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\starlette\middleware\errors.py", line 184, in __call__
    raise exc

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\starlette\middleware\errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000024244E565F0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x0000024244E7C...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x0000024243A3BE50>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x0000024243A3BF40>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\starlette\middleware\cors.py", line 84, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000024244E565F0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x0000024244E7C...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x0000024243A3BE20>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x0000024243A3BE50>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\starlette\middleware\exceptions.py", line 79, in __call__
    raise exc

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\starlette\middleware\exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x0000024244E56A70>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x0000024244E7C...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x0000024243A3BDC0>
          └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x0000024243A3BE20>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x0000024244E56A70>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x0000024244E7C...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x00000242439E0400>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x0000024243A3BDC0>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\starlette\routing.py", line 706, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x0000024244E56A70>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x0000024244E7C...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │     └ <function Route.handle at 0x0000024242A51510>
          └ APIRoute(path='/api/v1/users/', name='read_users', methods=['GET'])

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\starlette\routing.py", line 276, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x0000024244E56A70>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x0000024244E7C...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function request_response.<locals>.app at 0x0000024243A98160>
          └ APIRoute(path='/api/v1/users/', name='read_users', methods=['GET'])

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\starlette\routing.py", line 66, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x0000024244BA1C00>
                     └ <function get_request_handler.<locals>.app at 0x0000024243A980D0>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\fastapi\routing.py", line 225, in app
    solved_result = await solve_dependencies(
                          └ <function solve_dependencies at 0x0000024242A2B9A0>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\fastapi\dependencies\utils.py", line 535, in solve_dependencies
    solved = await run_in_threadpool(call, **sub_values)
                   │                 │       └ {'sort_': '["id", "ASC"]', 'range_': '[0, 10]', 'filter_': '["role", "admin"]'}
                   │                 └ <function parse_react_admin_params.<locals>.inner at 0x00000242438C44C0>
                   └ <function run_in_threadpool at 0x000002424180D900>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\starlette\concurrency.py", line 41, in run_in_threadpool
    return await anyio.to_thread.run_sync(func, *args)
                 │     │         │        │      └ ()
                 │     │         │        └ functools.partial(<function parse_react_admin_params.<locals>.inner at 0x00000242438C44C0>, sort_='["id", "ASC"]', range_='[0...
                 │     │         └ <function run_sync at 0x000002424180F5B0>
                 │     └ <module 'anyio.to_thread' from 'C:\\Users\\R\\PycharmProjects\\fastapi-react-crm-backend\\venv\\lib\\site-packages\\anyio\\to...
                 └ <module 'anyio' from 'C:\\Users\\R\\PycharmProjects\\fastapi-react-crm-backend\\venv\\lib\\site-packages\\anyio\\__init__.py'>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\anyio\to_thread.py", line 31, in run_sync
    return await get_asynclib().run_sync_in_worker_thread(
                 └ <function get_asynclib at 0x000002424180F010>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\anyio\_backends\_asyncio.py", line 937, in run_sync_in_worker_thread
    return await future
                 └ <Future finished exception=AttributeError("'list' object has no attribute 'items'")>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\anyio\_backends\_asyncio.py", line 867, in run
    result = context.run(func, *args)
             │       │   │      └ ()
             │       │   └ functools.partial(<function parse_react_admin_params.<locals>.inner at 0x00000242438C44C0>, sort_='["id", "ASC"]', range_='[0...
             │       └ <method 'run' of '_contextvars.Context' objects>
             └ <_contextvars.Context object at 0x00000242438D1140>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\.\backend\app\api\deps.py", line 185, in inner
    filter_dict: dict = dict(filter(lambda it: str(it[0]).isdigit() is False, ft.items()))
                                                                              └ ['role', 'admin']

AttributeError: 'list' object has no attribute 'items'
ERROR    2022-12-14 20:36:46.454 request id: app - uvicorn.protocols.http.h11_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\R\AppData\Local\Programs\Python\Python310\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 328
               │     └ 3
               └ <function _main at 0x000002423F296320>

  File "C:\Users\R\AppData\Local\Programs\Python\Python310\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 328
           │    └ <function BaseProcess._bootstrap at 0x000002423F1F4160>
           └ <SpawnProcess name='SpawnProcess-1' parent=20772 started>

  File "C:\Users\R\AppData\Local\Programs\Python\Python310\lib\multiprocessing\process.py", line 314, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x000002423F1E7760>
    └ <SpawnProcess name='SpawnProcess-1' parent=20772 started>

  File "C:\Users\R\AppData\Local\Programs\Python\Python310\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000002423F152D70>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-1' parent=20772 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-1' parent=20772 started>
    │    └ <function subprocess_started at 0x00000242415E4310>
    └ <SpawnProcess name='SpawnProcess-1' parent=20772 started>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\uvicorn\_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=716, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000002423F153460>>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\uvicorn\server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=716, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 8000)>]
           │       │   │    └ <function Server.serve at 0x00000242415C0EE0>
           │       │   └ <uvicorn.server.Server object at 0x000002423F153460>
           │       └ <function run at 0x0000024240DE8B80>
           └ <module 'asyncio' from 'C:\\Users\\R\\AppData\\Local\\Programs\\Python\\Python310\\lib\\asyncio\\__init__.py'>

  File "C:\Users\R\AppData\Local\Programs\Python\Python310\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x00000242415E09E0>
           │    └ <function BaseEventLoop.run_until_complete at 0x0000024240DEA560>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\R\AppData\Local\Programs\Python\Python310\lib\asyncio\base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x0000024240DEA4D0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\R\AppData\Local\Programs\Python\Python310\lib\asyncio\base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x0000024240DEC040>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\R\AppData\Local\Programs\Python\Python310\lib\asyncio\base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000002423F5EF880>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>

  File "C:\Users\R\AppData\Local\Programs\Python\Python310\lib\asyncio\events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>

> File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\uvicorn\protocols\http\h11_impl.py", line 407, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x00000242415DEA10>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x0000024244E7C670>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x0000024244E7C...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x0000024241644400>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x00000242415DEA10>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x0000024244E7C670>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x0000024244E7C...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x0000024244E7C670>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x0000024244E7C...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x0000024243A3BF40>
          └ <fastapi.applications.FastAPI object at 0x0000024241644400>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\starlette\middleware\errors.py", line 184, in __call__
    raise exc

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\starlette\middleware\errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000024244E565F0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x0000024244E7C...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x0000024243A3BE50>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x0000024243A3BF40>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\starlette\middleware\cors.py", line 84, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000024244E565F0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x0000024244E7C...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x0000024243A3BE20>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x0000024243A3BE50>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\starlette\middleware\exceptions.py", line 79, in __call__
    raise exc

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\starlette\middleware\exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x0000024244E56A70>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x0000024244E7C...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x0000024243A3BDC0>
          └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x0000024243A3BE20>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x0000024244E56A70>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x0000024244E7C...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x00000242439E0400>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x0000024243A3BDC0>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\starlette\routing.py", line 706, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x0000024244E56A70>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x0000024244E7C...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │     └ <function Route.handle at 0x0000024242A51510>
          └ APIRoute(path='/api/v1/users/', name='read_users', methods=['GET'])

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\starlette\routing.py", line 276, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x0000024244E56A70>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x0000024244E7C...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function request_response.<locals>.app at 0x0000024243A98160>
          └ APIRoute(path='/api/v1/users/', name='read_users', methods=['GET'])

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\starlette\routing.py", line 66, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x0000024244BA1C00>
                     └ <function get_request_handler.<locals>.app at 0x0000024243A980D0>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\fastapi\routing.py", line 225, in app
    solved_result = await solve_dependencies(
                          └ <function solve_dependencies at 0x0000024242A2B9A0>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\fastapi\dependencies\utils.py", line 535, in solve_dependencies
    solved = await run_in_threadpool(call, **sub_values)
                   │                 │       └ {'sort_': '["id", "ASC"]', 'range_': '[0, 10]', 'filter_': '["role", "admin"]'}
                   │                 └ <function parse_react_admin_params.<locals>.inner at 0x00000242438C44C0>
                   └ <function run_in_threadpool at 0x000002424180D900>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\starlette\concurrency.py", line 41, in run_in_threadpool
    return await anyio.to_thread.run_sync(func, *args)
                 │     │         │        │      └ ()
                 │     │         │        └ functools.partial(<function parse_react_admin_params.<locals>.inner at 0x00000242438C44C0>, sort_='["id", "ASC"]', range_='[0...
                 │     │         └ <function run_sync at 0x000002424180F5B0>
                 │     └ <module 'anyio.to_thread' from 'C:\\Users\\R\\PycharmProjects\\fastapi-react-crm-backend\\venv\\lib\\site-packages\\anyio\\to...
                 └ <module 'anyio' from 'C:\\Users\\R\\PycharmProjects\\fastapi-react-crm-backend\\venv\\lib\\site-packages\\anyio\\__init__.py'>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\anyio\to_thread.py", line 31, in run_sync
    return await get_asynclib().run_sync_in_worker_thread(
                 └ <function get_asynclib at 0x000002424180F010>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\anyio\_backends\_asyncio.py", line 937, in run_sync_in_worker_thread
    return await future
                 └ <Future finished exception=AttributeError("'list' object has no attribute 'items'")>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\anyio\_backends\_asyncio.py", line 867, in run
    result = context.run(func, *args)
             │       │   │      └ ()
             │       │   └ functools.partial(<function parse_react_admin_params.<locals>.inner at 0x00000242438C44C0>, sort_='["id", "ASC"]', range_='[0...
             │       └ <method 'run' of '_contextvars.Context' objects>
             └ <_contextvars.Context object at 0x00000242438D1140>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\.\backend\app\api\deps.py", line 185, in inner
    filter_dict: dict = dict(filter(lambda it: str(it[0]).isdigit() is False, ft.items()))
                                                                              └ ['role', 'admin']

AttributeError: 'list' object has no attribute 'items'
INFO     2022-12-14 20:37:29.320 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-12-14 20:37:29.320 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-12-14 20:37:29.431 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-12-14 20:37:29.431 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-12-14 20:37:29.432 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-12-14 20:37:29.433 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-12-14 20:37:29.433 request id: app - uvicorn.server:serve - Finished server process [344]
INFO     2022-12-14 20:37:29.433 request id: app - uvicorn.server:serve - Finished server process [344]
INFO     2022-12-14 20:37:33.201 request id: app - uvicorn.server:serve - Started server process [19764]
INFO     2022-12-14 20:37:33.202 request id: app - uvicorn.server:serve - Started server process [19764]
INFO     2022-12-14 20:37:33.203 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-12-14 20:37:33.204 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-12-14 20:37:33.205 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-12-14 20:37:33.206 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-12-14 20:37:33.662 request id: app - backend.app.api.deps:get_current_user_async - START
INFO     2022-12-14 20:37:33.666 request id: app - backend.app.api.deps:get_session_user - get_session_user: postgres
INFO     2022-12-14 20:37:33.666 request id: app - backend.app.api.deps:reset_session_user - RESET_session_user
INFO     2022-12-14 20:37:33.671 request id: app - backend.app.api.deps:get_session_user - get_session_user: postgres
INFO     2022-12-14 20:37:33.675 request id: app - backend.app.api.deps:check_rolname - check_rolname: ka52 role exist
INFO     2022-12-14 20:37:33.676 request id: app - backend.app.api.deps:reset_session_user - RESET_session_user
INFO     2022-12-14 20:37:33.680 request id: app - backend.app.api.deps:get_session_user - get_session_user: postgres
INFO     2022-12-14 20:37:33.680 request id: app - backend.app.api.deps:set_session_user - SET_session_user: ka52
INFO     2022-12-14 20:37:33.685 request id: app - backend.app.api.deps:get_session_user - get_session_user: ka52
INFO     2022-12-14 20:37:33.686 request id: app - backend.app.api.deps:get_current_user_async - END
INFO     2022-12-14 20:37:42.990 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-12-14 20:37:42.991 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-12-14 20:37:43.102 request id: app - uvicorn.server:shutdown - Waiting for connections to close. (CTRL+C to force quit)
INFO     2022-12-14 20:37:43.103 request id: app - uvicorn.server:shutdown - Waiting for connections to close. (CTRL+C to force quit)
INFO     2022-12-14 20:37:46.707 request id: app - uvicorn.server:serve - Started server process [4400]
INFO     2022-12-14 20:37:46.708 request id: app - uvicorn.server:serve - Started server process [4400]
INFO     2022-12-14 20:37:46.708 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-12-14 20:37:46.709 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-12-14 20:37:46.709 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-12-14 20:37:46.710 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-12-14 20:37:46.983 request id: app - backend.app.api.deps:get_current_user_async - START
INFO     2022-12-14 20:37:46.987 request id: app - backend.app.api.deps:get_session_user - get_session_user: postgres
INFO     2022-12-14 20:37:46.987 request id: app - backend.app.api.deps:reset_session_user - RESET_session_user
INFO     2022-12-14 20:37:46.991 request id: app - backend.app.api.deps:get_session_user - get_session_user: postgres
INFO     2022-12-14 20:37:46.995 request id: app - backend.app.api.deps:check_rolname - check_rolname: ka52 role exist
INFO     2022-12-14 20:37:46.995 request id: app - backend.app.api.deps:reset_session_user - RESET_session_user
INFO     2022-12-14 20:37:47.000 request id: app - backend.app.api.deps:get_session_user - get_session_user: postgres
INFO     2022-12-14 20:37:47.000 request id: app - backend.app.api.deps:set_session_user - SET_session_user: ka52
INFO     2022-12-14 20:37:47.004 request id: app - backend.app.api.deps:get_session_user - get_session_user: ka52
INFO     2022-12-14 20:37:47.005 request id: app - backend.app.api.deps:get_current_user_async - END
INFO     2022-12-14 20:37:55.189 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-12-14 20:37:55.190 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-12-14 20:37:55.297 request id: app - uvicorn.server:shutdown - Waiting for connections to close. (CTRL+C to force quit)
INFO     2022-12-14 20:37:55.298 request id: app - uvicorn.server:shutdown - Waiting for connections to close. (CTRL+C to force quit)
INFO     2022-12-14 20:38:13.209 request id: app - uvicorn.server:serve - Started server process [22716]
INFO     2022-12-14 20:38:13.209 request id: app - uvicorn.server:serve - Started server process [22716]
INFO     2022-12-14 20:38:13.209 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-12-14 20:38:13.210 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-12-14 20:38:13.211 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-12-14 20:38:13.211 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-12-14 20:38:14.221 request id: app - backend.app.api.deps:get_current_user_async - START
INFO     2022-12-14 20:38:14.224 request id: app - backend.app.api.deps:get_session_user - get_session_user: postgres
INFO     2022-12-14 20:38:14.224 request id: app - backend.app.api.deps:reset_session_user - RESET_session_user
INFO     2022-12-14 20:38:14.227 request id: app - backend.app.api.deps:get_session_user - get_session_user: postgres
INFO     2022-12-14 20:38:14.230 request id: app - backend.app.api.deps:check_rolname - check_rolname: ka52 role exist
INFO     2022-12-14 20:38:14.230 request id: app - backend.app.api.deps:reset_session_user - RESET_session_user
INFO     2022-12-14 20:38:14.232 request id: app - backend.app.api.deps:get_session_user - get_session_user: postgres
INFO     2022-12-14 20:38:14.233 request id: app - backend.app.api.deps:set_session_user - SET_session_user: ka52
INFO     2022-12-14 20:38:14.235 request id: app - backend.app.api.deps:get_session_user - get_session_user: ka52
INFO     2022-12-14 20:38:14.236 request id: app - backend.app.api.deps:get_current_user_async - END
INFO     2022-12-14 20:38:14.282 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:50115 - "GET /api/v1/users/?sort=%5B%22id%22%2C%20%22ASC%22%5D&range=%5B0%2C%2010%5D&filter=%7B%22role%22%3A%20%22admin%22%7D HTTP/1.1" 200
INFO     2022-12-14 20:38:22.094 request id: app - backend.app.api.deps:get_current_user_async - START
INFO     2022-12-14 20:38:22.095 request id: app - backend.app.api.deps:get_session_user - get_session_user: postgres
INFO     2022-12-14 20:38:22.096 request id: app - backend.app.api.deps:reset_session_user - RESET_session_user
INFO     2022-12-14 20:38:22.099 request id: app - backend.app.api.deps:get_session_user - get_session_user: postgres
INFO     2022-12-14 20:38:22.100 request id: app - backend.app.api.deps:check_rolname - check_rolname: ka52 role exist
INFO     2022-12-14 20:38:22.101 request id: app - backend.app.api.deps:reset_session_user - RESET_session_user
INFO     2022-12-14 20:38:22.103 request id: app - backend.app.api.deps:get_session_user - get_session_user: postgres
INFO     2022-12-14 20:38:22.103 request id: app - backend.app.api.deps:set_session_user - SET_session_user: ka52
INFO     2022-12-14 20:38:22.105 request id: app - backend.app.api.deps:get_session_user - get_session_user: ka52
INFO     2022-12-14 20:38:22.106 request id: app - backend.app.api.deps:get_current_user_async - END
INFO     2022-12-14 20:38:22.111 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:50118 - "GET /api/v1/users/?sort=%5B%22id%22%2C%20%22ASC%22%5D&range=%5B0%2C%2010%5D&filter=%7B%22role%22%3A%20%22teacher%22%7D HTTP/1.1" 200
INFO     2022-12-14 20:38:32.984 request id: app - backend.app.api.deps:get_current_user_async - START
INFO     2022-12-14 20:38:32.986 request id: app - backend.app.api.deps:get_session_user - get_session_user: postgres
INFO     2022-12-14 20:38:32.986 request id: app - backend.app.api.deps:reset_session_user - RESET_session_user
INFO     2022-12-14 20:38:32.989 request id: app - backend.app.api.deps:get_session_user - get_session_user: postgres
INFO     2022-12-14 20:38:32.991 request id: app - backend.app.api.deps:check_rolname - check_rolname: ka52 role exist
INFO     2022-12-14 20:38:32.991 request id: app - backend.app.api.deps:reset_session_user - RESET_session_user
INFO     2022-12-14 20:38:32.993 request id: app - backend.app.api.deps:get_session_user - get_session_user: postgres
INFO     2022-12-14 20:38:32.993 request id: app - backend.app.api.deps:set_session_user - SET_session_user: ka52
INFO     2022-12-14 20:38:32.995 request id: app - backend.app.api.deps:get_session_user - get_session_user: ka52
INFO     2022-12-14 20:38:32.996 request id: app - backend.app.api.deps:get_current_user_async - END
INFO     2022-12-14 20:38:33.000 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:50122 - "GET /api/v1/users/?sort=%5B%22id%22%2C%20%22ASC%22%5D&range=%5B0%2C%202%5D&filter=%7B%22role%22%3A%20%22teacher%22%7D HTTP/1.1" 200
INFO     2022-12-14 20:38:40.245 request id: app - backend.app.api.deps:get_current_user_async - START
INFO     2022-12-14 20:38:40.248 request id: app - backend.app.api.deps:get_session_user - get_session_user: postgres
INFO     2022-12-14 20:38:40.248 request id: app - backend.app.api.deps:reset_session_user - RESET_session_user
INFO     2022-12-14 20:38:40.250 request id: app - backend.app.api.deps:get_session_user - get_session_user: postgres
INFO     2022-12-14 20:38:40.252 request id: app - backend.app.api.deps:check_rolname - check_rolname: ka52 role exist
INFO     2022-12-14 20:38:40.252 request id: app - backend.app.api.deps:reset_session_user - RESET_session_user
INFO     2022-12-14 20:38:40.254 request id: app - backend.app.api.deps:get_session_user - get_session_user: postgres
INFO     2022-12-14 20:38:40.255 request id: app - backend.app.api.deps:set_session_user - SET_session_user: ka52
INFO     2022-12-14 20:38:40.257 request id: app - backend.app.api.deps:get_session_user - get_session_user: ka52
INFO     2022-12-14 20:38:40.257 request id: app - backend.app.api.deps:get_current_user_async - END
INFO     2022-12-14 20:38:40.262 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:50125 - "GET /api/v1/users/?sort=%5B%22id%22%2C%20%22ASC%22%5D&range=%5B0%2C%201%5D&filter=%7B%22role%22%3A%20%22teacher%22%7D HTTP/1.1" 200
INFO     2022-12-14 20:38:46.962 request id: app - backend.app.api.deps:get_current_user_async - START
INFO     2022-12-14 20:38:46.964 request id: app - backend.app.api.deps:get_session_user - get_session_user: postgres
INFO     2022-12-14 20:38:46.964 request id: app - backend.app.api.deps:reset_session_user - RESET_session_user
INFO     2022-12-14 20:38:46.967 request id: app - backend.app.api.deps:get_session_user - get_session_user: postgres
INFO     2022-12-14 20:38:46.968 request id: app - backend.app.api.deps:check_rolname - check_rolname: ka52 role exist
INFO     2022-12-14 20:38:46.968 request id: app - backend.app.api.deps:reset_session_user - RESET_session_user
INFO     2022-12-14 20:38:46.970 request id: app - backend.app.api.deps:get_session_user - get_session_user: postgres
INFO     2022-12-14 20:38:46.971 request id: app - backend.app.api.deps:set_session_user - SET_session_user: ka52
INFO     2022-12-14 20:38:46.973 request id: app - backend.app.api.deps:get_session_user - get_session_user: ka52
INFO     2022-12-14 20:38:46.973 request id: app - backend.app.api.deps:get_current_user_async - END
INFO     2022-12-14 20:38:46.977 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:50127 - "GET /api/v1/users/?sort=%5B%22id%22%2C%20%22ASC%22%5D&range=%5B1%2C%202%5D&filter=%7B%22role%22%3A%20%22teacher%22%7D HTTP/1.1" 200
INFO     2022-12-14 20:38:55.065 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-12-14 20:38:55.065 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-12-14 20:38:55.175 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-12-14 20:38:55.176 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-12-14 20:38:55.176 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-12-14 20:38:55.176 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-12-14 20:38:55.177 request id: app - uvicorn.server:serve - Finished server process [22716]
INFO     2022-12-14 20:38:55.177 request id: app - uvicorn.server:serve - Finished server process [22716]
INFO     2022-12-14 21:02:11.484 request id: app - uvicorn.server:serve - Started server process [26652]
INFO     2022-12-14 21:02:11.484 request id: app - uvicorn.server:serve - Started server process [26652]
INFO     2022-12-14 21:02:11.484 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-12-14 21:02:11.485 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-12-14 21:02:11.486 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-12-14 21:02:11.486 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-12-14 21:02:17.234 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-12-14 21:02:17.234 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-12-14 21:02:17.345 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-12-14 21:02:17.345 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-12-14 21:02:17.346 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-12-14 21:02:17.347 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-12-14 21:02:17.347 request id: app - uvicorn.server:serve - Finished server process [26652]
INFO     2022-12-14 21:02:17.348 request id: app - uvicorn.server:serve - Finished server process [26652]
INFO     2022-12-14 21:05:06.617 request id: app - uvicorn.server:serve - Started server process [27144]
INFO     2022-12-14 21:05:06.617 request id: app - uvicorn.server:serve - Started server process [27144]
INFO     2022-12-14 21:05:06.618 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-12-14 21:05:06.618 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-12-14 21:05:06.618 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-12-14 21:05:06.619 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-12-14 21:05:11.378 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-12-14 21:05:11.378 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-12-14 21:05:11.488 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-12-14 21:05:11.488 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-12-14 21:05:11.489 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-12-14 21:05:11.489 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-12-14 21:05:11.489 request id: app - uvicorn.server:serve - Finished server process [27144]
INFO     2022-12-14 21:05:11.490 request id: app - uvicorn.server:serve - Finished server process [27144]
INFO     2022-12-14 21:31:22.402 request id: app - uvicorn.server:serve - Started server process [14852]
INFO     2022-12-14 21:31:22.402 request id: app - uvicorn.server:serve - Started server process [14852]
INFO     2022-12-14 21:31:22.403 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-12-14 21:31:22.403 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-12-14 21:31:22.404 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-12-14 21:31:22.405 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-12-14 21:31:22.409 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:51689 - "GET /favicon.ico HTTP/1.1" 404
INFO     2022-12-14 21:31:22.523 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:51689 - "GET /docs HTTP/1.1" 200
INFO     2022-12-14 21:31:23.260 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:51689 - "GET /api/v1/openapi.json HTTP/1.1" 200
INFO     2022-12-14 21:31:25.718 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:51689 - "POST /api/v1/login/access-token HTTP/1.1" 200
INFO     2022-12-14 21:31:38.380 request id: app - backend.app.api.deps:get_current_user_async - START
INFO     2022-12-14 21:31:38.383 request id: app - backend.app.api.deps:get_session_user - get_session_user: postgres
INFO     2022-12-14 21:31:38.383 request id: app - backend.app.api.deps:reset_session_user - RESET_session_user
INFO     2022-12-14 21:31:38.387 request id: app - backend.app.api.deps:get_session_user - get_session_user: postgres
INFO     2022-12-14 21:31:38.389 request id: app - backend.app.api.deps:check_rolname - check_rolname: ka52 role exist
INFO     2022-12-14 21:31:38.390 request id: app - backend.app.api.deps:reset_session_user - RESET_session_user
INFO     2022-12-14 21:31:38.393 request id: app - backend.app.api.deps:get_session_user - get_session_user: postgres
INFO     2022-12-14 21:31:38.393 request id: app - backend.app.api.deps:set_session_user - SET_session_user: ka52
INFO     2022-12-14 21:31:38.396 request id: app - backend.app.api.deps:get_session_user - get_session_user: ka52
INFO     2022-12-14 21:31:38.397 request id: app - backend.app.api.deps:get_current_user_async - END
INFO     2022-12-14 21:31:38.435 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:51688 - "GET /api/v1/users/?sort=%5B%22id%22%2C%20%22ASC%22%5D&range=%5B0%2C%20500%5D HTTP/1.1" 200
INFO     2022-12-14 21:31:56.897 request id: app - backend.app.api.deps:get_current_user_async - START
INFO     2022-12-14 21:31:56.900 request id: app - backend.app.api.deps:get_session_user - get_session_user: postgres
INFO     2022-12-14 21:31:56.901 request id: app - backend.app.api.deps:reset_session_user - RESET_session_user
INFO     2022-12-14 21:31:56.905 request id: app - backend.app.api.deps:get_session_user - get_session_user: postgres
INFO     2022-12-14 21:31:56.908 request id: app - backend.app.api.deps:check_rolname - check_rolname: ka52 role exist
INFO     2022-12-14 21:31:56.908 request id: app - backend.app.api.deps:reset_session_user - RESET_session_user
INFO     2022-12-14 21:31:56.911 request id: app - backend.app.api.deps:get_session_user - get_session_user: postgres
INFO     2022-12-14 21:31:56.912 request id: app - backend.app.api.deps:set_session_user - SET_session_user: ka52
INFO     2022-12-14 21:31:56.914 request id: app - backend.app.api.deps:get_session_user - get_session_user: ka52
INFO     2022-12-14 21:31:56.915 request id: app - backend.app.api.deps:get_current_user_async - END
INFO     2022-12-14 21:31:56.930 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:51687 - "GET /api/v1/users/?sort=%5B%22id%22%2C%20%22ASC%22%5D&range=%5B0%2C%20100%5D HTTP/1.1" 200
INFO     2022-12-14 21:32:10.975 request id: app - backend.app.api.deps:get_current_user_async - START
INFO     2022-12-14 21:32:10.976 request id: app - backend.app.api.deps:get_session_user - get_session_user: postgres
INFO     2022-12-14 21:32:10.977 request id: app - backend.app.api.deps:reset_session_user - RESET_session_user
INFO     2022-12-14 21:32:10.979 request id: app - backend.app.api.deps:get_session_user - get_session_user: postgres
INFO     2022-12-14 21:32:10.980 request id: app - backend.app.api.deps:check_rolname - check_rolname: ka52 role exist
INFO     2022-12-14 21:32:10.981 request id: app - backend.app.api.deps:reset_session_user - RESET_session_user
INFO     2022-12-14 21:32:10.983 request id: app - backend.app.api.deps:get_session_user - get_session_user: postgres
INFO     2022-12-14 21:32:10.983 request id: app - backend.app.api.deps:set_session_user - SET_session_user: ka52
INFO     2022-12-14 21:32:10.985 request id: app - backend.app.api.deps:get_session_user - get_session_user: ka52
INFO     2022-12-14 21:32:10.985 request id: app - backend.app.api.deps:get_current_user_async - END
INFO     2022-12-14 21:32:11.820 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:51698 - "GET /api/v1/tasks/?sort=%5B%22id%22%2C%20%22ASC%22%5D&range=%5B0%2C%2010%5D HTTP/1.1" 200
INFO     2022-12-14 21:32:40.645 request id: app - backend.app.api.deps:get_current_user_async - START
INFO     2022-12-14 21:32:40.647 request id: app - backend.app.api.deps:get_session_user - get_session_user: postgres
INFO     2022-12-14 21:32:40.647 request id: app - backend.app.api.deps:reset_session_user - RESET_session_user
INFO     2022-12-14 21:32:40.650 request id: app - backend.app.api.deps:get_session_user - get_session_user: postgres
INFO     2022-12-14 21:32:40.652 request id: app - backend.app.api.deps:check_rolname - check_rolname: ka52 role exist
INFO     2022-12-14 21:32:40.652 request id: app - backend.app.api.deps:reset_session_user - RESET_session_user
INFO     2022-12-14 21:32:40.654 request id: app - backend.app.api.deps:get_session_user - get_session_user: postgres
INFO     2022-12-14 21:32:40.654 request id: app - backend.app.api.deps:set_session_user - SET_session_user: ka52
INFO     2022-12-14 21:32:40.656 request id: app - backend.app.api.deps:get_session_user - get_session_user: ka52
INFO     2022-12-14 21:32:40.656 request id: app - backend.app.api.deps:get_current_user_async - END
INFO     2022-12-14 21:32:40.760 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:51704 - "GET /api/v1/tasks/?sort=%5B%22id%22%2C%20%22ASC%22%5D&range=%5B0%2C%2010%5D&filter=%7B%22status%22%3A%20%22completed%22%7D HTTP/1.1" 500
ERROR    2022-12-14 21:32:40.762 request id: app - uvicorn.protocols.http.h11_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 418, in _prepare_and_execute
    prepared_stmt, attributes = await adapt_connection._prepare(
                                      │                └ <function AsyncAdapt_asyncpg_connection._prepare at 0x0000022579AE3640>
                                      └ <AdaptedConnection <asyncpg.connection.Connection object at 0x000002257A285540>>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 660, in _prepare
    prepared_stmt = await self._connection.prepare(operation)
                          │    │                   └ 'SELECT count(task.id) AS count_1 \nFROM task \nWHERE task.status ILIKE $1'
                          │    └ <member '_connection' of 'AsyncAdapt_asyncpg_connection' objects>
                          └ <AdaptedConnection <asyncpg.connection.Connection object at 0x000002257A285540>>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\asyncpg\connection.py", line 565, in prepare
    return await self._prepare(
                 │    └ <function Connection._prepare at 0x0000022579D104C0>
                 └ <asyncpg.connection.Connection object at 0x000002257A285540>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\asyncpg\connection.py", line 583, in _prepare
    stmt = await self._get_statement(
                 │    └ <function Connection._get_statement at 0x0000022579D101F0>
                 └ <asyncpg.connection.Connection object at 0x000002257A285540>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\asyncpg\connection.py", line 397, in _get_statement
    statement = await self._protocol.prepare(
                      │    └ <member '_protocol' of 'Connection' objects>
                      └ <asyncpg.connection.Connection object at 0x000002257A285540>

  File "asyncpg\protocol\protocol.pyx", line 168, in prepare

asyncpg.exceptions.UndefinedFunctionError: operator does not exist: task_status ~~* unknown
HINT:  No operator matches the given name and argument types. You might need to add explicit type casts.


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\sqlalchemy\engine\base.py", line 1900, in _execute_context
    self.dialect.do_execute(
    │    │       └ <function DefaultDialect.do_execute at 0x0000022579736290>
    │    └ <sqlalchemy.dialects.postgresql.asyncpg.PGDialect_asyncpg object at 0x0000022579FAFF70>
    └ <sqlalchemy.future.engine.Connection object at 0x000002257B399300>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\sqlalchemy\engine\default.py", line 736, in do_execute
    cursor.execute(statement, parameters)
    │      │       │          └ ('completed%',)
    │      │       └ 'SELECT count(task.id) AS count_1 \nFROM task \nWHERE task.status ILIKE %s'
    │      └ <function AsyncAdapt_asyncpg_cursor.execute at 0x0000022579AE2B90>
    └ <sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_cursor object at 0x000002257A344AC0>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 479, in execute
    self._adapt_connection.await_(
    │    └ <member '_adapt_connection' of 'AsyncAdapt_asyncpg_cursor' objects>
    └ <sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_cursor object at 0x000002257A344AC0>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 68, in await_only
    return current.driver.switch(awaitable)
           │                     └ <coroutine object AsyncAdapt_asyncpg_cursor._prepare_and_execute at 0x000002257A344900>
           └ <_AsyncIoGreenlet object at 0x000002257A3BEB80 (otid=0x0000022579295050) dead>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 121, in greenlet_spawn
    value = await result
                  └ <coroutine object AsyncAdapt_asyncpg_cursor._prepare_and_execute at 0x000002257A344900>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 454, in _prepare_and_execute
    self._handle_exception(error)
    │    └ <function AsyncAdapt_asyncpg_cursor._handle_exception at 0x0000022579AE2950>
    └ <sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_cursor object at 0x000002257A344AC0>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 389, in _handle_exception
    self._adapt_connection._handle_exception(error)
    │    │                                   └ UndefinedFunctionError('operator does not exist: task_status ~~* unknown')
    │    └ <member '_adapt_connection' of 'AsyncAdapt_asyncpg_cursor' objects>
    └ <sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_cursor object at 0x000002257A344AC0>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 682, in _handle_exception
    raise translated_error from error
          │                     └ UndefinedFunctionError('operator does not exist: task_status ~~* unknown')
          └ ProgrammingError("<class 'asyncpg.exceptions.UndefinedFunctionError'>: operator does not exist: task_status ~~* unknown\nHINT...

sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.ProgrammingError: <class 'asyncpg.exceptions.UndefinedFunctionError'>: operator does not exist: task_status ~~* unknown
HINT:  No operator matches the given name and argument types. You might need to add explicit type casts.


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\R\AppData\Local\Programs\Python\Python310\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 316
               │     └ 3
               └ <function _main at 0x00000225759D6320>

  File "C:\Users\R\AppData\Local\Programs\Python\Python310\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 316
           │    └ <function BaseProcess._bootstrap at 0x0000022575934160>
           └ <SpawnProcess name='SpawnProcess-1' parent=9524 started>

  File "C:\Users\R\AppData\Local\Programs\Python\Python310\lib\multiprocessing\process.py", line 314, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x0000022575927760>
    └ <SpawnProcess name='SpawnProcess-1' parent=9524 started>

  File "C:\Users\R\AppData\Local\Programs\Python\Python310\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x0000022575892D70>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-1' parent=9524 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-1' parent=9524 started>
    │    └ <function subprocess_started at 0x0000022577D24310>
    └ <SpawnProcess name='SpawnProcess-1' parent=9524 started>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\uvicorn\_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=704, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x0000022575893460>>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\uvicorn\server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=704, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 8000)>]
           │       │   │    └ <function Server.serve at 0x0000022577D00EE0>
           │       │   └ <uvicorn.server.Server object at 0x0000022575893460>
           │       └ <function run at 0x0000022577528B80>
           └ <module 'asyncio' from 'C:\\Users\\R\\AppData\\Local\\Programs\\Python\\Python310\\lib\\asyncio\\__init__.py'>

  File "C:\Users\R\AppData\Local\Programs\Python\Python310\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x0000022577D209E0>
           │    └ <function BaseEventLoop.run_until_complete at 0x000002257752A560>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\R\AppData\Local\Programs\Python\Python310\lib\asyncio\base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000002257752A4D0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\R\AppData\Local\Programs\Python\Python310\lib\asyncio\base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000002257752C040>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\R\AppData\Local\Programs\Python\Python310\lib\asyncio\base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x0000022575D2F880>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>

  File "C:\Users\R\AppData\Local\Programs\Python\Python310\lib\asyncio\events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>

> File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\uvicorn\protocols\http\h11_impl.py", line 407, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x0000022577D1EA10>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x000002257A04E410>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x000002257A04E...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x0000022577D84400>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x0000022577D1EA10>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x000002257A04E410>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x000002257A04E...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x000002257A04E410>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x000002257A04E...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000002257A1A8220>
          └ <fastapi.applications.FastAPI object at 0x0000022577D84400>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\starlette\middleware\errors.py", line 184, in __call__
    raise exc

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\starlette\middleware\errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000002257A2E4310>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x000002257A04E...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000002257A1A8130>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000002257A1A8220>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\starlette\middleware\cors.py", line 84, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000002257A2E4310>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x000002257A04E...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000002257A1A8100>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000002257A1A8130>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\starlette\middleware\exceptions.py", line 79, in __call__
    raise exc

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\starlette\middleware\exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x000002257A3AFF40>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x000002257A04E...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x000002257A1A80A0>
          └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000002257A1A8100>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x000002257A3AFF40>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x000002257A04E...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x000002257A10C6A0>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x000002257A1A80A0>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\starlette\routing.py", line 706, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x000002257A3AFF40>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x000002257A04E...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │     └ <function Route.handle at 0x0000022579191510>
          └ APIRoute(path='/api/v1/tasks/', name='read_tasks', methods=['GET'])

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\starlette\routing.py", line 276, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x000002257A3AFF40>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x000002257A04E...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function request_response.<locals>.app at 0x000002257A197BE0>
          └ APIRoute(path='/api/v1/tasks/', name='read_tasks', methods=['GET'])

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\starlette\routing.py", line 66, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x000002257A226680>
                     └ <function get_request_handler.<locals>.app at 0x000002257A197B50>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\fastapi\routing.py", line 235, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x0000022579190160>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\fastapi\routing.py", line 161, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <sqlalchemy.orm.session.AsyncSession object at 0x000002257A2264A0>, 'current_user': <backend.app.db.models.User object...
                 │         └ <function read_tasks at 0x000002257A050820>
                 └ <fastapi.dependencies.models.Dependant object at 0x000002257A204E20>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\.\backend\app\api\api_v1\endpoints\tasks.py", line 26, in read_tasks
    items, total = await crud.task.get_multi(db, request_params=request_params)
                         │    │    │         │                  └ RequestParams(skip=0, limit=11, order_by=<sqlalchemy.sql.elements.UnaryExpression object at 0x000002257A04FDF0>, filter_by=<s...
                         │    │    │         └ <sqlalchemy.orm.session.AsyncSession object at 0x000002257A2264A0>
                         │    │    └ <function CRUDBase.get_multi at 0x0000022579B75FC0>
                         │    └ <backend.app.crud.task.CRUDTask object at 0x0000022579FE04F0>
                         └ <module 'backend.app.crud' from 'C:\\Users\\R\\PycharmProjects\\fastapi-react-crm-backend\\.\\backend\\app\\crud\\__init__.py'>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\.\backend\app\crud\base.py", line 46, in get_multi
    total: Result = await db.execute(query_count)
                          │  │       └ <sqlalchemy.sql.selectable.Select object at 0x000002257A04FD30>
                          │  └ <function AsyncSession.execute at 0x0000022579A25240>
                          └ <sqlalchemy.orm.session.AsyncSession object at 0x000002257A2264A0>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\sqlalchemy\ext\asyncio\session.py", line 214, in execute
    result = await greenlet_spawn(
                   └ <function greenlet_spawn at 0x00000225792DBAC0>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 126, in greenlet_spawn
    result = context.throw(*sys.exc_info())
             │       │      │   └ <built-in function exc_info>
             │       │      └ <module 'sys' (built-in)>
             │       └ <method 'throw' of 'greenlet.greenlet' objects>
             └ <_AsyncIoGreenlet object at 0x000002257A3BEB80 (otid=0x0000022579295050) dead>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\sqlalchemy\orm\session.py", line 1714, in execute
    result = conn._execute_20(statement, params or {}, execution_options)
             │    │           │          │             └ immutabledict({'prebuffer_rows': True, '_result_disable_adapt_to_context': True, 'future_result': True})
             │    │           │          └ None
             │    │           └ <sqlalchemy.sql.selectable.Select object at 0x000002257A04FD30>
             │    └ <function Connection._execute_20 at 0x0000022579688F70>
             └ <sqlalchemy.future.engine.Connection object at 0x000002257B399300>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\sqlalchemy\engine\base.py", line 1705, in _execute_20
    return meth(self, args_10style, kwargs_10style, execution_options)
           │    │     │             │               └ immutabledict({'prebuffer_rows': True, '_result_disable_adapt_to_context': True, 'future_result': True})
           │    │     │             └ immutabledict({})
           │    │     └ ({},)
           │    └ <sqlalchemy.future.engine.Connection object at 0x000002257B399300>
           └ <bound method ClauseElement._execute_on_connection of <sqlalchemy.sql.selectable.Select object at 0x000002257A04FD30>>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\sqlalchemy\sql\elements.py", line 334, in _execute_on_connection
    return connection._execute_clauseelement(
           │          └ <function Connection._execute_clauseelement at 0x0000022579688DC0>
           └ <sqlalchemy.future.engine.Connection object at 0x000002257B399300>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\sqlalchemy\engine\base.py", line 1572, in _execute_clauseelement
    ret = self._execute_context(
          │    └ <function Connection._execute_context at 0x0000022579689090>
          └ <sqlalchemy.future.engine.Connection object at 0x000002257B399300>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\sqlalchemy\engine\base.py", line 1943, in _execute_context
    self._handle_dbapi_exception(
    │    └ <function Connection._handle_dbapi_exception at 0x0000022579689240>
    └ <sqlalchemy.future.engine.Connection object at 0x000002257B399300>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\sqlalchemy\engine\base.py", line 2124, in _handle_dbapi_exception
    util.raise_(
    │    └ <function raise_ at 0x00000225792A0D30>
    └ <module 'sqlalchemy.util' from 'C:\\Users\\R\\PycharmProjects\\fastapi-react-crm-backend\\venv\\lib\\site-packages\\sqlalchem...

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\sqlalchemy\util\compat.py", line 211, in raise_
    raise exception

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\sqlalchemy\engine\base.py", line 1900, in _execute_context
    self.dialect.do_execute(
    │    │       └ <function DefaultDialect.do_execute at 0x0000022579736290>
    │    └ <sqlalchemy.dialects.postgresql.asyncpg.PGDialect_asyncpg object at 0x0000022579FAFF70>
    └ <sqlalchemy.future.engine.Connection object at 0x000002257B399300>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\sqlalchemy\engine\default.py", line 736, in do_execute
    cursor.execute(statement, parameters)
    │      │       │          └ ('completed%',)
    │      │       └ 'SELECT count(task.id) AS count_1 \nFROM task \nWHERE task.status ILIKE %s'
    │      └ <function AsyncAdapt_asyncpg_cursor.execute at 0x0000022579AE2B90>
    └ <sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_cursor object at 0x000002257A344AC0>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 479, in execute
    self._adapt_connection.await_(
    │    └ <member '_adapt_connection' of 'AsyncAdapt_asyncpg_cursor' objects>
    └ <sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_cursor object at 0x000002257A344AC0>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 68, in await_only
    return current.driver.switch(awaitable)
           │                     └ <coroutine object AsyncAdapt_asyncpg_cursor._prepare_and_execute at 0x000002257A344900>
           └ <_AsyncIoGreenlet object at 0x000002257A3BEB80 (otid=0x0000022579295050) dead>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 121, in greenlet_spawn
    value = await result
                  └ <coroutine object AsyncAdapt_asyncpg_cursor._prepare_and_execute at 0x000002257A344900>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 454, in _prepare_and_execute
    self._handle_exception(error)
    │    └ <function AsyncAdapt_asyncpg_cursor._handle_exception at 0x0000022579AE2950>
    └ <sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_cursor object at 0x000002257A344AC0>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 389, in _handle_exception
    self._adapt_connection._handle_exception(error)
    │    │                                   └ UndefinedFunctionError('operator does not exist: task_status ~~* unknown')
    │    └ <member '_adapt_connection' of 'AsyncAdapt_asyncpg_cursor' objects>
    └ <sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_cursor object at 0x000002257A344AC0>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 682, in _handle_exception
    raise translated_error from error
          │                     └ UndefinedFunctionError('operator does not exist: task_status ~~* unknown')
          └ ProgrammingError("<class 'asyncpg.exceptions.UndefinedFunctionError'>: operator does not exist: task_status ~~* unknown\nHINT...

sqlalchemy.exc.ProgrammingError: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedFunctionError'>: operator does not exist: task_status ~~* unknown
HINT:  No operator matches the given name and argument types. You might need to add explicit type casts.
[SQL: SELECT count(task.id) AS count_1 
FROM task 
WHERE task.status ILIKE %s]
[parameters: ('completed%',)]
(Background on this error at: https://sqlalche.me/e/14/f405)
ERROR    2022-12-14 21:32:40.848 request id: app - uvicorn.protocols.http.h11_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 418, in _prepare_and_execute
    prepared_stmt, attributes = await adapt_connection._prepare(
                                      │                └ <function AsyncAdapt_asyncpg_connection._prepare at 0x0000022579AE3640>
                                      └ <AdaptedConnection <asyncpg.connection.Connection object at 0x000002257A285540>>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 660, in _prepare
    prepared_stmt = await self._connection.prepare(operation)
                          │    │                   └ 'SELECT count(task.id) AS count_1 \nFROM task \nWHERE task.status ILIKE $1'
                          │    └ <member '_connection' of 'AsyncAdapt_asyncpg_connection' objects>
                          └ <AdaptedConnection <asyncpg.connection.Connection object at 0x000002257A285540>>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\asyncpg\connection.py", line 565, in prepare
    return await self._prepare(
                 │    └ <function Connection._prepare at 0x0000022579D104C0>
                 └ <asyncpg.connection.Connection object at 0x000002257A285540>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\asyncpg\connection.py", line 583, in _prepare
    stmt = await self._get_statement(
                 │    └ <function Connection._get_statement at 0x0000022579D101F0>
                 └ <asyncpg.connection.Connection object at 0x000002257A285540>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\asyncpg\connection.py", line 397, in _get_statement
    statement = await self._protocol.prepare(
                      │    └ <member '_protocol' of 'Connection' objects>
                      └ <asyncpg.connection.Connection object at 0x000002257A285540>

  File "asyncpg\protocol\protocol.pyx", line 168, in prepare

asyncpg.exceptions.UndefinedFunctionError: operator does not exist: task_status ~~* unknown
HINT:  No operator matches the given name and argument types. You might need to add explicit type casts.


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\sqlalchemy\engine\base.py", line 1900, in _execute_context
    self.dialect.do_execute(
    │    │       └ <function DefaultDialect.do_execute at 0x0000022579736290>
    │    └ <sqlalchemy.dialects.postgresql.asyncpg.PGDialect_asyncpg object at 0x0000022579FAFF70>
    └ <sqlalchemy.future.engine.Connection object at 0x000002257B399300>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\sqlalchemy\engine\default.py", line 736, in do_execute
    cursor.execute(statement, parameters)
    │      │       │          └ ('completed%',)
    │      │       └ 'SELECT count(task.id) AS count_1 \nFROM task \nWHERE task.status ILIKE %s'
    │      └ <function AsyncAdapt_asyncpg_cursor.execute at 0x0000022579AE2B90>
    └ <sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_cursor object at 0x000002257A344AC0>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 479, in execute
    self._adapt_connection.await_(
    │    └ <member '_adapt_connection' of 'AsyncAdapt_asyncpg_cursor' objects>
    └ <sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_cursor object at 0x000002257A344AC0>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 68, in await_only
    return current.driver.switch(awaitable)
           │                     └ <coroutine object AsyncAdapt_asyncpg_cursor._prepare_and_execute at 0x000002257A344900>
           └ <_AsyncIoGreenlet object at 0x000002257A3BEB80 (otid=0x0000022579295050) dead>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 121, in greenlet_spawn
    value = await result
                  └ <coroutine object AsyncAdapt_asyncpg_cursor._prepare_and_execute at 0x000002257A344900>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 454, in _prepare_and_execute
    self._handle_exception(error)
    │    └ <function AsyncAdapt_asyncpg_cursor._handle_exception at 0x0000022579AE2950>
    └ <sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_cursor object at 0x000002257A344AC0>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 389, in _handle_exception
    self._adapt_connection._handle_exception(error)
    │    │                                   └ UndefinedFunctionError('operator does not exist: task_status ~~* unknown')
    │    └ <member '_adapt_connection' of 'AsyncAdapt_asyncpg_cursor' objects>
    └ <sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_cursor object at 0x000002257A344AC0>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 682, in _handle_exception
    raise translated_error from error
          │                     └ UndefinedFunctionError('operator does not exist: task_status ~~* unknown')
          └ ProgrammingError("<class 'asyncpg.exceptions.UndefinedFunctionError'>: operator does not exist: task_status ~~* unknown\nHINT...

sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.ProgrammingError: <class 'asyncpg.exceptions.UndefinedFunctionError'>: operator does not exist: task_status ~~* unknown
HINT:  No operator matches the given name and argument types. You might need to add explicit type casts.


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\R\AppData\Local\Programs\Python\Python310\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 316
               │     └ 3
               └ <function _main at 0x00000225759D6320>

  File "C:\Users\R\AppData\Local\Programs\Python\Python310\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 316
           │    └ <function BaseProcess._bootstrap at 0x0000022575934160>
           └ <SpawnProcess name='SpawnProcess-1' parent=9524 started>

  File "C:\Users\R\AppData\Local\Programs\Python\Python310\lib\multiprocessing\process.py", line 314, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x0000022575927760>
    └ <SpawnProcess name='SpawnProcess-1' parent=9524 started>

  File "C:\Users\R\AppData\Local\Programs\Python\Python310\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x0000022575892D70>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-1' parent=9524 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-1' parent=9524 started>
    │    └ <function subprocess_started at 0x0000022577D24310>
    └ <SpawnProcess name='SpawnProcess-1' parent=9524 started>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\uvicorn\_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=704, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x0000022575893460>>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\uvicorn\server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=704, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 8000)>]
           │       │   │    └ <function Server.serve at 0x0000022577D00EE0>
           │       │   └ <uvicorn.server.Server object at 0x0000022575893460>
           │       └ <function run at 0x0000022577528B80>
           └ <module 'asyncio' from 'C:\\Users\\R\\AppData\\Local\\Programs\\Python\\Python310\\lib\\asyncio\\__init__.py'>

  File "C:\Users\R\AppData\Local\Programs\Python\Python310\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x0000022577D209E0>
           │    └ <function BaseEventLoop.run_until_complete at 0x000002257752A560>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\R\AppData\Local\Programs\Python\Python310\lib\asyncio\base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000002257752A4D0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\R\AppData\Local\Programs\Python\Python310\lib\asyncio\base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000002257752C040>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\R\AppData\Local\Programs\Python\Python310\lib\asyncio\base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x0000022575D2F880>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>

  File "C:\Users\R\AppData\Local\Programs\Python\Python310\lib\asyncio\events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>

> File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\uvicorn\protocols\http\h11_impl.py", line 407, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x0000022577D1EA10>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x000002257A04E410>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x000002257A04E...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x0000022577D84400>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x0000022577D1EA10>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x000002257A04E410>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x000002257A04E...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x000002257A04E410>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x000002257A04E...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000002257A1A8220>
          └ <fastapi.applications.FastAPI object at 0x0000022577D84400>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\starlette\middleware\errors.py", line 184, in __call__
    raise exc

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\starlette\middleware\errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000002257A2E4310>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x000002257A04E...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000002257A1A8130>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000002257A1A8220>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\starlette\middleware\cors.py", line 84, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000002257A2E4310>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x000002257A04E...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000002257A1A8100>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000002257A1A8130>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\starlette\middleware\exceptions.py", line 79, in __call__
    raise exc

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\starlette\middleware\exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x000002257A3AFF40>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x000002257A04E...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x000002257A1A80A0>
          └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000002257A1A8100>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x000002257A3AFF40>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x000002257A04E...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x000002257A10C6A0>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x000002257A1A80A0>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\starlette\routing.py", line 706, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x000002257A3AFF40>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x000002257A04E...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │     └ <function Route.handle at 0x0000022579191510>
          └ APIRoute(path='/api/v1/tasks/', name='read_tasks', methods=['GET'])

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\starlette\routing.py", line 276, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x000002257A3AFF40>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x000002257A04E...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function request_response.<locals>.app at 0x000002257A197BE0>
          └ APIRoute(path='/api/v1/tasks/', name='read_tasks', methods=['GET'])

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\starlette\routing.py", line 66, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x000002257A226680>
                     └ <function get_request_handler.<locals>.app at 0x000002257A197B50>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\fastapi\routing.py", line 235, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x0000022579190160>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\fastapi\routing.py", line 161, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <sqlalchemy.orm.session.AsyncSession object at 0x000002257A2264A0>, 'current_user': <backend.app.db.models.User object...
                 │         └ <function read_tasks at 0x000002257A050820>
                 └ <fastapi.dependencies.models.Dependant object at 0x000002257A204E20>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\.\backend\app\api\api_v1\endpoints\tasks.py", line 26, in read_tasks
    items, total = await crud.task.get_multi(db, request_params=request_params)
                         │    │    │         │                  └ RequestParams(skip=0, limit=11, order_by=<sqlalchemy.sql.elements.UnaryExpression object at 0x000002257A04FDF0>, filter_by=<s...
                         │    │    │         └ <sqlalchemy.orm.session.AsyncSession object at 0x000002257A2264A0>
                         │    │    └ <function CRUDBase.get_multi at 0x0000022579B75FC0>
                         │    └ <backend.app.crud.task.CRUDTask object at 0x0000022579FE04F0>
                         └ <module 'backend.app.crud' from 'C:\\Users\\R\\PycharmProjects\\fastapi-react-crm-backend\\.\\backend\\app\\crud\\__init__.py'>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\.\backend\app\crud\base.py", line 46, in get_multi
    total: Result = await db.execute(query_count)
                          │  │       └ <sqlalchemy.sql.selectable.Select object at 0x000002257A04FD30>
                          │  └ <function AsyncSession.execute at 0x0000022579A25240>
                          └ <sqlalchemy.orm.session.AsyncSession object at 0x000002257A2264A0>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\sqlalchemy\ext\asyncio\session.py", line 214, in execute
    result = await greenlet_spawn(
                   └ <function greenlet_spawn at 0x00000225792DBAC0>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 126, in greenlet_spawn
    result = context.throw(*sys.exc_info())
             │       │      │   └ <built-in function exc_info>
             │       │      └ <module 'sys' (built-in)>
             │       └ <method 'throw' of 'greenlet.greenlet' objects>
             └ <_AsyncIoGreenlet object at 0x000002257A3BEB80 (otid=0x0000022579295050) dead>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\sqlalchemy\orm\session.py", line 1714, in execute
    result = conn._execute_20(statement, params or {}, execution_options)
             │    │           │          │             └ immutabledict({'prebuffer_rows': True, '_result_disable_adapt_to_context': True, 'future_result': True})
             │    │           │          └ None
             │    │           └ <sqlalchemy.sql.selectable.Select object at 0x000002257A04FD30>
             │    └ <function Connection._execute_20 at 0x0000022579688F70>
             └ <sqlalchemy.future.engine.Connection object at 0x000002257B399300>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\sqlalchemy\engine\base.py", line 1705, in _execute_20
    return meth(self, args_10style, kwargs_10style, execution_options)
           │    │     │             │               └ immutabledict({'prebuffer_rows': True, '_result_disable_adapt_to_context': True, 'future_result': True})
           │    │     │             └ immutabledict({})
           │    │     └ ({},)
           │    └ <sqlalchemy.future.engine.Connection object at 0x000002257B399300>
           └ <bound method ClauseElement._execute_on_connection of <sqlalchemy.sql.selectable.Select object at 0x000002257A04FD30>>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\sqlalchemy\sql\elements.py", line 334, in _execute_on_connection
    return connection._execute_clauseelement(
           │          └ <function Connection._execute_clauseelement at 0x0000022579688DC0>
           └ <sqlalchemy.future.engine.Connection object at 0x000002257B399300>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\sqlalchemy\engine\base.py", line 1572, in _execute_clauseelement
    ret = self._execute_context(
          │    └ <function Connection._execute_context at 0x0000022579689090>
          └ <sqlalchemy.future.engine.Connection object at 0x000002257B399300>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\sqlalchemy\engine\base.py", line 1943, in _execute_context
    self._handle_dbapi_exception(
    │    └ <function Connection._handle_dbapi_exception at 0x0000022579689240>
    └ <sqlalchemy.future.engine.Connection object at 0x000002257B399300>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\sqlalchemy\engine\base.py", line 2124, in _handle_dbapi_exception
    util.raise_(
    │    └ <function raise_ at 0x00000225792A0D30>
    └ <module 'sqlalchemy.util' from 'C:\\Users\\R\\PycharmProjects\\fastapi-react-crm-backend\\venv\\lib\\site-packages\\sqlalchem...

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\sqlalchemy\util\compat.py", line 211, in raise_
    raise exception

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\sqlalchemy\engine\base.py", line 1900, in _execute_context
    self.dialect.do_execute(
    │    │       └ <function DefaultDialect.do_execute at 0x0000022579736290>
    │    └ <sqlalchemy.dialects.postgresql.asyncpg.PGDialect_asyncpg object at 0x0000022579FAFF70>
    └ <sqlalchemy.future.engine.Connection object at 0x000002257B399300>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\sqlalchemy\engine\default.py", line 736, in do_execute
    cursor.execute(statement, parameters)
    │      │       │          └ ('completed%',)
    │      │       └ 'SELECT count(task.id) AS count_1 \nFROM task \nWHERE task.status ILIKE %s'
    │      └ <function AsyncAdapt_asyncpg_cursor.execute at 0x0000022579AE2B90>
    └ <sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_cursor object at 0x000002257A344AC0>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 479, in execute
    self._adapt_connection.await_(
    │    └ <member '_adapt_connection' of 'AsyncAdapt_asyncpg_cursor' objects>
    └ <sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_cursor object at 0x000002257A344AC0>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 68, in await_only
    return current.driver.switch(awaitable)
           │                     └ <coroutine object AsyncAdapt_asyncpg_cursor._prepare_and_execute at 0x000002257A344900>
           └ <_AsyncIoGreenlet object at 0x000002257A3BEB80 (otid=0x0000022579295050) dead>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 121, in greenlet_spawn
    value = await result
                  └ <coroutine object AsyncAdapt_asyncpg_cursor._prepare_and_execute at 0x000002257A344900>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 454, in _prepare_and_execute
    self._handle_exception(error)
    │    └ <function AsyncAdapt_asyncpg_cursor._handle_exception at 0x0000022579AE2950>
    └ <sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_cursor object at 0x000002257A344AC0>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 389, in _handle_exception
    self._adapt_connection._handle_exception(error)
    │    │                                   └ UndefinedFunctionError('operator does not exist: task_status ~~* unknown')
    │    └ <member '_adapt_connection' of 'AsyncAdapt_asyncpg_cursor' objects>
    └ <sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_cursor object at 0x000002257A344AC0>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 682, in _handle_exception
    raise translated_error from error
          │                     └ UndefinedFunctionError('operator does not exist: task_status ~~* unknown')
          └ ProgrammingError("<class 'asyncpg.exceptions.UndefinedFunctionError'>: operator does not exist: task_status ~~* unknown\nHINT...

sqlalchemy.exc.ProgrammingError: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedFunctionError'>: operator does not exist: task_status ~~* unknown
HINT:  No operator matches the given name and argument types. You might need to add explicit type casts.
[SQL: SELECT count(task.id) AS count_1 
FROM task 
WHERE task.status ILIKE %s]
[parameters: ('completed%',)]
(Background on this error at: https://sqlalche.me/e/14/f405)
INFO     2022-12-14 21:33:04.188 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-12-14 21:33:04.188 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-12-14 21:33:04.300 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-12-14 21:33:04.300 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-12-14 21:33:04.301 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-12-14 21:33:04.302 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-12-14 21:33:04.302 request id: app - uvicorn.server:serve - Finished server process [14852]
INFO     2022-12-14 21:33:04.302 request id: app - uvicorn.server:serve - Finished server process [14852]
INFO     2022-12-14 21:33:08.152 request id: app - uvicorn.server:serve - Started server process [9948]
INFO     2022-12-14 21:33:08.153 request id: app - uvicorn.server:serve - Started server process [9948]
INFO     2022-12-14 21:33:08.154 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-12-14 21:33:08.154 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-12-14 21:33:08.155 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-12-14 21:33:08.155 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-12-14 21:33:08.491 request id: app - backend.app.api.deps:get_current_user_async - START
INFO     2022-12-14 21:33:08.494 request id: app - backend.app.api.deps:get_session_user - get_session_user: postgres
INFO     2022-12-14 21:33:08.495 request id: app - backend.app.api.deps:reset_session_user - RESET_session_user
INFO     2022-12-14 21:33:08.499 request id: app - backend.app.api.deps:get_session_user - get_session_user: postgres
INFO     2022-12-14 21:33:08.502 request id: app - backend.app.api.deps:check_rolname - check_rolname: ka52 role exist
INFO     2022-12-14 21:33:08.502 request id: app - backend.app.api.deps:reset_session_user - RESET_session_user
INFO     2022-12-14 21:33:08.505 request id: app - backend.app.api.deps:get_session_user - get_session_user: postgres
INFO     2022-12-14 21:33:08.506 request id: app - backend.app.api.deps:set_session_user - SET_session_user: ka52
INFO     2022-12-14 21:33:08.509 request id: app - backend.app.api.deps:get_session_user - get_session_user: ka52
INFO     2022-12-14 21:33:08.510 request id: app - backend.app.api.deps:get_current_user_async - END
INFO     2022-12-14 21:33:24.252 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-12-14 21:33:24.253 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-12-14 21:33:24.363 request id: app - uvicorn.server:shutdown - Waiting for connections to close. (CTRL+C to force quit)
INFO     2022-12-14 21:33:24.364 request id: app - uvicorn.server:shutdown - Waiting for connections to close. (CTRL+C to force quit)
INFO     2022-12-14 21:33:38.818 request id: app - uvicorn.server:serve - Started server process [26264]
INFO     2022-12-14 21:33:38.819 request id: app - uvicorn.server:serve - Started server process [26264]
INFO     2022-12-14 21:33:38.819 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-12-14 21:33:38.820 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-12-14 21:33:38.821 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-12-14 21:33:38.821 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-12-14 21:33:44.744 request id: app - backend.app.api.deps:get_current_user_async - START
INFO     2022-12-14 21:33:44.747 request id: app - backend.app.api.deps:get_session_user - get_session_user: postgres
INFO     2022-12-14 21:33:44.747 request id: app - backend.app.api.deps:reset_session_user - RESET_session_user
INFO     2022-12-14 21:33:44.750 request id: app - backend.app.api.deps:get_session_user - get_session_user: postgres
INFO     2022-12-14 21:33:44.753 request id: app - backend.app.api.deps:check_rolname - check_rolname: ka52 role exist
INFO     2022-12-14 21:33:44.754 request id: app - backend.app.api.deps:reset_session_user - RESET_session_user
INFO     2022-12-14 21:33:44.756 request id: app - backend.app.api.deps:get_session_user - get_session_user: postgres
INFO     2022-12-14 21:33:44.756 request id: app - backend.app.api.deps:set_session_user - SET_session_user: ka52
INFO     2022-12-14 21:33:44.759 request id: app - backend.app.api.deps:get_session_user - get_session_user: ka52
INFO     2022-12-14 21:33:44.759 request id: app - backend.app.api.deps:get_current_user_async - END
INFO     2022-12-14 21:33:44.792 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:51732 - "GET /api/v1/tasks/?sort=%5B%22id%22%2C%20%22ASC%22%5D&range=%5B0%2C%2010%5D&filter=%7B%22task_status%22%3A%20%22completed%22%7D HTTP/1.1" 500
ERROR    2022-12-14 21:33:44.793 request id: app - uvicorn.protocols.http.h11_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\R\AppData\Local\Programs\Python\Python310\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 320
               │     └ 3
               └ <function _main at 0x0000027087676320>

  File "C:\Users\R\AppData\Local\Programs\Python\Python310\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 320
           │    └ <function BaseProcess._bootstrap at 0x00000270875D4160>
           └ <SpawnProcess name='SpawnProcess-1' parent=6124 started>

  File "C:\Users\R\AppData\Local\Programs\Python\Python310\lib\multiprocessing\process.py", line 314, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x00000270875C7760>
    └ <SpawnProcess name='SpawnProcess-1' parent=6124 started>

  File "C:\Users\R\AppData\Local\Programs\Python\Python310\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x0000027087532D70>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-1' parent=6124 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-1' parent=6124 started>
    │    └ <function subprocess_started at 0x0000027089A14310>
    └ <SpawnProcess name='SpawnProcess-1' parent=6124 started>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\uvicorn\_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=784, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x0000027087533460>>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\uvicorn\server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=784, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 8000)>]
           │       │   │    └ <function Server.serve at 0x00000270899F4EE0>
           │       │   └ <uvicorn.server.Server object at 0x0000027087533460>
           │       └ <function run at 0x0000027089218B80>
           └ <module 'asyncio' from 'C:\\Users\\R\\AppData\\Local\\Programs\\Python\\Python310\\lib\\asyncio\\__init__.py'>

  File "C:\Users\R\AppData\Local\Programs\Python\Python310\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x0000027089A109E0>
           │    └ <function BaseEventLoop.run_until_complete at 0x000002708921A560>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\R\AppData\Local\Programs\Python\Python310\lib\asyncio\base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000002708921A4D0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\R\AppData\Local\Programs\Python\Python310\lib\asyncio\base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000002708921C040>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\R\AppData\Local\Programs\Python\Python310\lib\asyncio\base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x00000270879FF880>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>

  File "C:\Users\R\AppData\Local\Programs\Python\Python310\lib\asyncio\events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>

> File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\uvicorn\protocols\http\h11_impl.py", line 407, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x0000027089A0EA10>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x000002708BF163E0>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x000002708BF16...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x0000027089A74400>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x0000027089A0EA10>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x000002708BF163E0>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x000002708BF16...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x000002708BF163E0>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x000002708BF16...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000002708BE94460>
          └ <fastapi.applications.FastAPI object at 0x0000027089A74400>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\starlette\middleware\errors.py", line 184, in __call__
    raise exc

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\starlette\middleware\errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000002708BF10790>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x000002708BF16...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000002708BE94370>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000002708BE94460>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\starlette\middleware\cors.py", line 84, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000002708BF10790>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x000002708BF16...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000002708BE94340>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000002708BE94370>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\starlette\middleware\exceptions.py", line 79, in __call__
    raise exc

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\starlette\middleware\exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x000002708BF10820>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x000002708BF16...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x000002708BE942E0>
          └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000002708BE94340>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x000002708BF10820>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x000002708BF16...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x000002708BDF88E0>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x000002708BE942E0>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\starlette\routing.py", line 706, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x000002708BF10820>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x000002708BF16...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │     └ <function Route.handle at 0x000002708AE81510>
          └ APIRoute(path='/api/v1/tasks/', name='read_tasks', methods=['GET'])

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\starlette\routing.py", line 276, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x000002708BF10820>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x000002708BF16...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function request_response.<locals>.app at 0x000002708BE87BE0>
          └ APIRoute(path='/api/v1/tasks/', name='read_tasks', methods=['GET'])

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\starlette\routing.py", line 66, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x000002708BF15ED0>
                     └ <function get_request_handler.<locals>.app at 0x000002708BE87B50>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\fastapi\routing.py", line 225, in app
    solved_result = await solve_dependencies(
                          └ <function solve_dependencies at 0x000002708AE5B9A0>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\fastapi\dependencies\utils.py", line 535, in solve_dependencies
    solved = await run_in_threadpool(call, **sub_values)
                   │                 │       └ {'sort_': '["id", "ASC"]', 'range_': '[0, 10]', 'filter_': '{"task_status": "completed"}'}
                   │                 └ <function parse_react_admin_params.<locals>.inner at 0x000002708BD40790>
                   └ <function run_in_threadpool at 0x0000027089C3D900>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\starlette\concurrency.py", line 41, in run_in_threadpool
    return await anyio.to_thread.run_sync(func, *args)
                 │     │         │        │      └ ()
                 │     │         │        └ functools.partial(<function parse_react_admin_params.<locals>.inner at 0x000002708BD40790>, sort_='["id", "ASC"]', range_='[0...
                 │     │         └ <function run_sync at 0x0000027089C3F5B0>
                 │     └ <module 'anyio.to_thread' from 'C:\\Users\\R\\PycharmProjects\\fastapi-react-crm-backend\\venv\\lib\\site-packages\\anyio\\to...
                 └ <module 'anyio' from 'C:\\Users\\R\\PycharmProjects\\fastapi-react-crm-backend\\venv\\lib\\site-packages\\anyio\\__init__.py'>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\anyio\to_thread.py", line 31, in run_sync
    return await get_asynclib().run_sync_in_worker_thread(
                 └ <function get_asynclib at 0x0000027089C3F010>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\anyio\_backends\_asyncio.py", line 937, in run_sync_in_worker_thread
    return await future
                 └ <Future finished exception=KeyError('task_status')>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\anyio\_backends\_asyncio.py", line 867, in run
    result = context.run(func, *args)
             │       │   │      └ ()
             │       │   └ functools.partial(<function parse_react_admin_params.<locals>.inner at 0x000002708BD40790>, sort_='["id", "ASC"]', range_='[0...
             │       └ <method 'run' of '_contextvars.Context' objects>
             └ <_contextvars.Context object at 0x000002708BCE9500>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\.\backend\app\api\deps.py", line 192, in inner
    fb.append(model.__table__.c[k] == v)
    │  │      │     │         │ │     └ 'completed'
    │  │      │     │         │ └ 'task_status'
    │  │      │     │         └ <property object at 0x000002708B2923E0>
    │  │      │     └ Table('task', MetaData(), Column('id', BigInteger(), table=<task>, primary_key=True, nullable=False), Column('teacher_id', Bi...
    │  │      └ <class 'backend.app.db.models.Task'>
    │  └ <method 'append' of 'list' objects>
    └ []

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\sqlalchemy\sql\base.py", line 1214, in __getitem__
    return self._index[key]
           │    │      └ 'task_status'
           │    └ <member '_index' of 'ColumnCollection' objects>
           └ <sqlalchemy.sql.base.ImmutableColumnCollection object at 0x000002708B85F880>

KeyError: 'task_status'
ERROR    2022-12-14 21:33:44.844 request id: app - uvicorn.protocols.http.h11_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\R\AppData\Local\Programs\Python\Python310\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 320
               │     └ 3
               └ <function _main at 0x0000027087676320>

  File "C:\Users\R\AppData\Local\Programs\Python\Python310\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 320
           │    └ <function BaseProcess._bootstrap at 0x00000270875D4160>
           └ <SpawnProcess name='SpawnProcess-1' parent=6124 started>

  File "C:\Users\R\AppData\Local\Programs\Python\Python310\lib\multiprocessing\process.py", line 314, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x00000270875C7760>
    └ <SpawnProcess name='SpawnProcess-1' parent=6124 started>

  File "C:\Users\R\AppData\Local\Programs\Python\Python310\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x0000027087532D70>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-1' parent=6124 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-1' parent=6124 started>
    │    └ <function subprocess_started at 0x0000027089A14310>
    └ <SpawnProcess name='SpawnProcess-1' parent=6124 started>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\uvicorn\_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=784, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x0000027087533460>>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\uvicorn\server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=784, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 8000)>]
           │       │   │    └ <function Server.serve at 0x00000270899F4EE0>
           │       │   └ <uvicorn.server.Server object at 0x0000027087533460>
           │       └ <function run at 0x0000027089218B80>
           └ <module 'asyncio' from 'C:\\Users\\R\\AppData\\Local\\Programs\\Python\\Python310\\lib\\asyncio\\__init__.py'>

  File "C:\Users\R\AppData\Local\Programs\Python\Python310\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x0000027089A109E0>
           │    └ <function BaseEventLoop.run_until_complete at 0x000002708921A560>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\R\AppData\Local\Programs\Python\Python310\lib\asyncio\base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000002708921A4D0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\R\AppData\Local\Programs\Python\Python310\lib\asyncio\base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000002708921C040>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\R\AppData\Local\Programs\Python\Python310\lib\asyncio\base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x00000270879FF880>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>

  File "C:\Users\R\AppData\Local\Programs\Python\Python310\lib\asyncio\events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>

> File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\uvicorn\protocols\http\h11_impl.py", line 407, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x0000027089A0EA10>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x000002708BF163E0>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x000002708BF16...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x0000027089A74400>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x0000027089A0EA10>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x000002708BF163E0>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x000002708BF16...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x000002708BF163E0>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x000002708BF16...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000002708BE94460>
          └ <fastapi.applications.FastAPI object at 0x0000027089A74400>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\starlette\middleware\errors.py", line 184, in __call__
    raise exc

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\starlette\middleware\errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000002708BF10790>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x000002708BF16...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000002708BE94370>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000002708BE94460>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\starlette\middleware\cors.py", line 84, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000002708BF10790>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x000002708BF16...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000002708BE94340>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000002708BE94370>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\starlette\middleware\exceptions.py", line 79, in __call__
    raise exc

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\starlette\middleware\exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x000002708BF10820>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x000002708BF16...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x000002708BE942E0>
          └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000002708BE94340>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x000002708BF10820>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x000002708BF16...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x000002708BDF88E0>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x000002708BE942E0>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\starlette\routing.py", line 706, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x000002708BF10820>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x000002708BF16...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │     └ <function Route.handle at 0x000002708AE81510>
          └ APIRoute(path='/api/v1/tasks/', name='read_tasks', methods=['GET'])

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\starlette\routing.py", line 276, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x000002708BF10820>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x000002708BF16...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function request_response.<locals>.app at 0x000002708BE87BE0>
          └ APIRoute(path='/api/v1/tasks/', name='read_tasks', methods=['GET'])

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\starlette\routing.py", line 66, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x000002708BF15ED0>
                     └ <function get_request_handler.<locals>.app at 0x000002708BE87B50>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\fastapi\routing.py", line 225, in app
    solved_result = await solve_dependencies(
                          └ <function solve_dependencies at 0x000002708AE5B9A0>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\fastapi\dependencies\utils.py", line 535, in solve_dependencies
    solved = await run_in_threadpool(call, **sub_values)
                   │                 │       └ {'sort_': '["id", "ASC"]', 'range_': '[0, 10]', 'filter_': '{"task_status": "completed"}'}
                   │                 └ <function parse_react_admin_params.<locals>.inner at 0x000002708BD40790>
                   └ <function run_in_threadpool at 0x0000027089C3D900>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\starlette\concurrency.py", line 41, in run_in_threadpool
    return await anyio.to_thread.run_sync(func, *args)
                 │     │         │        │      └ ()
                 │     │         │        └ functools.partial(<function parse_react_admin_params.<locals>.inner at 0x000002708BD40790>, sort_='["id", "ASC"]', range_='[0...
                 │     │         └ <function run_sync at 0x0000027089C3F5B0>
                 │     └ <module 'anyio.to_thread' from 'C:\\Users\\R\\PycharmProjects\\fastapi-react-crm-backend\\venv\\lib\\site-packages\\anyio\\to...
                 └ <module 'anyio' from 'C:\\Users\\R\\PycharmProjects\\fastapi-react-crm-backend\\venv\\lib\\site-packages\\anyio\\__init__.py'>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\anyio\to_thread.py", line 31, in run_sync
    return await get_asynclib().run_sync_in_worker_thread(
                 └ <function get_asynclib at 0x0000027089C3F010>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\anyio\_backends\_asyncio.py", line 937, in run_sync_in_worker_thread
    return await future
                 └ <Future finished exception=KeyError('task_status')>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\anyio\_backends\_asyncio.py", line 867, in run
    result = context.run(func, *args)
             │       │   │      └ ()
             │       │   └ functools.partial(<function parse_react_admin_params.<locals>.inner at 0x000002708BD40790>, sort_='["id", "ASC"]', range_='[0...
             │       └ <method 'run' of '_contextvars.Context' objects>
             └ <_contextvars.Context object at 0x000002708BCE9500>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\.\backend\app\api\deps.py", line 192, in inner
    fb.append(model.__table__.c[k] == v)
    │  │      │     │         │ │     └ 'completed'
    │  │      │     │         │ └ 'task_status'
    │  │      │     │         └ <property object at 0x000002708B2923E0>
    │  │      │     └ Table('task', MetaData(), Column('id', BigInteger(), table=<task>, primary_key=True, nullable=False), Column('teacher_id', Bi...
    │  │      └ <class 'backend.app.db.models.Task'>
    │  └ <method 'append' of 'list' objects>
    └ []

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\sqlalchemy\sql\base.py", line 1214, in __getitem__
    return self._index[key]
           │    │      └ 'task_status'
           │    └ <member '_index' of 'ColumnCollection' objects>
           └ <sqlalchemy.sql.base.ImmutableColumnCollection object at 0x000002708B85F880>

KeyError: 'task_status'
INFO     2022-12-14 21:36:11.985 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-12-14 21:36:11.985 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-12-14 21:36:12.096 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-12-14 21:36:12.096 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-12-14 21:36:12.097 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-12-14 21:36:12.097 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-12-14 21:36:12.098 request id: app - uvicorn.server:serve - Finished server process [26264]
INFO     2022-12-14 21:36:12.098 request id: app - uvicorn.server:serve - Finished server process [26264]
INFO     2022-12-14 21:36:14.275 request id: app - uvicorn.server:serve - Started server process [16268]
INFO     2022-12-14 21:36:14.275 request id: app - uvicorn.server:serve - Started server process [16268]
INFO     2022-12-14 21:36:14.275 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-12-14 21:36:14.276 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-12-14 21:36:14.277 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-12-14 21:36:14.277 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-12-14 21:36:15.762 request id: app - backend.app.api.deps:get_current_user_async - START
INFO     2022-12-14 21:36:15.765 request id: app - backend.app.api.deps:get_session_user - get_session_user: postgres
INFO     2022-12-14 21:36:15.765 request id: app - backend.app.api.deps:reset_session_user - RESET_session_user
INFO     2022-12-14 21:36:15.768 request id: app - backend.app.api.deps:get_session_user - get_session_user: postgres
INFO     2022-12-14 21:36:15.770 request id: app - backend.app.api.deps:check_rolname - check_rolname: ka52 role exist
INFO     2022-12-14 21:36:15.771 request id: app - backend.app.api.deps:reset_session_user - RESET_session_user
INFO     2022-12-14 21:36:15.773 request id: app - backend.app.api.deps:get_session_user - get_session_user: postgres
INFO     2022-12-14 21:36:15.773 request id: app - backend.app.api.deps:set_session_user - SET_session_user: ka52
INFO     2022-12-14 21:36:15.776 request id: app - backend.app.api.deps:get_session_user - get_session_user: ka52
INFO     2022-12-14 21:36:15.777 request id: app - backend.app.api.deps:get_current_user_async - END
INFO     2022-12-14 21:36:15.961 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:51779 - "GET /api/v1/tasks/?sort=%5B%22id%22%2C%20%22ASC%22%5D&range=%5B0%2C%2010%5D&filter=%7B%22status%22%3A%20%22completed%22%7D HTTP/1.1" 200
INFO     2022-12-14 21:36:29.113 request id: app - backend.app.api.deps:get_current_user_async - START
INFO     2022-12-14 21:36:29.115 request id: app - backend.app.api.deps:get_session_user - get_session_user: postgres
INFO     2022-12-14 21:36:29.116 request id: app - backend.app.api.deps:reset_session_user - RESET_session_user
INFO     2022-12-14 21:36:29.119 request id: app - backend.app.api.deps:get_session_user - get_session_user: postgres
INFO     2022-12-14 21:36:29.121 request id: app - backend.app.api.deps:check_rolname - check_rolname: ka52 role exist
INFO     2022-12-14 21:36:29.121 request id: app - backend.app.api.deps:reset_session_user - RESET_session_user
INFO     2022-12-14 21:36:29.124 request id: app - backend.app.api.deps:get_session_user - get_session_user: postgres
INFO     2022-12-14 21:36:29.124 request id: app - backend.app.api.deps:set_session_user - SET_session_user: ka52
INFO     2022-12-14 21:36:29.126 request id: app - backend.app.api.deps:get_session_user - get_session_user: ka52
INFO     2022-12-14 21:36:29.127 request id: app - backend.app.api.deps:get_current_user_async - END
INFO     2022-12-14 21:36:29.131 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:51783 - "GET /api/v1/tasks/?sort=%5B%22id%22%2C%20%22ASC%22%5D&range=%5B0%2C%2010%5D&filter=%7B%22status%22%3A%20%22started%22%7D HTTP/1.1" 200
INFO     2022-12-14 21:36:39.459 request id: app - backend.app.api.deps:get_current_user_async - START
INFO     2022-12-14 21:36:39.461 request id: app - backend.app.api.deps:get_session_user - get_session_user: postgres
INFO     2022-12-14 21:36:39.461 request id: app - backend.app.api.deps:reset_session_user - RESET_session_user
INFO     2022-12-14 21:36:39.463 request id: app - backend.app.api.deps:get_session_user - get_session_user: postgres
INFO     2022-12-14 21:36:39.465 request id: app - backend.app.api.deps:check_rolname - check_rolname: ka52 role exist
INFO     2022-12-14 21:36:39.465 request id: app - backend.app.api.deps:reset_session_user - RESET_session_user
INFO     2022-12-14 21:36:39.467 request id: app - backend.app.api.deps:get_session_user - get_session_user: postgres
INFO     2022-12-14 21:36:39.467 request id: app - backend.app.api.deps:set_session_user - SET_session_user: ka52
INFO     2022-12-14 21:36:39.469 request id: app - backend.app.api.deps:get_session_user - get_session_user: ka52
INFO     2022-12-14 21:36:39.469 request id: app - backend.app.api.deps:get_current_user_async - END
INFO     2022-12-14 21:36:39.488 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:51784 - "GET /api/v1/tasks/?sort=%5B%22id%22%2C%20%22ASC%22%5D&range=%5B0%2C%2010%5D&filter=%7B%22priority%22%3A%20%22started%22%7D HTTP/1.1" 500
ERROR    2022-12-14 21:36:39.489 request id: app - uvicorn.protocols.http.h11_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 442, in _prepare_and_execute
    self._rows = await prepared_stmt.fetch(*parameters)
    │    │             │             │      └ ('started',)
    │    │             │             └ <function PreparedStatement.fetch at 0x00000293A0DE6710>
    │    │             └ <asyncpg.prepared_stmt.PreparedStatement object at 0x00000293A12F36F0>
    │    └ <member '_rows' of 'AsyncAdapt_asyncpg_cursor' objects>
    └ <sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_cursor object at 0x00000293A1326490>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\asyncpg\prepared_stmt.py", line 176, in fetch
    data = await self.__bind_execute(args, 0, timeout)
                 │                   │        └ None
                 │                   └ ('started',)
                 └ <asyncpg.prepared_stmt.PreparedStatement object at 0x00000293A12F36F0>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\asyncpg\prepared_stmt.py", line 241, in __bind_execute
    data, status, _ = await self.__do_execute(
                            └ <asyncpg.prepared_stmt.PreparedStatement object at 0x00000293A12F36F0>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\asyncpg\prepared_stmt.py", line 230, in __do_execute
    return await executor(protocol)
                 │        └ <asyncpg.protocol.protocol.Protocol object at 0x00000293A0B1B1C0>
                 └ <function PreparedStatement.__bind_execute.<locals>.<lambda> at 0x00000293A23FF7F0>

  File "asyncpg\protocol\protocol.pyx", line 201, in bind_execute

asyncpg.exceptions.InvalidTextRepresentationError: invalid input value for enum task_priority: "started"


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\sqlalchemy\engine\base.py", line 1900, in _execute_context
    self.dialect.do_execute(
    │    │       └ <function DefaultDialect.do_execute at 0x00000293A0826290>
    │    └ <sqlalchemy.dialects.postgresql.asyncpg.PGDialect_asyncpg object at 0x00000293A10D0220>
    └ <sqlalchemy.future.engine.Connection object at 0x00000293A23A5E40>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\sqlalchemy\engine\default.py", line 736, in do_execute
    cursor.execute(statement, parameters)
    │      │       │          └ ('started',)
    │      │       └ 'SELECT count(task.id) AS count_1 \nFROM task \nWHERE task.priority = %s'
    │      └ <function AsyncAdapt_asyncpg_cursor.execute at 0x00000293A0BD2B90>
    └ <sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_cursor object at 0x00000293A1326490>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 479, in execute
    self._adapt_connection.await_(
    │    └ <member '_adapt_connection' of 'AsyncAdapt_asyncpg_cursor' objects>
    └ <sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_cursor object at 0x00000293A1326490>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 68, in await_only
    return current.driver.switch(awaitable)
           │                     └ <coroutine object AsyncAdapt_asyncpg_cursor._prepare_and_execute at 0x00000293A1325770>
           └ <_AsyncIoGreenlet object at 0x00000293A2423EC0 (otid=0x00000293A0385050) dead>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 121, in greenlet_spawn
    value = await result
                  └ <coroutine object AsyncAdapt_asyncpg_cursor._prepare_and_execute at 0x00000293A1325770>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 454, in _prepare_and_execute
    self._handle_exception(error)
    │    └ <function AsyncAdapt_asyncpg_cursor._handle_exception at 0x00000293A0BD2950>
    └ <sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_cursor object at 0x00000293A1326490>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 389, in _handle_exception
    self._adapt_connection._handle_exception(error)
    │    │                                   └ InvalidTextRepresentationError('invalid input value for enum task_priority: "started"')
    │    └ <member '_adapt_connection' of 'AsyncAdapt_asyncpg_cursor' objects>
    └ <sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_cursor object at 0x00000293A1326490>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 682, in _handle_exception
    raise translated_error from error
          │                     └ InvalidTextRepresentationError('invalid input value for enum task_priority: "started"')
          └ Error('<class \'asyncpg.exceptions.InvalidTextRepresentationError\'>: invalid input value for enum task_priority: "started"')

sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.Error: <class 'asyncpg.exceptions.InvalidTextRepresentationError'>: invalid input value for enum task_priority: "started"


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\R\AppData\Local\Programs\Python\Python310\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 324
               │     └ 3
               └ <function _main at 0x000002939CA66320>

  File "C:\Users\R\AppData\Local\Programs\Python\Python310\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 324
           │    └ <function BaseProcess._bootstrap at 0x000002939C9C4160>
           └ <SpawnProcess name='SpawnProcess-1' parent=5152 started>

  File "C:\Users\R\AppData\Local\Programs\Python\Python310\lib\multiprocessing\process.py", line 314, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x000002939C9B7760>
    └ <SpawnProcess name='SpawnProcess-1' parent=5152 started>

  File "C:\Users\R\AppData\Local\Programs\Python\Python310\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000002939C922D70>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-1' parent=5152 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-1' parent=5152 started>
    │    └ <function subprocess_started at 0x000002939EE04310>
    └ <SpawnProcess name='SpawnProcess-1' parent=5152 started>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\uvicorn\_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=568, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000002939C923460>>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\uvicorn\server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=568, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 8000)>]
           │       │   │    └ <function Server.serve at 0x000002939EDE4EE0>
           │       │   └ <uvicorn.server.Server object at 0x000002939C923460>
           │       └ <function run at 0x000002939E608B80>
           └ <module 'asyncio' from 'C:\\Users\\R\\AppData\\Local\\Programs\\Python\\Python310\\lib\\asyncio\\__init__.py'>

  File "C:\Users\R\AppData\Local\Programs\Python\Python310\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x000002939EE009E0>
           │    └ <function BaseEventLoop.run_until_complete at 0x000002939E60A560>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\R\AppData\Local\Programs\Python\Python310\lib\asyncio\base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000002939E60A4D0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\R\AppData\Local\Programs\Python\Python310\lib\asyncio\base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000002939E60C040>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\R\AppData\Local\Programs\Python\Python310\lib\asyncio\base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000002939CDEF880>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>

  File "C:\Users\R\AppData\Local\Programs\Python\Python310\lib\asyncio\events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>

> File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\uvicorn\protocols\http\h11_impl.py", line 407, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000002939EDFEA10>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x00000293A10D35B0>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x00000293A10D3...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x000002939EE64400>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000002939EDFEA10>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x00000293A10D35B0>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x00000293A10D3...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x00000293A10D35B0>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x00000293A10D3...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x00000293A12904C0>
          └ <fastapi.applications.FastAPI object at 0x000002939EE64400>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\starlette\middleware\errors.py", line 184, in __call__
    raise exc

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\starlette\middleware\errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x00000293A13144C0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x00000293A10D3...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x00000293A12903D0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x00000293A12904C0>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\starlette\middleware\cors.py", line 84, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x00000293A13144C0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x00000293A10D3...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x00000293A12903A0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x00000293A12903D0>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\starlette\middleware\exceptions.py", line 79, in __call__
    raise exc

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\starlette\middleware\exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x00000293A1314790>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x00000293A10D3...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x00000293A1290340>
          └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x00000293A12903A0>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x00000293A1314790>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x00000293A10D3...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x00000293A11F8940>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x00000293A1290340>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\starlette\routing.py", line 706, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x00000293A1314790>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x00000293A10D3...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │     └ <function Route.handle at 0x00000293A0279510>
          └ APIRoute(path='/api/v1/tasks/', name='read_tasks', methods=['GET'])

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\starlette\routing.py", line 276, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x00000293A1314790>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x00000293A10D3...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function request_response.<locals>.app at 0x00000293A1287BE0>
          └ APIRoute(path='/api/v1/tasks/', name='read_tasks', methods=['GET'])

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\starlette\routing.py", line 66, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x00000293A131A110>
                     └ <function get_request_handler.<locals>.app at 0x00000293A1287B50>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\fastapi\routing.py", line 235, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x00000293A0278160>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\fastapi\routing.py", line 161, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <sqlalchemy.orm.session.AsyncSession object at 0x00000293A1319CF0>, 'current_user': <backend.app.db.models.User object...
                 │         └ <function read_tasks at 0x00000293A1140820>
                 └ <fastapi.dependencies.models.Dependant object at 0x00000293A12F50C0>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\.\backend\app\api\api_v1\endpoints\tasks.py", line 26, in read_tasks
    items, total = await crud.task.get_multi(db, request_params=request_params)
                         │    │    │         │                  └ RequestParams(skip=0, limit=11, order_by=<sqlalchemy.sql.elements.UnaryExpression object at 0x00000293A10D36A0>, filter_by=<s...
                         │    │    │         └ <sqlalchemy.orm.session.AsyncSession object at 0x00000293A1319CF0>
                         │    │    └ <function CRUDBase.get_multi at 0x00000293A0C660E0>
                         │    └ <backend.app.crud.task.CRUDTask object at 0x00000293A10D07F0>
                         └ <module 'backend.app.crud' from 'C:\\Users\\R\\PycharmProjects\\fastapi-react-crm-backend\\.\\backend\\app\\crud\\__init__.py'>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\.\backend\app\crud\base.py", line 46, in get_multi
    total: Result = await db.execute(query_count)
                          │  │       └ <sqlalchemy.sql.selectable.Select object at 0x00000293A131A4D0>
                          │  └ <function AsyncSession.execute at 0x00000293A0B15240>
                          └ <sqlalchemy.orm.session.AsyncSession object at 0x00000293A1319CF0>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\sqlalchemy\ext\asyncio\session.py", line 214, in execute
    result = await greenlet_spawn(
                   └ <function greenlet_spawn at 0x00000293A03CBAC0>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 126, in greenlet_spawn
    result = context.throw(*sys.exc_info())
             │       │      │   └ <built-in function exc_info>
             │       │      └ <module 'sys' (built-in)>
             │       └ <method 'throw' of 'greenlet.greenlet' objects>
             └ <_AsyncIoGreenlet object at 0x00000293A2423EC0 (otid=0x00000293A0385050) dead>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\sqlalchemy\orm\session.py", line 1714, in execute
    result = conn._execute_20(statement, params or {}, execution_options)
             │    │           │          │             └ immutabledict({'prebuffer_rows': True, '_result_disable_adapt_to_context': True, 'future_result': True})
             │    │           │          └ None
             │    │           └ <sqlalchemy.sql.selectable.Select object at 0x00000293A131A4D0>
             │    └ <function Connection._execute_20 at 0x00000293A0778F70>
             └ <sqlalchemy.future.engine.Connection object at 0x00000293A23A5E40>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\sqlalchemy\engine\base.py", line 1705, in _execute_20
    return meth(self, args_10style, kwargs_10style, execution_options)
           │    │     │             │               └ immutabledict({'prebuffer_rows': True, '_result_disable_adapt_to_context': True, 'future_result': True})
           │    │     │             └ immutabledict({})
           │    │     └ ({},)
           │    └ <sqlalchemy.future.engine.Connection object at 0x00000293A23A5E40>
           └ <bound method ClauseElement._execute_on_connection of <sqlalchemy.sql.selectable.Select object at 0x00000293A131A4D0>>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\sqlalchemy\sql\elements.py", line 334, in _execute_on_connection
    return connection._execute_clauseelement(
           │          └ <function Connection._execute_clauseelement at 0x00000293A0778DC0>
           └ <sqlalchemy.future.engine.Connection object at 0x00000293A23A5E40>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\sqlalchemy\engine\base.py", line 1572, in _execute_clauseelement
    ret = self._execute_context(
          │    └ <function Connection._execute_context at 0x00000293A0779090>
          └ <sqlalchemy.future.engine.Connection object at 0x00000293A23A5E40>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\sqlalchemy\engine\base.py", line 1943, in _execute_context
    self._handle_dbapi_exception(
    │    └ <function Connection._handle_dbapi_exception at 0x00000293A0779240>
    └ <sqlalchemy.future.engine.Connection object at 0x00000293A23A5E40>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\sqlalchemy\engine\base.py", line 2124, in _handle_dbapi_exception
    util.raise_(
    │    └ <function raise_ at 0x00000293A0390D30>
    └ <module 'sqlalchemy.util' from 'C:\\Users\\R\\PycharmProjects\\fastapi-react-crm-backend\\venv\\lib\\site-packages\\sqlalchem...

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\sqlalchemy\util\compat.py", line 211, in raise_
    raise exception

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\sqlalchemy\engine\base.py", line 1900, in _execute_context
    self.dialect.do_execute(
    │    │       └ <function DefaultDialect.do_execute at 0x00000293A0826290>
    │    └ <sqlalchemy.dialects.postgresql.asyncpg.PGDialect_asyncpg object at 0x00000293A10D0220>
    └ <sqlalchemy.future.engine.Connection object at 0x00000293A23A5E40>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\sqlalchemy\engine\default.py", line 736, in do_execute
    cursor.execute(statement, parameters)
    │      │       │          └ ('started',)
    │      │       └ 'SELECT count(task.id) AS count_1 \nFROM task \nWHERE task.priority = %s'
    │      └ <function AsyncAdapt_asyncpg_cursor.execute at 0x00000293A0BD2B90>
    └ <sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_cursor object at 0x00000293A1326490>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 479, in execute
    self._adapt_connection.await_(
    │    └ <member '_adapt_connection' of 'AsyncAdapt_asyncpg_cursor' objects>
    └ <sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_cursor object at 0x00000293A1326490>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 68, in await_only
    return current.driver.switch(awaitable)
           │                     └ <coroutine object AsyncAdapt_asyncpg_cursor._prepare_and_execute at 0x00000293A1325770>
           └ <_AsyncIoGreenlet object at 0x00000293A2423EC0 (otid=0x00000293A0385050) dead>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 121, in greenlet_spawn
    value = await result
                  └ <coroutine object AsyncAdapt_asyncpg_cursor._prepare_and_execute at 0x00000293A1325770>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 454, in _prepare_and_execute
    self._handle_exception(error)
    │    └ <function AsyncAdapt_asyncpg_cursor._handle_exception at 0x00000293A0BD2950>
    └ <sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_cursor object at 0x00000293A1326490>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 389, in _handle_exception
    self._adapt_connection._handle_exception(error)
    │    │                                   └ InvalidTextRepresentationError('invalid input value for enum task_priority: "started"')
    │    └ <member '_adapt_connection' of 'AsyncAdapt_asyncpg_cursor' objects>
    └ <sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_cursor object at 0x00000293A1326490>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 682, in _handle_exception
    raise translated_error from error
          │                     └ InvalidTextRepresentationError('invalid input value for enum task_priority: "started"')
          └ Error('<class \'asyncpg.exceptions.InvalidTextRepresentationError\'>: invalid input value for enum task_priority: "started"')

sqlalchemy.exc.DBAPIError: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InvalidTextRepresentationError'>: invalid input value for enum task_priority: "started"
[SQL: SELECT count(task.id) AS count_1 
FROM task 
WHERE task.priority = %s]
[parameters: ('started',)]
(Background on this error at: https://sqlalche.me/e/14/dbapi)
ERROR    2022-12-14 21:36:39.512 request id: app - uvicorn.protocols.http.h11_impl:run_asgi - Exception in ASGI application

Traceback (most recent call last):

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 442, in _prepare_and_execute
    self._rows = await prepared_stmt.fetch(*parameters)
    │    │             │             │      └ ('started',)
    │    │             │             └ <function PreparedStatement.fetch at 0x00000293A0DE6710>
    │    │             └ <asyncpg.prepared_stmt.PreparedStatement object at 0x00000293A12F36F0>
    │    └ <member '_rows' of 'AsyncAdapt_asyncpg_cursor' objects>
    └ <sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_cursor object at 0x00000293A1326490>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\asyncpg\prepared_stmt.py", line 176, in fetch
    data = await self.__bind_execute(args, 0, timeout)
                 │                   │        └ None
                 │                   └ ('started',)
                 └ <asyncpg.prepared_stmt.PreparedStatement object at 0x00000293A12F36F0>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\asyncpg\prepared_stmt.py", line 241, in __bind_execute
    data, status, _ = await self.__do_execute(
                            └ <asyncpg.prepared_stmt.PreparedStatement object at 0x00000293A12F36F0>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\asyncpg\prepared_stmt.py", line 230, in __do_execute
    return await executor(protocol)
                 │        └ <asyncpg.protocol.protocol.Protocol object at 0x00000293A0B1B1C0>
                 └ <function PreparedStatement.__bind_execute.<locals>.<lambda> at 0x00000293A23FF7F0>

  File "asyncpg\protocol\protocol.pyx", line 201, in bind_execute

asyncpg.exceptions.InvalidTextRepresentationError: invalid input value for enum task_priority: "started"


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\sqlalchemy\engine\base.py", line 1900, in _execute_context
    self.dialect.do_execute(
    │    │       └ <function DefaultDialect.do_execute at 0x00000293A0826290>
    │    └ <sqlalchemy.dialects.postgresql.asyncpg.PGDialect_asyncpg object at 0x00000293A10D0220>
    └ <sqlalchemy.future.engine.Connection object at 0x00000293A23A5E40>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\sqlalchemy\engine\default.py", line 736, in do_execute
    cursor.execute(statement, parameters)
    │      │       │          └ ('started',)
    │      │       └ 'SELECT count(task.id) AS count_1 \nFROM task \nWHERE task.priority = %s'
    │      └ <function AsyncAdapt_asyncpg_cursor.execute at 0x00000293A0BD2B90>
    └ <sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_cursor object at 0x00000293A1326490>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 479, in execute
    self._adapt_connection.await_(
    │    └ <member '_adapt_connection' of 'AsyncAdapt_asyncpg_cursor' objects>
    └ <sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_cursor object at 0x00000293A1326490>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 68, in await_only
    return current.driver.switch(awaitable)
           │                     └ <coroutine object AsyncAdapt_asyncpg_cursor._prepare_and_execute at 0x00000293A1325770>
           └ <_AsyncIoGreenlet object at 0x00000293A2423EC0 (otid=0x00000293A0385050) dead>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 121, in greenlet_spawn
    value = await result
                  └ <coroutine object AsyncAdapt_asyncpg_cursor._prepare_and_execute at 0x00000293A1325770>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 454, in _prepare_and_execute
    self._handle_exception(error)
    │    └ <function AsyncAdapt_asyncpg_cursor._handle_exception at 0x00000293A0BD2950>
    └ <sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_cursor object at 0x00000293A1326490>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 389, in _handle_exception
    self._adapt_connection._handle_exception(error)
    │    │                                   └ InvalidTextRepresentationError('invalid input value for enum task_priority: "started"')
    │    └ <member '_adapt_connection' of 'AsyncAdapt_asyncpg_cursor' objects>
    └ <sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_cursor object at 0x00000293A1326490>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 682, in _handle_exception
    raise translated_error from error
          │                     └ InvalidTextRepresentationError('invalid input value for enum task_priority: "started"')
          └ Error('<class \'asyncpg.exceptions.InvalidTextRepresentationError\'>: invalid input value for enum task_priority: "started"')

sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.Error: <class 'asyncpg.exceptions.InvalidTextRepresentationError'>: invalid input value for enum task_priority: "started"


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\R\AppData\Local\Programs\Python\Python310\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 324
               │     └ 3
               └ <function _main at 0x000002939CA66320>

  File "C:\Users\R\AppData\Local\Programs\Python\Python310\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 324
           │    └ <function BaseProcess._bootstrap at 0x000002939C9C4160>
           └ <SpawnProcess name='SpawnProcess-1' parent=5152 started>

  File "C:\Users\R\AppData\Local\Programs\Python\Python310\lib\multiprocessing\process.py", line 314, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x000002939C9B7760>
    └ <SpawnProcess name='SpawnProcess-1' parent=5152 started>

  File "C:\Users\R\AppData\Local\Programs\Python\Python310\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000002939C922D70>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-1' parent=5152 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-1' parent=5152 started>
    │    └ <function subprocess_started at 0x000002939EE04310>
    └ <SpawnProcess name='SpawnProcess-1' parent=5152 started>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\uvicorn\_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=568, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000002939C923460>>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\uvicorn\server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=568, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 8000)>]
           │       │   │    └ <function Server.serve at 0x000002939EDE4EE0>
           │       │   └ <uvicorn.server.Server object at 0x000002939C923460>
           │       └ <function run at 0x000002939E608B80>
           └ <module 'asyncio' from 'C:\\Users\\R\\AppData\\Local\\Programs\\Python\\Python310\\lib\\asyncio\\__init__.py'>

  File "C:\Users\R\AppData\Local\Programs\Python\Python310\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x000002939EE009E0>
           │    └ <function BaseEventLoop.run_until_complete at 0x000002939E60A560>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\R\AppData\Local\Programs\Python\Python310\lib\asyncio\base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000002939E60A4D0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\R\AppData\Local\Programs\Python\Python310\lib\asyncio\base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000002939E60C040>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\R\AppData\Local\Programs\Python\Python310\lib\asyncio\base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000002939CDEF880>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>

  File "C:\Users\R\AppData\Local\Programs\Python\Python310\lib\asyncio\events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>

> File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\uvicorn\protocols\http\h11_impl.py", line 407, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000002939EDFEA10>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x00000293A10D35B0>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x00000293A10D3...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x000002939EE64400>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000002939EDFEA10>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\fastapi\applications.py", line 270, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x00000293A10D35B0>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x00000293A10D3...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\starlette\applications.py", line 124, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x00000293A10D35B0>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x00000293A10D3...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x00000293A12904C0>
          └ <fastapi.applications.FastAPI object at 0x000002939EE64400>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\starlette\middleware\errors.py", line 184, in __call__
    raise exc

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\starlette\middleware\errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x00000293A13144C0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x00000293A10D3...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x00000293A12903D0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x00000293A12904C0>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\starlette\middleware\cors.py", line 84, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x00000293A13144C0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x00000293A10D3...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x00000293A12903A0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x00000293A12903D0>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\starlette\middleware\exceptions.py", line 79, in __call__
    raise exc

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\starlette\middleware\exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x00000293A1314790>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x00000293A10D3...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x00000293A1290340>
          └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x00000293A12903A0>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 21, in __call__
    raise e

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x00000293A1314790>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x00000293A10D3...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x00000293A11F8940>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x00000293A1290340>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\starlette\routing.py", line 706, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x00000293A1314790>
          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x00000293A10D3...
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │     └ <function Route.handle at 0x00000293A0279510>
          └ APIRoute(path='/api/v1/tasks/', name='read_tasks', methods=['GET'])

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\starlette\routing.py", line 276, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x00000293A1314790>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x00000293A10D3...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function request_response.<locals>.app at 0x00000293A1287BE0>
          └ APIRoute(path='/api/v1/tasks/', name='read_tasks', methods=['GET'])

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\starlette\routing.py", line 66, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x00000293A131A110>
                     └ <function get_request_handler.<locals>.app at 0x00000293A1287B50>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\fastapi\routing.py", line 235, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x00000293A0278160>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\fastapi\routing.py", line 161, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <sqlalchemy.orm.session.AsyncSession object at 0x00000293A1319CF0>, 'current_user': <backend.app.db.models.User object...
                 │         └ <function read_tasks at 0x00000293A1140820>
                 └ <fastapi.dependencies.models.Dependant object at 0x00000293A12F50C0>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\.\backend\app\api\api_v1\endpoints\tasks.py", line 26, in read_tasks
    items, total = await crud.task.get_multi(db, request_params=request_params)
                         │    │    │         │                  └ RequestParams(skip=0, limit=11, order_by=<sqlalchemy.sql.elements.UnaryExpression object at 0x00000293A10D36A0>, filter_by=<s...
                         │    │    │         └ <sqlalchemy.orm.session.AsyncSession object at 0x00000293A1319CF0>
                         │    │    └ <function CRUDBase.get_multi at 0x00000293A0C660E0>
                         │    └ <backend.app.crud.task.CRUDTask object at 0x00000293A10D07F0>
                         └ <module 'backend.app.crud' from 'C:\\Users\\R\\PycharmProjects\\fastapi-react-crm-backend\\.\\backend\\app\\crud\\__init__.py'>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\.\backend\app\crud\base.py", line 46, in get_multi
    total: Result = await db.execute(query_count)
                          │  │       └ <sqlalchemy.sql.selectable.Select object at 0x00000293A131A4D0>
                          │  └ <function AsyncSession.execute at 0x00000293A0B15240>
                          └ <sqlalchemy.orm.session.AsyncSession object at 0x00000293A1319CF0>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\sqlalchemy\ext\asyncio\session.py", line 214, in execute
    result = await greenlet_spawn(
                   └ <function greenlet_spawn at 0x00000293A03CBAC0>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 126, in greenlet_spawn
    result = context.throw(*sys.exc_info())
             │       │      │   └ <built-in function exc_info>
             │       │      └ <module 'sys' (built-in)>
             │       └ <method 'throw' of 'greenlet.greenlet' objects>
             └ <_AsyncIoGreenlet object at 0x00000293A2423EC0 (otid=0x00000293A0385050) dead>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\sqlalchemy\orm\session.py", line 1714, in execute
    result = conn._execute_20(statement, params or {}, execution_options)
             │    │           │          │             └ immutabledict({'prebuffer_rows': True, '_result_disable_adapt_to_context': True, 'future_result': True})
             │    │           │          └ None
             │    │           └ <sqlalchemy.sql.selectable.Select object at 0x00000293A131A4D0>
             │    └ <function Connection._execute_20 at 0x00000293A0778F70>
             └ <sqlalchemy.future.engine.Connection object at 0x00000293A23A5E40>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\sqlalchemy\engine\base.py", line 1705, in _execute_20
    return meth(self, args_10style, kwargs_10style, execution_options)
           │    │     │             │               └ immutabledict({'prebuffer_rows': True, '_result_disable_adapt_to_context': True, 'future_result': True})
           │    │     │             └ immutabledict({})
           │    │     └ ({},)
           │    └ <sqlalchemy.future.engine.Connection object at 0x00000293A23A5E40>
           └ <bound method ClauseElement._execute_on_connection of <sqlalchemy.sql.selectable.Select object at 0x00000293A131A4D0>>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\sqlalchemy\sql\elements.py", line 334, in _execute_on_connection
    return connection._execute_clauseelement(
           │          └ <function Connection._execute_clauseelement at 0x00000293A0778DC0>
           └ <sqlalchemy.future.engine.Connection object at 0x00000293A23A5E40>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\sqlalchemy\engine\base.py", line 1572, in _execute_clauseelement
    ret = self._execute_context(
          │    └ <function Connection._execute_context at 0x00000293A0779090>
          └ <sqlalchemy.future.engine.Connection object at 0x00000293A23A5E40>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\sqlalchemy\engine\base.py", line 1943, in _execute_context
    self._handle_dbapi_exception(
    │    └ <function Connection._handle_dbapi_exception at 0x00000293A0779240>
    └ <sqlalchemy.future.engine.Connection object at 0x00000293A23A5E40>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\sqlalchemy\engine\base.py", line 2124, in _handle_dbapi_exception
    util.raise_(
    │    └ <function raise_ at 0x00000293A0390D30>
    └ <module 'sqlalchemy.util' from 'C:\\Users\\R\\PycharmProjects\\fastapi-react-crm-backend\\venv\\lib\\site-packages\\sqlalchem...

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\sqlalchemy\util\compat.py", line 211, in raise_
    raise exception

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\sqlalchemy\engine\base.py", line 1900, in _execute_context
    self.dialect.do_execute(
    │    │       └ <function DefaultDialect.do_execute at 0x00000293A0826290>
    │    └ <sqlalchemy.dialects.postgresql.asyncpg.PGDialect_asyncpg object at 0x00000293A10D0220>
    └ <sqlalchemy.future.engine.Connection object at 0x00000293A23A5E40>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\sqlalchemy\engine\default.py", line 736, in do_execute
    cursor.execute(statement, parameters)
    │      │       │          └ ('started',)
    │      │       └ 'SELECT count(task.id) AS count_1 \nFROM task \nWHERE task.priority = %s'
    │      └ <function AsyncAdapt_asyncpg_cursor.execute at 0x00000293A0BD2B90>
    └ <sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_cursor object at 0x00000293A1326490>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 479, in execute
    self._adapt_connection.await_(
    │    └ <member '_adapt_connection' of 'AsyncAdapt_asyncpg_cursor' objects>
    └ <sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_cursor object at 0x00000293A1326490>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 68, in await_only
    return current.driver.switch(awaitable)
           │                     └ <coroutine object AsyncAdapt_asyncpg_cursor._prepare_and_execute at 0x00000293A1325770>
           └ <_AsyncIoGreenlet object at 0x00000293A2423EC0 (otid=0x00000293A0385050) dead>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 121, in greenlet_spawn
    value = await result
                  └ <coroutine object AsyncAdapt_asyncpg_cursor._prepare_and_execute at 0x00000293A1325770>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 454, in _prepare_and_execute
    self._handle_exception(error)
    │    └ <function AsyncAdapt_asyncpg_cursor._handle_exception at 0x00000293A0BD2950>
    └ <sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_cursor object at 0x00000293A1326490>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 389, in _handle_exception
    self._adapt_connection._handle_exception(error)
    │    │                                   └ InvalidTextRepresentationError('invalid input value for enum task_priority: "started"')
    │    └ <member '_adapt_connection' of 'AsyncAdapt_asyncpg_cursor' objects>
    └ <sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_cursor object at 0x00000293A1326490>

  File "C:\Users\R\PycharmProjects\fastapi-react-crm-backend\venv\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 682, in _handle_exception
    raise translated_error from error
          │                     └ InvalidTextRepresentationError('invalid input value for enum task_priority: "started"')
          └ Error('<class \'asyncpg.exceptions.InvalidTextRepresentationError\'>: invalid input value for enum task_priority: "started"')

sqlalchemy.exc.DBAPIError: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InvalidTextRepresentationError'>: invalid input value for enum task_priority: "started"
[SQL: SELECT count(task.id) AS count_1 
FROM task 
WHERE task.priority = %s]
[parameters: ('started',)]
(Background on this error at: https://sqlalche.me/e/14/dbapi)
INFO     2022-12-14 21:37:12.584 request id: app - backend.app.api.deps:get_current_user_async - START
INFO     2022-12-14 21:37:12.586 request id: app - backend.app.api.deps:get_session_user - get_session_user: postgres
INFO     2022-12-14 21:37:12.587 request id: app - backend.app.api.deps:reset_session_user - RESET_session_user
INFO     2022-12-14 21:37:12.589 request id: app - backend.app.api.deps:get_session_user - get_session_user: postgres
INFO     2022-12-14 21:37:12.591 request id: app - backend.app.api.deps:check_rolname - check_rolname: ka52 role exist
INFO     2022-12-14 21:37:12.591 request id: app - backend.app.api.deps:reset_session_user - RESET_session_user
INFO     2022-12-14 21:37:12.593 request id: app - backend.app.api.deps:get_session_user - get_session_user: postgres
INFO     2022-12-14 21:37:12.594 request id: app - backend.app.api.deps:set_session_user - SET_session_user: ka52
INFO     2022-12-14 21:37:12.596 request id: app - backend.app.api.deps:get_session_user - get_session_user: ka52
INFO     2022-12-14 21:37:12.596 request id: app - backend.app.api.deps:get_current_user_async - END
INFO     2022-12-14 21:37:12.603 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:51792 - "GET /api/v1/tasks/?sort=%5B%22id%22%2C%20%22ASC%22%5D&range=%5B0%2C%2010%5D&filter=%7B%22priority%22%3A%20%22low%22%7D HTTP/1.1" 200
INFO     2022-12-14 21:38:24.431 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-12-14 21:38:24.431 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-12-14 21:38:24.542 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-12-14 21:38:24.542 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-12-14 21:38:24.543 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-12-14 21:38:24.543 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-12-14 21:38:24.544 request id: app - uvicorn.server:serve - Finished server process [16268]
INFO     2022-12-14 21:38:24.544 request id: app - uvicorn.server:serve - Finished server process [16268]
INFO     2022-12-14 21:38:26.177 request id: app - uvicorn.server:serve - Started server process [25020]
INFO     2022-12-14 21:38:26.178 request id: app - uvicorn.server:serve - Started server process [25020]
INFO     2022-12-14 21:38:26.178 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-12-14 21:38:26.178 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-12-14 21:38:26.179 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-12-14 21:38:26.179 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-12-14 21:38:30.415 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:51812 - "GET /docs HTTP/1.1" 200
INFO     2022-12-14 21:38:30.664 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:51812 - "GET /api/v1/openapi.json HTTP/1.1" 200
INFO     2022-12-14 21:38:59.340 request id: app - uvicorn.server:serve - Started server process [15492]
INFO     2022-12-14 21:38:59.340 request id: app - uvicorn.server:serve - Started server process [15492]
INFO     2022-12-14 21:38:59.341 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-12-14 21:38:59.341 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-12-14 21:38:59.342 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-12-14 21:38:59.342 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-12-14 21:40:28.117 request id: app - uvicorn.server:serve - Started server process [17916]
INFO     2022-12-14 21:40:28.117 request id: app - uvicorn.server:serve - Started server process [17916]
INFO     2022-12-14 21:40:28.118 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-12-14 21:40:28.118 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-12-14 21:40:28.118 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-12-14 21:40:28.118 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-12-14 21:42:32.578 request id: app - uvicorn.server:serve - Started server process [18888]
INFO     2022-12-14 21:42:32.578 request id: app - uvicorn.server:serve - Started server process [18888]
INFO     2022-12-14 21:42:32.578 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-12-14 21:42:32.579 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-12-14 21:42:32.579 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-12-14 21:42:32.579 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-12-14 21:47:01.579 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-12-14 21:47:01.580 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-12-14 21:47:01.689 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-12-14 21:47:01.689 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-12-14 21:47:01.690 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-12-14 21:47:01.690 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-12-14 21:47:01.690 request id: app - uvicorn.server:serve - Finished server process [18888]
INFO     2022-12-14 21:47:01.691 request id: app - uvicorn.server:serve - Finished server process [18888]
INFO     2022-12-14 21:47:18.812 request id: app - uvicorn.server:serve - Started server process [25824]
INFO     2022-12-14 21:47:18.813 request id: app - uvicorn.server:serve - Started server process [25824]
INFO     2022-12-14 21:47:18.813 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-12-14 21:47:18.814 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-12-14 21:47:18.814 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-12-14 21:47:18.815 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-12-14 21:47:20.361 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-12-14 21:47:20.361 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-12-14 21:51:47.741 request id: app - uvicorn.server:serve - Started server process [32520]
INFO     2022-12-14 21:51:47.741 request id: app - uvicorn.server:serve - Started server process [32520]
INFO     2022-12-14 21:51:47.742 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-12-14 21:51:47.742 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-12-14 21:51:47.743 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-12-14 21:51:47.743 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-12-14 21:51:52.598 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-12-14 21:51:52.598 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-12-14 21:51:55.405 request id: app - uvicorn.server:serve - Started server process [25912]
INFO     2022-12-14 21:51:55.406 request id: app - uvicorn.server:serve - Started server process [25912]
INFO     2022-12-14 21:51:55.406 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-12-14 21:51:55.407 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-12-14 21:51:55.407 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-12-14 21:51:55.408 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-12-14 21:51:57.830 request id: app - uvicorn.server:serve - Started server process [30468]
INFO     2022-12-14 21:51:57.830 request id: app - uvicorn.server:serve - Started server process [30468]
INFO     2022-12-14 21:51:57.831 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-12-14 21:51:57.831 request id: app - uvicorn.lifespan.on:startup - Waiting for application startup.
INFO     2022-12-14 21:51:57.832 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-12-14 21:51:57.832 request id: app - uvicorn.lifespan.on:startup - Application startup complete.
INFO     2022-12-14 21:51:58.428 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:52085 - "GET /docs HTTP/1.1" 200
INFO     2022-12-14 21:51:58.634 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:52085 - "GET /api/v1/openapi.json HTTP/1.1" 200
INFO     2022-12-14 21:56:08.600 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:52240 - "OPTIONS /api/v1/users/me HTTP/1.1" 200
INFO     2022-12-14 21:56:08.819 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:52240 - "GET /api/v1/users/me HTTP/1.1" 401
INFO     2022-12-14 21:56:10.517 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:52240 - "OPTIONS /api/v1/users?filter=%7B%7D&range=%5B0%2C9%5D&sort=%5B%22id%22%2C%22ASC%22%5D HTTP/1.1" 200
INFO     2022-12-14 21:56:10.520 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:52240 - "GET /api/v1/users?filter=%7B%7D&range=%5B0%2C9%5D&sort=%5B%22id%22%2C%22ASC%22%5D HTTP/1.1" 307
INFO     2022-12-14 21:56:10.527 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:52240 - "OPTIONS /api/v1/users/?filter=%7B%7D&range=%5B0%2C9%5D&sort=%5B%22id%22%2C%22ASC%22%5D HTTP/1.1" 200
INFO     2022-12-14 21:56:10.533 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:52240 - "GET /api/v1/users/?filter=%7B%7D&range=%5B0%2C9%5D&sort=%5B%22id%22%2C%22ASC%22%5D HTTP/1.1" 401
INFO     2022-12-14 21:56:16.225 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:52244 - "POST /api/v1/login/access-token HTTP/1.1" 200
INFO     2022-12-14 21:56:16.460 request id: app - backend.app.api.deps:get_current_user_async - START
INFO     2022-12-14 21:56:16.463 request id: app - backend.app.api.deps:get_session_user - get_session_user: postgres
INFO     2022-12-14 21:56:16.463 request id: app - backend.app.api.deps:reset_session_user - RESET_session_user
INFO     2022-12-14 21:56:16.466 request id: app - backend.app.api.deps:get_session_user - get_session_user: postgres
INFO     2022-12-14 21:56:16.470 request id: app - backend.app.api.deps:check_rolname - check_rolname: ka52 role exist
INFO     2022-12-14 21:56:16.471 request id: app - backend.app.api.deps:reset_session_user - RESET_session_user
INFO     2022-12-14 21:56:16.474 request id: app - backend.app.api.deps:get_session_user - get_session_user: postgres
INFO     2022-12-14 21:56:16.474 request id: app - backend.app.api.deps:set_session_user - SET_session_user: ka52
INFO     2022-12-14 21:56:16.477 request id: app - backend.app.api.deps:get_session_user - get_session_user: ka52
INFO     2022-12-14 21:56:16.478 request id: app - backend.app.api.deps:get_current_user_async - END
INFO     2022-12-14 21:56:16.485 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:52244 - "GET /api/v1/users/me HTTP/1.1" 200
INFO     2022-12-14 21:56:18.682 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:52244 - "OPTIONS /api/v1/users/role/client_base?filter=%7B%7D&range=%5B0%2C9%5D&sort=%5B%22id%22%2C%22ASC%22%5D HTTP/1.1" 200
INFO     2022-12-14 21:56:18.688 request id: app - backend.app.api.deps:get_current_user_async - START
INFO     2022-12-14 21:56:18.689 request id: app - backend.app.api.deps:get_session_user - get_session_user: postgres
INFO     2022-12-14 21:56:18.689 request id: app - backend.app.api.deps:reset_session_user - RESET_session_user
INFO     2022-12-14 21:56:18.691 request id: app - backend.app.api.deps:get_session_user - get_session_user: postgres
INFO     2022-12-14 21:56:18.693 request id: app - backend.app.api.deps:check_rolname - check_rolname: ka52 role exist
INFO     2022-12-14 21:56:18.693 request id: app - backend.app.api.deps:reset_session_user - RESET_session_user
INFO     2022-12-14 21:56:18.695 request id: app - backend.app.api.deps:get_session_user - get_session_user: postgres
INFO     2022-12-14 21:56:18.696 request id: app - backend.app.api.deps:set_session_user - SET_session_user: ka52
INFO     2022-12-14 21:56:18.698 request id: app - backend.app.api.deps:get_session_user - get_session_user: ka52
INFO     2022-12-14 21:56:18.698 request id: app - backend.app.api.deps:get_current_user_async - END
INFO     2022-12-14 21:56:18.700 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:52244 - "GET /api/v1/users/role/client_base?filter=%7B%7D&range=%5B0%2C9%5D&sort=%5B%22id%22%2C%22ASC%22%5D HTTP/1.1" 200
INFO     2022-12-14 21:56:19.913 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:52244 - "OPTIONS /api/v1/tasks?filter=%7B%7D&range=%5B0%2C9%5D&sort=%5B%22id%22%2C%22ASC%22%5D HTTP/1.1" 200
INFO     2022-12-14 21:56:19.915 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:52244 - "GET /api/v1/tasks?filter=%7B%7D&range=%5B0%2C9%5D&sort=%5B%22id%22%2C%22ASC%22%5D HTTP/1.1" 307
INFO     2022-12-14 21:56:19.921 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:52244 - "OPTIONS /api/v1/tasks/?filter=%7B%7D&range=%5B0%2C9%5D&sort=%5B%22id%22%2C%22ASC%22%5D HTTP/1.1" 200
INFO     2022-12-14 21:56:19.926 request id: app - backend.app.api.deps:get_current_user_async - START
INFO     2022-12-14 21:56:19.928 request id: app - backend.app.api.deps:get_session_user - get_session_user: postgres
INFO     2022-12-14 21:56:19.928 request id: app - backend.app.api.deps:reset_session_user - RESET_session_user
INFO     2022-12-14 21:56:19.930 request id: app - backend.app.api.deps:get_session_user - get_session_user: postgres
INFO     2022-12-14 21:56:19.932 request id: app - backend.app.api.deps:check_rolname - check_rolname: ka52 role exist
INFO     2022-12-14 21:56:19.932 request id: app - backend.app.api.deps:reset_session_user - RESET_session_user
INFO     2022-12-14 21:56:19.934 request id: app - backend.app.api.deps:get_session_user - get_session_user: postgres
INFO     2022-12-14 21:56:19.934 request id: app - backend.app.api.deps:set_session_user - SET_session_user: ka52
INFO     2022-12-14 21:56:19.937 request id: app - backend.app.api.deps:get_session_user - get_session_user: ka52
INFO     2022-12-14 21:56:19.937 request id: app - backend.app.api.deps:get_current_user_async - END
INFO     2022-12-14 21:56:20.844 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:52244 - "GET /api/v1/tasks/?filter=%7B%7D&range=%5B0%2C9%5D&sort=%5B%22id%22%2C%22ASC%22%5D HTTP/1.1" 200
INFO     2022-12-14 21:56:27.628 request id: app - backend.app.api.deps:get_current_user_async - START
INFO     2022-12-14 21:56:27.630 request id: app - backend.app.api.deps:get_session_user - get_session_user: postgres
INFO     2022-12-14 21:56:27.630 request id: app - backend.app.api.deps:reset_session_user - RESET_session_user
INFO     2022-12-14 21:56:27.632 request id: app - backend.app.api.deps:get_session_user - get_session_user: postgres
INFO     2022-12-14 21:56:27.634 request id: app - backend.app.api.deps:check_rolname - check_rolname: ka52 role exist
INFO     2022-12-14 21:56:27.634 request id: app - backend.app.api.deps:reset_session_user - RESET_session_user
INFO     2022-12-14 21:56:27.636 request id: app - backend.app.api.deps:get_session_user - get_session_user: postgres
INFO     2022-12-14 21:56:27.637 request id: app - backend.app.api.deps:set_session_user - SET_session_user: ka52
INFO     2022-12-14 21:56:27.639 request id: app - backend.app.api.deps:get_session_user - get_session_user: ka52
INFO     2022-12-14 21:56:27.640 request id: app - backend.app.api.deps:get_current_user_async - END
INFO     2022-12-14 21:56:27.641 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:52256 - "GET /api/v1/users/role/client_base?filter=%7B%7D&range=%5B0%2C9%5D&sort=%5B%22id%22%2C%22ASC%22%5D HTTP/1.1" 200
INFO     2022-12-14 21:56:28.689 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:52256 - "OPTIONS /api/v1/users?filter=%7B%7D&range=%5B0%2C24%5D&sort=%5B%22id%22%2C%22DESC%22%5D HTTP/1.1" 200
INFO     2022-12-14 21:56:28.691 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:52256 - "GET /api/v1/users?filter=%7B%7D&range=%5B0%2C24%5D&sort=%5B%22id%22%2C%22DESC%22%5D HTTP/1.1" 307
INFO     2022-12-14 21:56:28.693 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:52257 - "OPTIONS /api/v1/users/role/client_base?filter=%7B%7D&range=%5B0%2C24%5D&sort=%5B%22id%22%2C%22DESC%22%5D HTTP/1.1" 200
INFO     2022-12-14 21:56:28.695 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:52257 - "OPTIONS /api/v1/users/role/manager_base?filter=%7B%7D&range=%5B0%2C24%5D&sort=%5B%22id%22%2C%22DESC%22%5D HTTP/1.1" 200
INFO     2022-12-14 21:56:28.696 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:52257 - "OPTIONS /api/v1/users/role/employees?filter=%7B%7D&range=%5B0%2C24%5D&sort=%5B%22id%22%2C%22DESC%22%5D HTTP/1.1" 200
INFO     2022-12-14 21:56:28.700 request id: app - backend.app.api.deps:get_current_user_async - START
INFO     2022-12-14 21:56:28.702 request id: app - backend.app.api.deps:get_session_user - get_session_user: postgres
INFO     2022-12-14 21:56:28.702 request id: app - backend.app.api.deps:reset_session_user - RESET_session_user
INFO     2022-12-14 21:56:28.705 request id: app - backend.app.api.deps:get_session_user - get_session_user: postgres
INFO     2022-12-14 21:56:28.706 request id: app - backend.app.api.deps:check_rolname - check_rolname: ka52 role exist
INFO     2022-12-14 21:56:28.706 request id: app - backend.app.api.deps:reset_session_user - RESET_session_user
INFO     2022-12-14 21:56:28.709 request id: app - backend.app.api.deps:get_session_user - get_session_user: postgres
INFO     2022-12-14 21:56:28.709 request id: app - backend.app.api.deps:set_session_user - SET_session_user: ka52
INFO     2022-12-14 21:56:28.711 request id: app - backend.app.api.deps:get_session_user - get_session_user: ka52
INFO     2022-12-14 21:56:28.712 request id: app - backend.app.api.deps:get_current_user_async - END
INFO     2022-12-14 21:56:28.713 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:52257 - "GET /api/v1/users/role/client_base?filter=%7B%7D&range=%5B0%2C24%5D&sort=%5B%22id%22%2C%22DESC%22%5D HTTP/1.1" 200
INFO     2022-12-14 21:56:28.783 request id: app - backend.app.api.deps:get_current_user_async - START
INFO     2022-12-14 21:56:28.785 request id: app - backend.app.api.deps:get_session_user - get_session_user: postgres
INFO     2022-12-14 21:56:28.785 request id: app - backend.app.api.deps:reset_session_user - RESET_session_user
INFO     2022-12-14 21:56:28.789 request id: app - backend.app.api.deps:get_session_user - get_session_user: postgres
INFO     2022-12-14 21:56:28.791 request id: app - backend.app.api.deps:check_rolname - check_rolname: ka52 role exist
INFO     2022-12-14 21:56:28.791 request id: app - backend.app.api.deps:reset_session_user - RESET_session_user
INFO     2022-12-14 21:56:28.794 request id: app - backend.app.api.deps:get_session_user - get_session_user: postgres
INFO     2022-12-14 21:56:28.794 request id: app - backend.app.api.deps:set_session_user - SET_session_user: ka52
INFO     2022-12-14 21:56:28.797 request id: app - backend.app.api.deps:get_session_user - get_session_user: ka52
INFO     2022-12-14 21:56:28.798 request id: app - backend.app.api.deps:get_current_user_async - END
INFO     2022-12-14 21:56:28.799 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:52256 - "GET /api/v1/users/role/employees?filter=%7B%7D&range=%5B0%2C24%5D&sort=%5B%22id%22%2C%22DESC%22%5D HTTP/1.1" 200
INFO     2022-12-14 21:56:28.802 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:52256 - "OPTIONS /api/v1/users/?filter=%7B%7D&range=%5B0%2C24%5D&sort=%5B%22id%22%2C%22DESC%22%5D HTTP/1.1" 200
INFO     2022-12-14 21:56:28.808 request id: app - backend.app.api.deps:get_current_user_async - START
INFO     2022-12-14 21:56:28.810 request id: app - backend.app.api.deps:get_session_user - get_session_user: postgres
INFO     2022-12-14 21:56:28.810 request id: app - backend.app.api.deps:reset_session_user - RESET_session_user
INFO     2022-12-14 21:56:28.813 request id: app - backend.app.api.deps:get_session_user - get_session_user: postgres
INFO     2022-12-14 21:56:28.815 request id: app - backend.app.api.deps:check_rolname - check_rolname: ka52 role exist
INFO     2022-12-14 21:56:28.815 request id: app - backend.app.api.deps:reset_session_user - RESET_session_user
INFO     2022-12-14 21:56:28.817 request id: app - backend.app.api.deps:get_session_user - get_session_user: postgres
INFO     2022-12-14 21:56:28.818 request id: app - backend.app.api.deps:set_session_user - SET_session_user: ka52
INFO     2022-12-14 21:56:28.820 request id: app - backend.app.api.deps:get_session_user - get_session_user: ka52
INFO     2022-12-14 21:56:28.820 request id: app - backend.app.api.deps:get_current_user_async - END
INFO     2022-12-14 21:56:28.831 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:52256 - "GET /api/v1/users/?filter=%7B%7D&range=%5B0%2C24%5D&sort=%5B%22id%22%2C%22DESC%22%5D HTTP/1.1" 200
INFO     2022-12-14 21:56:28.878 request id: app - backend.app.api.deps:get_current_user_async - START
INFO     2022-12-14 21:56:28.880 request id: app - backend.app.api.deps:get_session_user - get_session_user: postgres
INFO     2022-12-14 21:56:28.881 request id: app - backend.app.api.deps:reset_session_user - RESET_session_user
INFO     2022-12-14 21:56:28.884 request id: app - backend.app.api.deps:get_session_user - get_session_user: postgres
INFO     2022-12-14 21:56:28.887 request id: app - backend.app.api.deps:check_rolname - check_rolname: ka52 role exist
INFO     2022-12-14 21:56:28.887 request id: app - backend.app.api.deps:reset_session_user - RESET_session_user
INFO     2022-12-14 21:56:28.891 request id: app - backend.app.api.deps:get_session_user - get_session_user: postgres
INFO     2022-12-14 21:56:28.891 request id: app - backend.app.api.deps:set_session_user - SET_session_user: ka52
INFO     2022-12-14 21:56:28.896 request id: app - backend.app.api.deps:get_session_user - get_session_user: ka52
INFO     2022-12-14 21:56:28.897 request id: app - backend.app.api.deps:get_current_user_async - END
INFO     2022-12-14 21:56:28.898 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:52257 - "GET /api/v1/users/role/manager_base?filter=%7B%7D&range=%5B0%2C24%5D&sort=%5B%22id%22%2C%22DESC%22%5D HTTP/1.1" 200
INFO     2022-12-14 21:56:29.600 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:52257 - "OPTIONS /api/v1/companies?filter=%7B%7D&range=%5B0%2C9%5D&sort=%5B%22id%22%2C%22ASC%22%5D HTTP/1.1" 200
INFO     2022-12-14 21:56:29.602 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:52257 - "GET /api/v1/companies?filter=%7B%7D&range=%5B0%2C9%5D&sort=%5B%22id%22%2C%22ASC%22%5D HTTP/1.1" 404
INFO     2022-12-14 21:56:30.778 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:52257 - "GET /api/v1/tasks?filter=%7B%7D&range=%5B0%2C9%5D&sort=%5B%22id%22%2C%22ASC%22%5D HTTP/1.1" 307
INFO     2022-12-14 21:56:30.857 request id: app - backend.app.api.deps:get_current_user_async - START
INFO     2022-12-14 21:56:30.860 request id: app - backend.app.api.deps:get_session_user - get_session_user: postgres
INFO     2022-12-14 21:56:30.860 request id: app - backend.app.api.deps:reset_session_user - RESET_session_user
INFO     2022-12-14 21:56:30.862 request id: app - backend.app.api.deps:get_session_user - get_session_user: postgres
INFO     2022-12-14 21:56:30.865 request id: app - backend.app.api.deps:check_rolname - check_rolname: ka52 role exist
INFO     2022-12-14 21:56:30.865 request id: app - backend.app.api.deps:reset_session_user - RESET_session_user
INFO     2022-12-14 21:56:30.869 request id: app - backend.app.api.deps:get_session_user - get_session_user: postgres
INFO     2022-12-14 21:56:30.869 request id: app - backend.app.api.deps:set_session_user - SET_session_user: ka52
INFO     2022-12-14 21:56:30.873 request id: app - backend.app.api.deps:get_session_user - get_session_user: ka52
INFO     2022-12-14 21:56:30.873 request id: app - backend.app.api.deps:get_current_user_async - END
INFO     2022-12-14 21:56:30.881 request id: app - uvicorn.protocols.http.h11_impl:send - 127.0.0.1:52257 - "GET /api/v1/tasks/?filter=%7B%7D&range=%5B0%2C9%5D&sort=%5B%22id%22%2C%22ASC%22%5D HTTP/1.1" 200
INFO     2022-12-14 21:56:52.290 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-12-14 21:56:52.290 request id: app - uvicorn.server:shutdown - Shutting down
INFO     2022-12-14 21:56:52.400 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-12-14 21:56:52.400 request id: app - uvicorn.lifespan.on:shutdown - Waiting for application shutdown.
INFO     2022-12-14 21:56:52.401 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-12-14 21:56:52.401 request id: app - uvicorn.lifespan.on:shutdown - Application shutdown complete.
INFO     2022-12-14 21:56:52.402 request id: app - uvicorn.server:serve - Finished server process [30468]
INFO     2022-12-14 21:56:52.403 request id: app - uvicorn.server:serve - Finished server process [30468]
